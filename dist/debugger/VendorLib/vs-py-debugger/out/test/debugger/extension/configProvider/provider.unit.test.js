// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : new P(function (resolve) {
        resolve(result.value);
      }).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

Object.defineProperty(exports, "__esModule", {
  value: true
}); // tslint:disable:max-func-body-length no-invalid-template-strings no-any no-object-literal-type-assertion

const chai_1 = require("chai");

const path = require("path");

const TypeMoq = require("typemoq");

const vscode_1 = require("vscode");

const invalidPythonPathInDebugger_1 = require("../../../../client/application/diagnostics/checks/invalidPythonPathInDebugger");

const types_1 = require("../../../../client/application/diagnostics/types");

const types_2 = require("../../../../client/common/application/types");

const constants_1 = require("../../../../client/common/constants");

const types_3 = require("../../../../client/common/platform/types");

const types_4 = require("../../../../client/common/process/types");

const types_5 = require("../../../../client/common/types");

const constants_2 = require("../../../../client/debugger/constants");

const configurationProviderUtils_1 = require("../../../../client/debugger/extension/configProviders/configurationProviderUtils");

const pythonV2Provider_1 = require("../../../../client/debugger/extension/configProviders/pythonV2Provider");

const types_6 = require("../../../../client/debugger/extension/configProviders/types");

const types_7 = require("../../../../client/debugger/types");

const contracts_1 = require("../../../../client/interpreter/contracts");

suite('Debugging - Config Provider', () => {
  let serviceContainer;
  let debugProvider;
  let platformService;
  let fileSystem;
  let appShell;
  let pythonExecutionService;
  let logger;
  let helper;
  let diagnosticsService;
  setup(() => {
    serviceContainer = TypeMoq.Mock.ofType();
    debugProvider = new pythonV2Provider_1.PythonV2DebugConfigurationProvider(serviceContainer.object);
  });

  function createMoqWorkspaceFolder(folderPath) {
    const folder = TypeMoq.Mock.ofType();
    folder.setup(f => f.uri).returns(() => vscode_1.Uri.file(folderPath));
    return folder.object;
  }

  function setupIoc(pythonPath, isWindows = false, isMac = false, isLinux = false) {
    const confgService = TypeMoq.Mock.ofType();
    platformService = TypeMoq.Mock.ofType();
    fileSystem = TypeMoq.Mock.ofType();
    appShell = TypeMoq.Mock.ofType();
    logger = TypeMoq.Mock.ofType();
    diagnosticsService = TypeMoq.Mock.ofType();
    pythonExecutionService = TypeMoq.Mock.ofType();
    helper = TypeMoq.Mock.ofType();
    pythonExecutionService.setup(x => x.then).returns(() => undefined);
    const factory = TypeMoq.Mock.ofType();
    factory.setup(f => f.create(TypeMoq.It.isAny())).returns(() => Promise.resolve(pythonExecutionService.object));
    helper.setup(h => h.getInterpreterInformation(TypeMoq.It.isAny())).returns(() => Promise.resolve({}));
    diagnosticsService.setup(h => h.validatePythonPath(TypeMoq.It.isAny(), TypeMoq.It.isAny())).returns(() => Promise.resolve(true));
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_4.IPythonExecutionFactory))).returns(() => factory.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_5.IConfigurationService))).returns(() => confgService.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_3.IPlatformService))).returns(() => platformService.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_3.IFileSystem))).returns(() => fileSystem.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_2.IApplicationShell))).returns(() => appShell.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_6.IConfigurationProviderUtils))).returns(() => new configurationProviderUtils_1.ConfigurationProviderUtils(serviceContainer.object));
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_5.ILogger))).returns(() => logger.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(contracts_1.IInterpreterHelper))).returns(() => helper.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_1.IDiagnosticsService), TypeMoq.It.isValue(invalidPythonPathInDebugger_1.InvalidPythonPathInDebuggerServiceId))).returns(() => diagnosticsService.object);
    const settings = TypeMoq.Mock.ofType();
    settings.setup(s => s.pythonPath).returns(() => pythonPath);
    confgService.setup(c => c.getSettings(TypeMoq.It.isAny())).returns(() => settings.object);
    setupOs(isWindows, isMac, isLinux);
  }

  function setupActiveEditor(fileName, languageId) {
    const documentManager = TypeMoq.Mock.ofType();

    if (fileName) {
      const textEditor = TypeMoq.Mock.ofType();
      const document = TypeMoq.Mock.ofType();
      document.setup(d => d.languageId).returns(() => languageId);
      document.setup(d => d.fileName).returns(() => fileName);
      textEditor.setup(t => t.document).returns(() => document.object);
      documentManager.setup(d => d.activeTextEditor).returns(() => textEditor.object);
    } else {
      documentManager.setup(d => d.activeTextEditor).returns(() => undefined);
    }

    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_2.IDocumentManager))).returns(() => documentManager.object);
  }

  function setupWorkspaces(folders) {
    const workspaceService = TypeMoq.Mock.ofType();
    const workspaceFolders = folders.map(createMoqWorkspaceFolder);
    workspaceService.setup(w => w.workspaceFolders).returns(() => workspaceFolders);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_2.IWorkspaceService))).returns(() => workspaceService.object);
  }

  function setupOs(isWindows, isMac, isLinux) {
    platformService.setup(p => p.isWindows).returns(() => isWindows);
    platformService.setup(p => p.isMac).returns(() => isMac);
    platformService.setup(p => p.isLinux).returns(() => isLinux);
  }

  test('Defaults should be returned when an empty object is passed with a Workspace Folder and active file', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {});
    chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.above(3);
    chai_1.expect(debugConfig).to.have.property('pythonPath', pythonPath);
    chai_1.expect(debugConfig).to.have.property('type', 'python');
    chai_1.expect(debugConfig).to.have.property('request', 'launch');
    chai_1.expect(debugConfig).to.have.property('program', pythonFile);
    chai_1.expect(debugConfig).to.have.property('cwd');
    chai_1.expect(debugConfig.cwd.toLowerCase()).to.be.equal(__dirname.toLowerCase());
    chai_1.expect(debugConfig).to.have.property('envFile');
    chai_1.expect(debugConfig.envFile.toLowerCase()).to.be.equal(path.join(__dirname, '.env').toLowerCase());
    chai_1.expect(debugConfig).to.have.property('env'); // tslint:disable-next-line:no-any

    chai_1.expect(Object.keys(debugConfig.env)).to.have.lengthOf(0);
  }));
  test('Defaults should be returned when an object with \'noDebug\' property is passed with a Workspace Folder and active file', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
      noDebug: true
    });
    chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.above(3);
    chai_1.expect(debugConfig).to.have.property('pythonPath', pythonPath);
    chai_1.expect(debugConfig).to.have.property('type', 'python');
    chai_1.expect(debugConfig).to.have.property('request', 'launch');
    chai_1.expect(debugConfig).to.have.property('program', pythonFile);
    chai_1.expect(debugConfig).to.have.property('cwd');
    chai_1.expect(debugConfig.cwd.toLowerCase()).to.be.equal(__dirname.toLowerCase());
    chai_1.expect(debugConfig).to.have.property('envFile');
    chai_1.expect(debugConfig.envFile.toLowerCase()).to.be.equal(path.join(__dirname, '.env').toLowerCase());
    chai_1.expect(debugConfig).to.have.property('env'); // tslint:disable-next-line:no-any

    chai_1.expect(Object.keys(debugConfig.env)).to.have.lengthOf(0);
  }));
  test('Defaults should be returned when an empty object is passed without Workspace Folder, no workspaces and active file', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    setupWorkspaces([]);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {});
    const filePath = vscode_1.Uri.file(path.dirname('')).fsPath;
    chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.above(3);
    chai_1.expect(debugConfig).to.have.property('pythonPath', pythonPath);
    chai_1.expect(debugConfig).to.have.property('type', 'python');
    chai_1.expect(debugConfig).to.have.property('request', 'launch');
    chai_1.expect(debugConfig).to.have.property('program', pythonFile);
    chai_1.expect(debugConfig).to.have.property('cwd');
    chai_1.expect(debugConfig.cwd.toLowerCase()).to.be.equal(filePath.toLowerCase());
    chai_1.expect(debugConfig).to.have.property('envFile');
    chai_1.expect(debugConfig.envFile.toLowerCase()).to.be.equal(path.join(filePath, '.env').toLowerCase());
    chai_1.expect(debugConfig).to.have.property('env'); // tslint:disable-next-line:no-any

    chai_1.expect(Object.keys(debugConfig.env)).to.have.lengthOf(0);
  }));
  test('Defaults should be returned when an empty object is passed without Workspace Folder, no workspaces and no active file', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    setupIoc(pythonPath);
    setupActiveEditor(undefined, constants_1.PYTHON_LANGUAGE);
    setupWorkspaces([]);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {});
    chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.above(3);
    chai_1.expect(debugConfig).to.have.property('pythonPath', pythonPath);
    chai_1.expect(debugConfig).to.have.property('type', 'python');
    chai_1.expect(debugConfig).to.have.property('request', 'launch');
    chai_1.expect(debugConfig).to.have.property('program', '');
    chai_1.expect(debugConfig).not.to.have.property('cwd');
    chai_1.expect(debugConfig).not.to.have.property('envFile');
    chai_1.expect(debugConfig).to.have.property('env'); // tslint:disable-next-line:no-any

    chai_1.expect(Object.keys(debugConfig.env)).to.have.lengthOf(0);
  }));
  test('Defaults should be returned when an empty object is passed without Workspace Folder, no workspaces and non python file', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const activeFile = 'xyz.js';
    setupIoc(pythonPath);
    setupActiveEditor(activeFile, 'javascript');
    setupWorkspaces([]);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {});
    chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.above(3);
    chai_1.expect(debugConfig).to.have.property('pythonPath', pythonPath);
    chai_1.expect(debugConfig).to.have.property('type', 'python');
    chai_1.expect(debugConfig).to.have.property('request', 'launch');
    chai_1.expect(debugConfig).to.have.property('program', '');
    chai_1.expect(debugConfig).not.to.have.property('cwd');
    chai_1.expect(debugConfig).not.to.have.property('envFile');
    chai_1.expect(debugConfig).to.have.property('env'); // tslint:disable-next-line:no-any

    chai_1.expect(Object.keys(debugConfig.env)).to.have.lengthOf(0);
  }));
  test('Defaults should be returned when an empty object is passed without Workspace Folder, with a workspace and an active python file', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const activeFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
    const defaultWorkspace = path.join('usr', 'desktop');
    setupWorkspaces([defaultWorkspace]);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {});
    const filePath = vscode_1.Uri.file(defaultWorkspace).fsPath;
    chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.above(3);
    chai_1.expect(debugConfig).to.have.property('pythonPath', pythonPath);
    chai_1.expect(debugConfig).to.have.property('type', 'python');
    chai_1.expect(debugConfig).to.have.property('request', 'launch');
    chai_1.expect(debugConfig).to.have.property('program', activeFile);
    chai_1.expect(debugConfig).to.have.property('cwd');
    chai_1.expect(debugConfig.cwd.toLowerCase()).to.be.equal(filePath.toLowerCase());
    chai_1.expect(debugConfig).to.have.property('envFile');
    chai_1.expect(debugConfig.envFile.toLowerCase()).to.be.equal(path.join(filePath, '.env').toLowerCase());
    chai_1.expect(debugConfig).to.have.property('env'); // tslint:disable-next-line:no-any

    chai_1.expect(Object.keys(debugConfig.env)).to.have.lengthOf(0);
  }));
  test('Ensure `${config:python.pythonPath}` is replaced with actual pythonPath', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const activeFile = 'xyz.py';
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    setupIoc(pythonPath);
    setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
    const defaultWorkspace = path.join('usr', 'desktop');
    setupWorkspaces([defaultWorkspace]);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
      pythonPath: '${config:python.pythonPath}'
    });
    chai_1.expect(debugConfig).to.have.property('pythonPath', pythonPath);
  }));
  test('Ensure hardcoded pythonPath is left unaltered', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const activeFile = 'xyz.py';
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    setupIoc(pythonPath);
    setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
    const defaultWorkspace = path.join('usr', 'desktop');
    setupWorkspaces([defaultWorkspace]);
    const debugPythonPath = `Debug_PythonPath_${new Date().toString()}`;
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
      pythonPath: debugPythonPath
    });
    chai_1.expect(debugConfig).to.have.property('pythonPath', debugPythonPath);
  }));
  test('Test defaults of debugger', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {});
    chai_1.expect(debugConfig).to.have.property('console', 'integratedTerminal');
    chai_1.expect(debugConfig).to.have.property('stopOnEntry', false);
    chai_1.expect(debugConfig).to.have.property('showReturnValue', false);
    chai_1.expect(debugConfig).to.have.property('debugOptions');
    chai_1.expect(debugConfig.debugOptions).to.be.deep.equal([types_7.DebugOptions.RedirectOutput]);
  }));
  test('Test defaults of python debugger', () => __awaiter(void 0, void 0, void 0, function* () {
    if ('python' === constants_2.DebuggerTypeName) {
      return;
    }

    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {});
    chai_1.expect(debugConfig).to.have.property('stopOnEntry', false);
    chai_1.expect(debugConfig).to.have.property('showReturnValue', false);
    chai_1.expect(debugConfig).to.have.property('debugOptions');
    chai_1.expect(debugConfig.debugOptions).to.be.deep.equal([types_7.DebugOptions.RedirectOutput]);
  }));
  test('Test overriding defaults of debugger', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
      redirectOutput: false
    });
    chai_1.expect(debugConfig).to.have.property('console', 'integratedTerminal');
    chai_1.expect(debugConfig).to.have.property('stopOnEntry', false);
    chai_1.expect(debugConfig).to.have.property('showReturnValue', false);
    chai_1.expect(debugConfig).to.have.property('debugOptions');
    chai_1.expect(debugConfig.debugOptions).to.be.deep.equal([]);
  }));

  function testFixFilePathCase(isWindows, isMac, isLinux) {
    return __awaiter(this, void 0, void 0, function* () {
      const pythonPath = `PythonPath_${new Date().toString()}`;
      const workspaceFolder = createMoqWorkspaceFolder(__dirname);
      const pythonFile = 'xyz.py';
      setupIoc(pythonPath, isWindows, isMac, isLinux);
      setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
      const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {});

      if (isWindows) {
        chai_1.expect(debugConfig).to.have.property('debugOptions').contains(types_7.DebugOptions.FixFilePathCase);
      } else {
        chai_1.expect(debugConfig).to.have.property('debugOptions').not.contains(types_7.DebugOptions.FixFilePathCase);
      }
    });
  }

  test('Test fixFilePathCase for Windows', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testFixFilePathCase(true, false, false);
  }));
  test('Test fixFilePathCase for Linux', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testFixFilePathCase(false, false, true);
  }));
  test('Test fixFilePathCase for Mac', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testFixFilePathCase(false, true, false);
  }));

  function testPyramidConfiguration(isWindows, isLinux, isMac, addPyramidDebugOption = true, pyramidExists = true, shouldWork = true) {
    return __awaiter(this, void 0, void 0, function* () {
      const workspacePath = path.join('usr', 'development', 'wksp1');
      const pythonPath = path.join(workspacePath, 'env', 'bin', 'python');
      const pyramidFilePath = path.join(path.dirname(pythonPath), 'lib', 'site_packages', 'pyramid', '__init__.py');
      const pserveFilePath = path.join(path.dirname(pyramidFilePath), 'scripts', 'pserve.py');
      const args = ['-c', 'import pyramid;print(pyramid.__file__)'];
      const workspaceFolder = createMoqWorkspaceFolder(workspacePath);
      const pythonFile = 'xyz.py';
      setupIoc(pythonPath, isWindows, isMac, isLinux);
      setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);

      if (pyramidExists) {
        pythonExecutionService.setup(e => e.exec(TypeMoq.It.isValue(args), TypeMoq.It.isAny())).returns(() => Promise.resolve({
          stdout: pyramidFilePath
        })).verifiable(TypeMoq.Times.exactly(addPyramidDebugOption ? 1 : 0));
      } else {
        pythonExecutionService.setup(e => e.exec(TypeMoq.It.isValue(args), TypeMoq.It.isAny())).returns(() => Promise.reject('No Module Available')).verifiable(TypeMoq.Times.exactly(addPyramidDebugOption ? 1 : 0));
      }

      fileSystem.setup(f => f.fileExists(TypeMoq.It.isValue(pserveFilePath))).returns(() => Promise.resolve(pyramidExists)).verifiable(TypeMoq.Times.exactly(pyramidExists && addPyramidDebugOption ? 1 : 0));
      appShell.setup(a => a.showErrorMessage(TypeMoq.It.isAny())).verifiable(TypeMoq.Times.exactly(pyramidExists || !addPyramidDebugOption ? 0 : 1));
      logger.setup(a => a.logError(TypeMoq.It.isAny(), TypeMoq.It.isAny())).verifiable(TypeMoq.Times.exactly(pyramidExists || !addPyramidDebugOption ? 0 : 1));
      const options = addPyramidDebugOption ? {
        debugOptions: [types_7.DebugOptions.Pyramid],
        pyramid: true
      } : {};
      const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, options);

      if (shouldWork) {
        chai_1.expect(debugConfig).to.have.property('program', pserveFilePath);
        chai_1.expect(debugConfig).to.have.property('debugOptions');
        chai_1.expect(debugConfig.debugOptions).contains(types_7.DebugOptions.Jinja);
      } else {
        chai_1.expect(debugConfig.program).to.be.not.equal(pserveFilePath);
      }

      pythonExecutionService.verifyAll();
      fileSystem.verifyAll();
      appShell.verifyAll();
      logger.verifyAll();
    });
  }

  test('Program is set for Pyramid (windows)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(true, false, false);
  }));
  test('Program is set for Pyramid (Linux)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(false, true, false);
  }));
  test('Program is set for Pyramid (Mac)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(false, false, true);
  }));
  test('Program is not set for Pyramid when DebugOption is not set (windows)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(true, false, false, false, false, false);
  }));
  test('Program is not set for Pyramid when DebugOption is not set (Linux)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(false, true, false, false, false, false);
  }));
  test('Program is not set for Pyramid when DebugOption is not set (Mac)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(false, false, true, false, false, false);
  }));
  test('Message is displayed when pyramid script does not exist (windows)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(true, false, false, true, false, false);
  }));
  test('Message is displayed when pyramid script does not exist (Linux)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(false, true, false, true, false, false);
  }));
  test('Message is displayed when pyramid script does not exist (Mac)', () => __awaiter(void 0, void 0, void 0, function* () {
    yield testPyramidConfiguration(false, false, true, true, false, false);
  }));
  test('Auto detect flask debugging', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
      module: 'flask'
    });
    chai_1.expect(debugConfig).to.have.property('debugOptions');
    chai_1.expect(debugConfig.debugOptions).contains(types_7.DebugOptions.RedirectOutput);
    chai_1.expect(debugConfig.debugOptions).contains(types_7.DebugOptions.Jinja);
  }));
  test('Test validation of Python Path when launching debugger (with invalid python path)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    diagnosticsService.reset();
    diagnosticsService.setup(h => h.validatePythonPath(TypeMoq.It.isValue(pythonPath), TypeMoq.It.isAny())).returns(() => Promise.resolve(false)).verifiable(TypeMoq.Times.once());
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
      redirectOutput: false,
      pythonPath
    });
    diagnosticsService.verifyAll();
    chai_1.expect(debugConfig).to.be.equal(undefined, 'Not undefined');
  }));
  test('Test validation of Python Path when launching debugger (with valid python path)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = `PythonPath_${new Date().toString()}`;
    const workspaceFolder = createMoqWorkspaceFolder(__dirname);
    const pythonFile = 'xyz.py';
    setupIoc(pythonPath);
    setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
    diagnosticsService.reset();
    diagnosticsService.setup(h => h.validatePythonPath(TypeMoq.It.isValue(pythonPath), TypeMoq.It.isAny())).returns(() => Promise.resolve(true)).verifiable(TypeMoq.Times.once());
    const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
      redirectOutput: false,
      pythonPath
    });
    diagnosticsService.verifyAll();
    chai_1.expect(debugConfig).to.not.be.equal(undefined, 'is undefined');
  }));

  function testSetting(requestType, settings, debugOptionName, mustHaveDebugOption) {
    return __awaiter(this, void 0, void 0, function* () {
      setupIoc('pythonPath');
      const debugConfiguration = Object.assign({
        request: requestType,
        type: 'python',
        name: ''
      }, settings);
      const workspaceFolder = createMoqWorkspaceFolder(__dirname);
      const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, debugConfiguration);

      if (mustHaveDebugOption) {
        chai_1.expect(debugConfig.debugOptions).contains(debugOptionName);
      } else {
        chai_1.expect(debugConfig.debugOptions).not.contains(debugOptionName);
      }
    });
  }

  const items = ['launch', 'attach'];
  items.forEach(requestType => {
    test(`Must not contain Sub Process when not specified (${requestType})`, () => __awaiter(void 0, void 0, void 0, function* () {
      yield testSetting(requestType, {}, types_7.DebugOptions.SubProcess, false);
    }));
    test(`Must not contain Sub Process setting=false (${requestType})`, () => __awaiter(void 0, void 0, void 0, function* () {
      yield testSetting(requestType, {
        subProcess: false
      }, types_7.DebugOptions.SubProcess, false);
    }));
    test(`Must not contain Sub Process setting=true (${requestType})`, () => __awaiter(void 0, void 0, void 0, function* () {
      yield testSetting(requestType, {
        subProcess: true
      }, types_7.DebugOptions.SubProcess, true);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3ZpZGVyLnVuaXQudGVzdC5qcyJdLCJuYW1lcyI6WyJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiY2hhaV8xIiwicmVxdWlyZSIsInBhdGgiLCJUeXBlTW9xIiwidnNjb2RlXzEiLCJpbnZhbGlkUHl0aG9uUGF0aEluRGVidWdnZXJfMSIsInR5cGVzXzEiLCJ0eXBlc18yIiwiY29uc3RhbnRzXzEiLCJ0eXBlc18zIiwidHlwZXNfNCIsInR5cGVzXzUiLCJjb25zdGFudHNfMiIsImNvbmZpZ3VyYXRpb25Qcm92aWRlclV0aWxzXzEiLCJweXRob25WMlByb3ZpZGVyXzEiLCJ0eXBlc182IiwidHlwZXNfNyIsImNvbnRyYWN0c18xIiwic3VpdGUiLCJzZXJ2aWNlQ29udGFpbmVyIiwiZGVidWdQcm92aWRlciIsInBsYXRmb3JtU2VydmljZSIsImZpbGVTeXN0ZW0iLCJhcHBTaGVsbCIsInB5dGhvbkV4ZWN1dGlvblNlcnZpY2UiLCJsb2dnZXIiLCJoZWxwZXIiLCJkaWFnbm9zdGljc1NlcnZpY2UiLCJzZXR1cCIsIk1vY2siLCJvZlR5cGUiLCJQeXRob25WMkRlYnVnQ29uZmlndXJhdGlvblByb3ZpZGVyIiwib2JqZWN0IiwiY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyIiwiZm9sZGVyUGF0aCIsImZvbGRlciIsImYiLCJ1cmkiLCJyZXR1cm5zIiwiVXJpIiwiZmlsZSIsInNldHVwSW9jIiwicHl0aG9uUGF0aCIsImlzV2luZG93cyIsImlzTWFjIiwiaXNMaW51eCIsImNvbmZnU2VydmljZSIsIngiLCJ1bmRlZmluZWQiLCJmYWN0b3J5IiwiY3JlYXRlIiwiSXQiLCJpc0FueSIsImgiLCJnZXRJbnRlcnByZXRlckluZm9ybWF0aW9uIiwidmFsaWRhdGVQeXRob25QYXRoIiwiYyIsImdldCIsImlzVmFsdWUiLCJJUHl0aG9uRXhlY3V0aW9uRmFjdG9yeSIsIklDb25maWd1cmF0aW9uU2VydmljZSIsIklQbGF0Zm9ybVNlcnZpY2UiLCJJRmlsZVN5c3RlbSIsIklBcHBsaWNhdGlvblNoZWxsIiwiSUNvbmZpZ3VyYXRpb25Qcm92aWRlclV0aWxzIiwiQ29uZmlndXJhdGlvblByb3ZpZGVyVXRpbHMiLCJJTG9nZ2VyIiwiSUludGVycHJldGVySGVscGVyIiwiSURpYWdub3N0aWNzU2VydmljZSIsIkludmFsaWRQeXRob25QYXRoSW5EZWJ1Z2dlclNlcnZpY2VJZCIsInNldHRpbmdzIiwicyIsImdldFNldHRpbmdzIiwic2V0dXBPcyIsInNldHVwQWN0aXZlRWRpdG9yIiwiZmlsZU5hbWUiLCJsYW5ndWFnZUlkIiwiZG9jdW1lbnRNYW5hZ2VyIiwidGV4dEVkaXRvciIsImRvY3VtZW50IiwiZCIsInQiLCJhY3RpdmVUZXh0RWRpdG9yIiwiSURvY3VtZW50TWFuYWdlciIsInNldHVwV29ya3NwYWNlcyIsImZvbGRlcnMiLCJ3b3Jrc3BhY2VTZXJ2aWNlIiwid29ya3NwYWNlRm9sZGVycyIsIm1hcCIsInciLCJJV29ya3NwYWNlU2VydmljZSIsInAiLCJ0ZXN0IiwiRGF0ZSIsInRvU3RyaW5nIiwid29ya3NwYWNlRm9sZGVyIiwiX19kaXJuYW1lIiwicHl0aG9uRmlsZSIsIlBZVEhPTl9MQU5HVUFHRSIsImRlYnVnQ29uZmlnIiwicmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbiIsImV4cGVjdCIsImtleXMiLCJ0byIsImhhdmUiLCJsZW5ndGhPZiIsImFib3ZlIiwicHJvcGVydHkiLCJjd2QiLCJ0b0xvd2VyQ2FzZSIsImJlIiwiZXF1YWwiLCJlbnZGaWxlIiwiam9pbiIsImVudiIsIm5vRGVidWciLCJmaWxlUGF0aCIsImRpcm5hbWUiLCJmc1BhdGgiLCJub3QiLCJhY3RpdmVGaWxlIiwiZGVmYXVsdFdvcmtzcGFjZSIsImRlYnVnUHl0aG9uUGF0aCIsImRlYnVnT3B0aW9ucyIsImRlZXAiLCJEZWJ1Z09wdGlvbnMiLCJSZWRpcmVjdE91dHB1dCIsIkRlYnVnZ2VyVHlwZU5hbWUiLCJyZWRpcmVjdE91dHB1dCIsInRlc3RGaXhGaWxlUGF0aENhc2UiLCJjb250YWlucyIsIkZpeEZpbGVQYXRoQ2FzZSIsInRlc3RQeXJhbWlkQ29uZmlndXJhdGlvbiIsImFkZFB5cmFtaWREZWJ1Z09wdGlvbiIsInB5cmFtaWRFeGlzdHMiLCJzaG91bGRXb3JrIiwid29ya3NwYWNlUGF0aCIsInB5cmFtaWRGaWxlUGF0aCIsInBzZXJ2ZUZpbGVQYXRoIiwiYXJncyIsImV4ZWMiLCJzdGRvdXQiLCJ2ZXJpZmlhYmxlIiwiVGltZXMiLCJleGFjdGx5IiwiZmlsZUV4aXN0cyIsImEiLCJzaG93RXJyb3JNZXNzYWdlIiwibG9nRXJyb3IiLCJvcHRpb25zIiwiUHlyYW1pZCIsInB5cmFtaWQiLCJKaW5qYSIsInByb2dyYW0iLCJ2ZXJpZnlBbGwiLCJtb2R1bGUiLCJyZXNldCIsIm9uY2UiLCJ0ZXN0U2V0dGluZyIsInJlcXVlc3RUeXBlIiwiZGVidWdPcHRpb25OYW1lIiwibXVzdEhhdmVEZWJ1Z09wdGlvbiIsImRlYnVnQ29uZmlndXJhdGlvbiIsImFzc2lnbiIsInJlcXVlc3QiLCJ0eXBlIiwibmFtZSIsIml0ZW1zIiwiZm9yRWFjaCIsIlN1YlByb2Nlc3MiLCJzdWJQcm9jZXNzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBSUEsU0FBUyxHQUFJLFVBQVEsU0FBS0EsU0FBZCxJQUE0QixVQUFVQyxPQUFWLEVBQW1CQyxVQUFuQixFQUErQkMsQ0FBL0IsRUFBa0NDLFNBQWxDLEVBQTZDO0FBQ3JGLFNBQU8sS0FBS0QsQ0FBQyxLQUFLQSxDQUFDLEdBQUdFLE9BQVQsQ0FBTixFQUF5QixVQUFVQyxPQUFWLEVBQW1CQyxNQUFuQixFQUEyQjtBQUN2RCxhQUFTQyxT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bUwsV0FBVyxDQUFDQyxXQUFELEVBQWMsRUFBZCxFQUFrQi9JLE9BQU8sQ0FBQzZHLFlBQVIsQ0FBcUI0QyxVQUF2QyxFQUFtRCxLQUFuRCxDQUFqQjtBQUNILEtBRnVGLENBQXBGLENBQUo7QUFHQTdFLElBQUFBLElBQUksQ0FBRSwrQ0FBOENtRSxXQUFZLEdBQTVELEVBQWdFLE1BQU1wTCxTQUFTLFNBQU8sS0FBSyxDQUFaLEVBQWUsS0FBSyxDQUFwQixFQUF1QixhQUFhO0FBQ25ILFlBQU1tTCxXQUFXLENBQUNDLFdBQUQsRUFBYztBQUFFVyxRQUFBQSxVQUFVLEVBQUU7QUFBZCxPQUFkLEVBQXFDMUosT0FBTyxDQUFDNkcsWUFBUixDQUFxQjRDLFVBQTFELEVBQXNFLEtBQXRFLENBQWpCO0FBQ0gsS0FGa0YsQ0FBL0UsQ0FBSjtBQUdBN0UsSUFBQUEsSUFBSSxDQUFFLDhDQUE2Q21FLFdBQVksR0FBM0QsRUFBK0QsTUFBTXBMLFNBQVMsU0FBTyxLQUFLLENBQVosRUFBZSxLQUFLLENBQXBCLEVBQXVCLGFBQWE7QUFDbEgsWUFBTW1MLFdBQVcsQ0FBQ0MsV0FBRCxFQUFjO0FBQUVXLFFBQUFBLFVBQVUsRUFBRTtBQUFkLE9BQWQsRUFBb0MxSixPQUFPLENBQUM2RyxZQUFSLENBQXFCNEMsVUFBekQsRUFBcUUsSUFBckUsQ0FBakI7QUFDSCxLQUZpRixDQUE5RSxDQUFKO0FBR0gsR0FWRDtBQVdILENBcGFJLENBQUwiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4ndXNlIHN0cmljdCc7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gdHNsaW50OmRpc2FibGU6bWF4LWZ1bmMtYm9keS1sZW5ndGggbm8taW52YWxpZC10ZW1wbGF0ZS1zdHJpbmdzIG5vLWFueSBuby1vYmplY3QtbGl0ZXJhbC10eXBlLWFzc2VydGlvblxyXG5jb25zdCBjaGFpXzEgPSByZXF1aXJlKFwiY2hhaVwiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBUeXBlTW9xID0gcmVxdWlyZShcInR5cGVtb3FcIik7XHJcbmNvbnN0IHZzY29kZV8xID0gcmVxdWlyZShcInZzY29kZVwiKTtcclxuY29uc3QgaW52YWxpZFB5dGhvblBhdGhJbkRlYnVnZ2VyXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2FwcGxpY2F0aW9uL2RpYWdub3N0aWNzL2NoZWNrcy9pbnZhbGlkUHl0aG9uUGF0aEluRGVidWdnZXJcIik7XHJcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2FwcGxpY2F0aW9uL2RpYWdub3N0aWNzL3R5cGVzXCIpO1xyXG5jb25zdCB0eXBlc18yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9jb21tb24vYXBwbGljYXRpb24vdHlwZXNcIik7XHJcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9jb21tb24vY29uc3RhbnRzXCIpO1xyXG5jb25zdCB0eXBlc18zID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9jb21tb24vcGxhdGZvcm0vdHlwZXNcIik7XHJcbmNvbnN0IHR5cGVzXzQgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2NvbW1vbi9wcm9jZXNzL3R5cGVzXCIpO1xyXG5jb25zdCB0eXBlc181ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9jb21tb24vdHlwZXNcIik7XHJcbmNvbnN0IGNvbnN0YW50c18yID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9kZWJ1Z2dlci9jb25zdGFudHNcIik7XHJcbmNvbnN0IGNvbmZpZ3VyYXRpb25Qcm92aWRlclV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2RlYnVnZ2VyL2V4dGVuc2lvbi9jb25maWdQcm92aWRlcnMvY29uZmlndXJhdGlvblByb3ZpZGVyVXRpbHNcIik7XHJcbmNvbnN0IHB5dGhvblYyUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9jbGllbnQvZGVidWdnZXIvZXh0ZW5zaW9uL2NvbmZpZ1Byb3ZpZGVycy9weXRob25WMlByb3ZpZGVyXCIpO1xyXG5jb25zdCB0eXBlc182ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9kZWJ1Z2dlci9leHRlbnNpb24vY29uZmlnUHJvdmlkZXJzL3R5cGVzXCIpO1xyXG5jb25zdCB0eXBlc183ID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9kZWJ1Z2dlci90eXBlc1wiKTtcclxuY29uc3QgY29udHJhY3RzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2ludGVycHJldGVyL2NvbnRyYWN0c1wiKTtcclxuc3VpdGUoJ0RlYnVnZ2luZyAtIENvbmZpZyBQcm92aWRlcicsICgpID0+IHtcclxuICAgIGxldCBzZXJ2aWNlQ29udGFpbmVyO1xyXG4gICAgbGV0IGRlYnVnUHJvdmlkZXI7XHJcbiAgICBsZXQgcGxhdGZvcm1TZXJ2aWNlO1xyXG4gICAgbGV0IGZpbGVTeXN0ZW07XHJcbiAgICBsZXQgYXBwU2hlbGw7XHJcbiAgICBsZXQgcHl0aG9uRXhlY3V0aW9uU2VydmljZTtcclxuICAgIGxldCBsb2dnZXI7XHJcbiAgICBsZXQgaGVscGVyO1xyXG4gICAgbGV0IGRpYWdub3N0aWNzU2VydmljZTtcclxuICAgIHNldHVwKCgpID0+IHtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGRlYnVnUHJvdmlkZXIgPSBuZXcgcHl0aG9uVjJQcm92aWRlcl8xLlB5dGhvblYyRGVidWdDb25maWd1cmF0aW9uUHJvdmlkZXIoc2VydmljZUNvbnRhaW5lci5vYmplY3QpO1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIoZm9sZGVyUGF0aCkge1xyXG4gICAgICAgIGNvbnN0IGZvbGRlciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBmb2xkZXIuc2V0dXAoZiA9PiBmLnVyaSkucmV0dXJucygoKSA9PiB2c2NvZGVfMS5VcmkuZmlsZShmb2xkZXJQYXRoKSk7XHJcbiAgICAgICAgcmV0dXJuIGZvbGRlci5vYmplY3Q7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZXR1cElvYyhweXRob25QYXRoLCBpc1dpbmRvd3MgPSBmYWxzZSwgaXNNYWMgPSBmYWxzZSwgaXNMaW51eCA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgY29uZmdTZXJ2aWNlID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIHBsYXRmb3JtU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBmaWxlU3lzdGVtID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGFwcFNoZWxsID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGxvZ2dlciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBkaWFnbm9zdGljc1NlcnZpY2UgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgcHl0aG9uRXhlY3V0aW9uU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBoZWxwZXIgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgcHl0aG9uRXhlY3V0aW9uU2VydmljZS5zZXR1cCgoeCkgPT4geC50aGVuKS5yZXR1cm5zKCgpID0+IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBmYWN0b3J5LnNldHVwKGYgPT4gZi5jcmVhdGUoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUocHl0aG9uRXhlY3V0aW9uU2VydmljZS5vYmplY3QpKTtcclxuICAgICAgICBoZWxwZXIuc2V0dXAoaCA9PiBoLmdldEludGVycHJldGVySW5mb3JtYXRpb24oVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUoe30pKTtcclxuICAgICAgICBkaWFnbm9zdGljc1NlcnZpY2VcclxuICAgICAgICAgICAgLnNldHVwKGggPT4gaC52YWxpZGF0ZVB5dGhvblBhdGgoVHlwZU1vcS5JdC5pc0FueSgpLCBUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUodHJ1ZSkpO1xyXG4gICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldChUeXBlTW9xLkl0LmlzVmFsdWUodHlwZXNfNC5JUHl0aG9uRXhlY3V0aW9uRmFjdG9yeSkpKS5yZXR1cm5zKCgpID0+IGZhY3Rvcnkub2JqZWN0KTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzUuSUNvbmZpZ3VyYXRpb25TZXJ2aWNlKSkpLnJldHVybnMoKCkgPT4gY29uZmdTZXJ2aWNlLm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18zLklQbGF0Zm9ybVNlcnZpY2UpKSkucmV0dXJucygoKSA9PiBwbGF0Zm9ybVNlcnZpY2Uub2JqZWN0KTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzMuSUZpbGVTeXN0ZW0pKSkucmV0dXJucygoKSA9PiBmaWxlU3lzdGVtLm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18yLklBcHBsaWNhdGlvblNoZWxsKSkpLnJldHVybnMoKCkgPT4gYXBwU2hlbGwub2JqZWN0KTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzYuSUNvbmZpZ3VyYXRpb25Qcm92aWRlclV0aWxzKSkpLnJldHVybnMoKCkgPT4gbmV3IGNvbmZpZ3VyYXRpb25Qcm92aWRlclV0aWxzXzEuQ29uZmlndXJhdGlvblByb3ZpZGVyVXRpbHMoc2VydmljZUNvbnRhaW5lci5vYmplY3QpKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzUuSUxvZ2dlcikpKS5yZXR1cm5zKCgpID0+IGxvZ2dlci5vYmplY3QpO1xyXG4gICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldChUeXBlTW9xLkl0LmlzVmFsdWUoY29udHJhY3RzXzEuSUludGVycHJldGVySGVscGVyKSkpLnJldHVybnMoKCkgPT4gaGVscGVyLm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18xLklEaWFnbm9zdGljc1NlcnZpY2UpLCBUeXBlTW9xLkl0LmlzVmFsdWUoaW52YWxpZFB5dGhvblBhdGhJbkRlYnVnZ2VyXzEuSW52YWxpZFB5dGhvblBhdGhJbkRlYnVnZ2VyU2VydmljZUlkKSkpLnJldHVybnMoKCkgPT4gZGlhZ25vc3RpY3NTZXJ2aWNlLm9iamVjdCk7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgc2V0dGluZ3Muc2V0dXAocyA9PiBzLnB5dGhvblBhdGgpLnJldHVybnMoKCkgPT4gcHl0aG9uUGF0aCk7XHJcbiAgICAgICAgY29uZmdTZXJ2aWNlLnNldHVwKGMgPT4gYy5nZXRTZXR0aW5ncyhUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IHNldHRpbmdzLm9iamVjdCk7XHJcbiAgICAgICAgc2V0dXBPcyhpc1dpbmRvd3MsIGlzTWFjLCBpc0xpbnV4KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldHVwQWN0aXZlRWRpdG9yKGZpbGVOYW1lLCBsYW5ndWFnZUlkKSB7XHJcbiAgICAgICAgY29uc3QgZG9jdW1lbnRNYW5hZ2VyID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGlmIChmaWxlTmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0RWRpdG9yID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuc2V0dXAoZCA9PiBkLmxhbmd1YWdlSWQpLnJldHVybnMoKCkgPT4gbGFuZ3VhZ2VJZCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnNldHVwKGQgPT4gZC5maWxlTmFtZSkucmV0dXJucygoKSA9PiBmaWxlTmFtZSk7XHJcbiAgICAgICAgICAgIHRleHRFZGl0b3Iuc2V0dXAodCA9PiB0LmRvY3VtZW50KS5yZXR1cm5zKCgpID0+IGRvY3VtZW50Lm9iamVjdCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50TWFuYWdlci5zZXR1cChkID0+IGQuYWN0aXZlVGV4dEVkaXRvcikucmV0dXJucygoKSA9PiB0ZXh0RWRpdG9yLm9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudE1hbmFnZXIuc2V0dXAoZCA9PiBkLmFjdGl2ZVRleHRFZGl0b3IpLnJldHVybnMoKCkgPT4gdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18yLklEb2N1bWVudE1hbmFnZXIpKSkucmV0dXJucygoKSA9PiBkb2N1bWVudE1hbmFnZXIub2JqZWN0KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldHVwV29ya3NwYWNlcyhmb2xkZXJzKSB7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXJzID0gZm9sZGVycy5tYXAoY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyKTtcclxuICAgICAgICB3b3Jrc3BhY2VTZXJ2aWNlLnNldHVwKHcgPT4gdy53b3Jrc3BhY2VGb2xkZXJzKS5yZXR1cm5zKCgpID0+IHdvcmtzcGFjZUZvbGRlcnMpO1xyXG4gICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldChUeXBlTW9xLkl0LmlzVmFsdWUodHlwZXNfMi5JV29ya3NwYWNlU2VydmljZSkpKS5yZXR1cm5zKCgpID0+IHdvcmtzcGFjZVNlcnZpY2Uub2JqZWN0KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldHVwT3MoaXNXaW5kb3dzLCBpc01hYywgaXNMaW51eCkge1xyXG4gICAgICAgIHBsYXRmb3JtU2VydmljZS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGlzV2luZG93cyk7XHJcbiAgICAgICAgcGxhdGZvcm1TZXJ2aWNlLnNldHVwKHAgPT4gcC5pc01hYykucmV0dXJucygoKSA9PiBpc01hYyk7XHJcbiAgICAgICAgcGxhdGZvcm1TZXJ2aWNlLnNldHVwKHAgPT4gcC5pc0xpbnV4KS5yZXR1cm5zKCgpID0+IGlzTGludXgpO1xyXG4gICAgfVxyXG4gICAgdGVzdCgnRGVmYXVsdHMgc2hvdWxkIGJlIHJldHVybmVkIHdoZW4gYW4gZW1wdHkgb2JqZWN0IGlzIHBhc3NlZCB3aXRoIGEgV29ya3NwYWNlIEZvbGRlciBhbmQgYWN0aXZlIGZpbGUnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IGBQeXRob25QYXRoXyR7bmV3IERhdGUoKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyID0gY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyKF9fZGlybmFtZSk7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uRmlsZSA9ICd4eXoucHknO1xyXG4gICAgICAgIHNldHVwSW9jKHB5dGhvblBhdGgpO1xyXG4gICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKHB5dGhvbkZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCB7fSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChPYmplY3Qua2V5cyhkZWJ1Z0NvbmZpZykpLnRvLmhhdmUubGVuZ3RoT2YuYWJvdmUoMyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncHl0aG9uUGF0aCcsIHB5dGhvblBhdGgpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3R5cGUnLCAncHl0aG9uJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdsYXVuY2gnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdwcm9ncmFtJywgcHl0aG9uRmlsZSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnY3dkJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5jd2QudG9Mb3dlckNhc2UoKSkudG8uYmUuZXF1YWwoX19kaXJuYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2VudkZpbGUnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLmVudkZpbGUudG9Mb3dlckNhc2UoKSkudG8uYmUuZXF1YWwocGF0aC5qb2luKF9fZGlybmFtZSwgJy5lbnYnKS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdlbnYnKTtcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChPYmplY3Qua2V5cyhkZWJ1Z0NvbmZpZy5lbnYpKS50by5oYXZlLmxlbmd0aE9mKDApO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnRGVmYXVsdHMgc2hvdWxkIGJlIHJldHVybmVkIHdoZW4gYW4gb2JqZWN0IHdpdGggXFwnbm9EZWJ1Z1xcJyBwcm9wZXJ0eSBpcyBwYXNzZWQgd2l0aCBhIFdvcmtzcGFjZSBGb2xkZXIgYW5kIGFjdGl2ZSBmaWxlJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBgUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHB5dGhvbkZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICBzZXR1cElvYyhweXRob25QYXRoKTtcclxuICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihweXRob25GaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHdvcmtzcGFjZUZvbGRlciwgeyBub0RlYnVnOiB0cnVlIH0pO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcpKS50by5oYXZlLmxlbmd0aE9mLmFib3ZlKDMpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3B5dGhvblBhdGgnLCBweXRob25QYXRoKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCd0eXBlJywgJ3B5dGhvbicpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3JlcXVlc3QnLCAnbGF1bmNoJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncHJvZ3JhbScsIHB5dGhvbkZpbGUpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2N3ZCcpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcuY3dkLnRvTG93ZXJDYXNlKCkpLnRvLmJlLmVxdWFsKF9fZGlybmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdlbnZGaWxlJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5lbnZGaWxlLnRvTG93ZXJDYXNlKCkpLnRvLmJlLmVxdWFsKHBhdGguam9pbihfX2Rpcm5hbWUsICcuZW52JykudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZW52Jyk7XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcuZW52KSkudG8uaGF2ZS5sZW5ndGhPZigwKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0RlZmF1bHRzIHNob3VsZCBiZSByZXR1cm5lZCB3aGVuIGFuIGVtcHR5IG9iamVjdCBpcyBwYXNzZWQgd2l0aG91dCBXb3Jrc3BhY2UgRm9sZGVyLCBubyB3b3Jrc3BhY2VzIGFuZCBhY3RpdmUgZmlsZScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCBweXRob25QYXRoID0gYFB5dGhvblBhdGhfJHtuZXcgRGF0ZSgpLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICBjb25zdCBweXRob25GaWxlID0gJ3h5ei5weSc7XHJcbiAgICAgICAgc2V0dXBJb2MocHl0aG9uUGF0aCk7XHJcbiAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IocHl0aG9uRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICBzZXR1cFdvcmtzcGFjZXMoW10pO1xyXG4gICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHVuZGVmaW5lZCwge30pO1xyXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gdnNjb2RlXzEuVXJpLmZpbGUocGF0aC5kaXJuYW1lKCcnKSkuZnNQYXRoO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcpKS50by5oYXZlLmxlbmd0aE9mLmFib3ZlKDMpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3B5dGhvblBhdGgnLCBweXRob25QYXRoKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCd0eXBlJywgJ3B5dGhvbicpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3JlcXVlc3QnLCAnbGF1bmNoJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncHJvZ3JhbScsIHB5dGhvbkZpbGUpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2N3ZCcpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcuY3dkLnRvTG93ZXJDYXNlKCkpLnRvLmJlLmVxdWFsKGZpbGVQYXRoLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2VudkZpbGUnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLmVudkZpbGUudG9Mb3dlckNhc2UoKSkudG8uYmUuZXF1YWwocGF0aC5qb2luKGZpbGVQYXRoLCAnLmVudicpLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2VudicpO1xyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KE9iamVjdC5rZXlzKGRlYnVnQ29uZmlnLmVudikpLnRvLmhhdmUubGVuZ3RoT2YoMCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdEZWZhdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgd2hlbiBhbiBlbXB0eSBvYmplY3QgaXMgcGFzc2VkIHdpdGhvdXQgV29ya3NwYWNlIEZvbGRlciwgbm8gd29ya3NwYWNlcyBhbmQgbm8gYWN0aXZlIGZpbGUnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IGBQeXRob25QYXRoXyR7bmV3IERhdGUoKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgc2V0dXBJb2MocHl0aG9uUGF0aCk7XHJcbiAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IodW5kZWZpbmVkLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgIHNldHVwV29ya3NwYWNlcyhbXSk7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24odW5kZWZpbmVkLCB7fSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChPYmplY3Qua2V5cyhkZWJ1Z0NvbmZpZykpLnRvLmhhdmUubGVuZ3RoT2YuYWJvdmUoMyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncHl0aG9uUGF0aCcsIHB5dGhvblBhdGgpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3R5cGUnLCAncHl0aG9uJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdsYXVuY2gnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdwcm9ncmFtJywgJycpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLm5vdC50by5oYXZlLnByb3BlcnR5KCdjd2QnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS5ub3QudG8uaGF2ZS5wcm9wZXJ0eSgnZW52RmlsZScpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2VudicpO1xyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KE9iamVjdC5rZXlzKGRlYnVnQ29uZmlnLmVudikpLnRvLmhhdmUubGVuZ3RoT2YoMCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdEZWZhdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgd2hlbiBhbiBlbXB0eSBvYmplY3QgaXMgcGFzc2VkIHdpdGhvdXQgV29ya3NwYWNlIEZvbGRlciwgbm8gd29ya3NwYWNlcyBhbmQgbm9uIHB5dGhvbiBmaWxlJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBgUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LmpzJztcclxuICAgICAgICBzZXR1cElvYyhweXRob25QYXRoKTtcclxuICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihhY3RpdmVGaWxlLCAnamF2YXNjcmlwdCcpO1xyXG4gICAgICAgIHNldHVwV29ya3NwYWNlcyhbXSk7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24odW5kZWZpbmVkLCB7fSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChPYmplY3Qua2V5cyhkZWJ1Z0NvbmZpZykpLnRvLmhhdmUubGVuZ3RoT2YuYWJvdmUoMyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncHl0aG9uUGF0aCcsIHB5dGhvblBhdGgpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3R5cGUnLCAncHl0aG9uJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdsYXVuY2gnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdwcm9ncmFtJywgJycpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLm5vdC50by5oYXZlLnByb3BlcnR5KCdjd2QnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS5ub3QudG8uaGF2ZS5wcm9wZXJ0eSgnZW52RmlsZScpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2VudicpO1xyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KE9iamVjdC5rZXlzKGRlYnVnQ29uZmlnLmVudikpLnRvLmhhdmUubGVuZ3RoT2YoMCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdEZWZhdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgd2hlbiBhbiBlbXB0eSBvYmplY3QgaXMgcGFzc2VkIHdpdGhvdXQgV29ya3NwYWNlIEZvbGRlciwgd2l0aCBhIHdvcmtzcGFjZSBhbmQgYW4gYWN0aXZlIHB5dGhvbiBmaWxlJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBgUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICBzZXR1cElvYyhweXRob25QYXRoKTtcclxuICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihhY3RpdmVGaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2UgPSBwYXRoLmpvaW4oJ3VzcicsICdkZXNrdG9wJyk7XHJcbiAgICAgICAgc2V0dXBXb3Jrc3BhY2VzKFtkZWZhdWx0V29ya3NwYWNlXSk7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24odW5kZWZpbmVkLCB7fSk7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSB2c2NvZGVfMS5VcmkuZmlsZShkZWZhdWx0V29ya3NwYWNlKS5mc1BhdGg7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChPYmplY3Qua2V5cyhkZWJ1Z0NvbmZpZykpLnRvLmhhdmUubGVuZ3RoT2YuYWJvdmUoMyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncHl0aG9uUGF0aCcsIHB5dGhvblBhdGgpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3R5cGUnLCAncHl0aG9uJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdsYXVuY2gnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdwcm9ncmFtJywgYWN0aXZlRmlsZSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnY3dkJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5jd2QudG9Mb3dlckNhc2UoKSkudG8uYmUuZXF1YWwoZmlsZVBhdGgudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZW52RmlsZScpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcuZW52RmlsZS50b0xvd2VyQ2FzZSgpKS50by5iZS5lcXVhbChwYXRoLmpvaW4oZmlsZVBhdGgsICcuZW52JykudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZW52Jyk7XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcuZW52KSkudG8uaGF2ZS5sZW5ndGhPZigwKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBgJHtjb25maWc6cHl0aG9uLnB5dGhvblBhdGh9YCBpcyByZXBsYWNlZCB3aXRoIGFjdHVhbCBweXRob25QYXRoJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBgUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIoX19kaXJuYW1lKTtcclxuICAgICAgICBzZXR1cElvYyhweXRob25QYXRoKTtcclxuICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihhY3RpdmVGaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2UgPSBwYXRoLmpvaW4oJ3VzcicsICdkZXNrdG9wJyk7XHJcbiAgICAgICAgc2V0dXBXb3Jrc3BhY2VzKFtkZWZhdWx0V29ya3NwYWNlXSk7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCB7IHB5dGhvblBhdGg6ICcke2NvbmZpZzpweXRob24ucHl0aG9uUGF0aH0nIH0pO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3B5dGhvblBhdGgnLCBweXRob25QYXRoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBoYXJkY29kZWQgcHl0aG9uUGF0aCBpcyBsZWZ0IHVuYWx0ZXJlZCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCBweXRob25QYXRoID0gYFB5dGhvblBhdGhfJHtuZXcgRGF0ZSgpLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gJ3h5ei5weSc7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyID0gY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyKF9fZGlybmFtZSk7XHJcbiAgICAgICAgc2V0dXBJb2MocHl0aG9uUGF0aCk7XHJcbiAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IoYWN0aXZlRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICBjb25zdCBkZWZhdWx0V29ya3NwYWNlID0gcGF0aC5qb2luKCd1c3InLCAnZGVza3RvcCcpO1xyXG4gICAgICAgIHNldHVwV29ya3NwYWNlcyhbZGVmYXVsdFdvcmtzcGFjZV0pO1xyXG4gICAgICAgIGNvbnN0IGRlYnVnUHl0aG9uUGF0aCA9IGBEZWJ1Z19QeXRob25QYXRoXyR7bmV3IERhdGUoKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCB7IHB5dGhvblBhdGg6IGRlYnVnUHl0aG9uUGF0aCB9KTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdweXRob25QYXRoJywgZGVidWdQeXRob25QYXRoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ1Rlc3QgZGVmYXVsdHMgb2YgZGVidWdnZXInLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IGBQeXRob25QYXRoXyR7bmV3IERhdGUoKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyID0gY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyKF9fZGlybmFtZSk7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uRmlsZSA9ICd4eXoucHknO1xyXG4gICAgICAgIHNldHVwSW9jKHB5dGhvblBhdGgpO1xyXG4gICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKHB5dGhvbkZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCB7fSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnY29uc29sZScsICdpbnRlZ3JhdGVkVGVybWluYWwnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdzdG9wT25FbnRyeScsIGZhbHNlKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdzaG93UmV0dXJuVmFsdWUnLCBmYWxzZSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZGVidWdPcHRpb25zJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5kZWJ1Z09wdGlvbnMpLnRvLmJlLmRlZXAuZXF1YWwoW3R5cGVzXzcuRGVidWdPcHRpb25zLlJlZGlyZWN0T3V0cHV0XSk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdUZXN0IGRlZmF1bHRzIG9mIHB5dGhvbiBkZWJ1Z2dlcicsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBpZiAoJ3B5dGhvbicgPT09IGNvbnN0YW50c18yLkRlYnVnZ2VyVHlwZU5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBweXRob25QYXRoID0gYFB5dGhvblBhdGhfJHtuZXcgRGF0ZSgpLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIoX19kaXJuYW1lKTtcclxuICAgICAgICBjb25zdCBweXRob25GaWxlID0gJ3h5ei5weSc7XHJcbiAgICAgICAgc2V0dXBJb2MocHl0aG9uUGF0aCk7XHJcbiAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IocHl0aG9uRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICBjb25zdCBkZWJ1Z0NvbmZpZyA9IHlpZWxkIGRlYnVnUHJvdmlkZXIucmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbih3b3Jrc3BhY2VGb2xkZXIsIHt9KTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdzdG9wT25FbnRyeScsIGZhbHNlKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdzaG93UmV0dXJuVmFsdWUnLCBmYWxzZSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZGVidWdPcHRpb25zJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5kZWJ1Z09wdGlvbnMpLnRvLmJlLmRlZXAuZXF1YWwoW3R5cGVzXzcuRGVidWdPcHRpb25zLlJlZGlyZWN0T3V0cHV0XSk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdUZXN0IG92ZXJyaWRpbmcgZGVmYXVsdHMgb2YgZGVidWdnZXInLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IGBQeXRob25QYXRoXyR7bmV3IERhdGUoKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyID0gY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyKF9fZGlybmFtZSk7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uRmlsZSA9ICd4eXoucHknO1xyXG4gICAgICAgIHNldHVwSW9jKHB5dGhvblBhdGgpO1xyXG4gICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKHB5dGhvbkZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCB7IHJlZGlyZWN0T3V0cHV0OiBmYWxzZSB9KTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdjb25zb2xlJywgJ2ludGVncmF0ZWRUZXJtaW5hbCcpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3N0b3BPbkVudHJ5JywgZmFsc2UpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ3Nob3dSZXR1cm5WYWx1ZScsIGZhbHNlKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdkZWJ1Z09wdGlvbnMnKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLmRlYnVnT3B0aW9ucykudG8uYmUuZGVlcC5lcXVhbChbXSk7XHJcbiAgICB9KSk7XHJcbiAgICBmdW5jdGlvbiB0ZXN0Rml4RmlsZVBhdGhDYXNlKGlzV2luZG93cywgaXNNYWMsIGlzTGludXgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gYFB5dGhvblBhdGhfJHtuZXcgRGF0ZSgpLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyID0gY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyKF9fZGlybmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICAgICAgc2V0dXBJb2MocHl0aG9uUGF0aCwgaXNXaW5kb3dzLCBpc01hYywgaXNMaW51eCk7XHJcbiAgICAgICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKHB5dGhvbkZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHdvcmtzcGFjZUZvbGRlciwge30pO1xyXG4gICAgICAgICAgICBpZiAoaXNXaW5kb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdkZWJ1Z09wdGlvbnMnKS5jb250YWlucyh0eXBlc183LkRlYnVnT3B0aW9ucy5GaXhGaWxlUGF0aENhc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZGVidWdPcHRpb25zJykubm90LmNvbnRhaW5zKHR5cGVzXzcuRGVidWdPcHRpb25zLkZpeEZpbGVQYXRoQ2FzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRlc3QoJ1Rlc3QgZml4RmlsZVBhdGhDYXNlIGZvciBXaW5kb3dzJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIHlpZWxkIHRlc3RGaXhGaWxlUGF0aENhc2UodHJ1ZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ1Rlc3QgZml4RmlsZVBhdGhDYXNlIGZvciBMaW51eCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICB5aWVsZCB0ZXN0Rml4RmlsZVBhdGhDYXNlKGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdUZXN0IGZpeEZpbGVQYXRoQ2FzZSBmb3IgTWFjJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIHlpZWxkIHRlc3RGaXhGaWxlUGF0aENhc2UoZmFsc2UsIHRydWUsIGZhbHNlKTtcclxuICAgIH0pKTtcclxuICAgIGZ1bmN0aW9uIHRlc3RQeXJhbWlkQ29uZmlndXJhdGlvbihpc1dpbmRvd3MsIGlzTGludXgsIGlzTWFjLCBhZGRQeXJhbWlkRGVidWdPcHRpb24gPSB0cnVlLCBweXJhbWlkRXhpc3RzID0gdHJ1ZSwgc2hvdWxkV29yayA9IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCB3b3Jrc3BhY2VQYXRoID0gcGF0aC5qb2luKCd1c3InLCAnZGV2ZWxvcG1lbnQnLCAnd2tzcDEnKTtcclxuICAgICAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbih3b3Jrc3BhY2VQYXRoLCAnZW52JywgJ2JpbicsICdweXRob24nKTtcclxuICAgICAgICAgICAgY29uc3QgcHlyYW1pZEZpbGVQYXRoID0gcGF0aC5qb2luKHBhdGguZGlybmFtZShweXRob25QYXRoKSwgJ2xpYicsICdzaXRlX3BhY2thZ2VzJywgJ3B5cmFtaWQnLCAnX19pbml0X18ucHknKTtcclxuICAgICAgICAgICAgY29uc3QgcHNlcnZlRmlsZVBhdGggPSBwYXRoLmpvaW4ocGF0aC5kaXJuYW1lKHB5cmFtaWRGaWxlUGF0aCksICdzY3JpcHRzJywgJ3BzZXJ2ZS5weScpO1xyXG4gICAgICAgICAgICBjb25zdCBhcmdzID0gWyctYycsICdpbXBvcnQgcHlyYW1pZDtwcmludChweXJhbWlkLl9fZmlsZV9fKSddO1xyXG4gICAgICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIod29ya3NwYWNlUGF0aCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvbkZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICAgICAgc2V0dXBJb2MocHl0aG9uUGF0aCwgaXNXaW5kb3dzLCBpc01hYywgaXNMaW51eCk7XHJcbiAgICAgICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKHB5dGhvbkZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgICAgIGlmIChweXJhbWlkRXhpc3RzKSB7XHJcbiAgICAgICAgICAgICAgICBweXRob25FeGVjdXRpb25TZXJ2aWNlLnNldHVwKGUgPT4gZS5leGVjKFR5cGVNb3EuSXQuaXNWYWx1ZShhcmdzKSwgVHlwZU1vcS5JdC5pc0FueSgpKSlcclxuICAgICAgICAgICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdGRvdXQ6IHB5cmFtaWRGaWxlUGF0aCB9KSlcclxuICAgICAgICAgICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmV4YWN0bHkoYWRkUHlyYW1pZERlYnVnT3B0aW9uID8gMSA6IDApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHB5dGhvbkV4ZWN1dGlvblNlcnZpY2Uuc2V0dXAoZSA9PiBlLmV4ZWMoVHlwZU1vcS5JdC5pc1ZhbHVlKGFyZ3MpLCBUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVqZWN0KCdObyBNb2R1bGUgQXZhaWxhYmxlJykpXHJcbiAgICAgICAgICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5leGFjdGx5KGFkZFB5cmFtaWREZWJ1Z09wdGlvbiA/IDEgOiAwKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmlsZVN5c3RlbS5zZXR1cChmID0+IGYuZmlsZUV4aXN0cyhUeXBlTW9xLkl0LmlzVmFsdWUocHNlcnZlRmlsZVBhdGgpKSlcclxuICAgICAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShweXJhbWlkRXhpc3RzKSlcclxuICAgICAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuZXhhY3RseShweXJhbWlkRXhpc3RzICYmIGFkZFB5cmFtaWREZWJ1Z09wdGlvbiA/IDEgOiAwKSk7XHJcbiAgICAgICAgICAgIGFwcFNoZWxsLnNldHVwKGEgPT4gYS5zaG93RXJyb3JNZXNzYWdlKFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmV4YWN0bHkocHlyYW1pZEV4aXN0cyB8fCAhYWRkUHlyYW1pZERlYnVnT3B0aW9uID8gMCA6IDEpKTtcclxuICAgICAgICAgICAgbG9nZ2VyLnNldHVwKGEgPT4gYS5sb2dFcnJvcihUeXBlTW9xLkl0LmlzQW55KCksIFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmV4YWN0bHkocHlyYW1pZEV4aXN0cyB8fCAhYWRkUHlyYW1pZERlYnVnT3B0aW9uID8gMCA6IDEpKTtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGFkZFB5cmFtaWREZWJ1Z09wdGlvbiA/IHsgZGVidWdPcHRpb25zOiBbdHlwZXNfNy5EZWJ1Z09wdGlvbnMuUHlyYW1pZF0sIHB5cmFtaWQ6IHRydWUgfSA6IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBkZWJ1Z0NvbmZpZyA9IHlpZWxkIGRlYnVnUHJvdmlkZXIucmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbih3b3Jrc3BhY2VGb2xkZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkV29yaykge1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncHJvZ3JhbScsIHBzZXJ2ZUZpbGVQYXRoKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2RlYnVnT3B0aW9ucycpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5kZWJ1Z09wdGlvbnMpLmNvbnRhaW5zKHR5cGVzXzcuRGVidWdPcHRpb25zLkppbmphKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcucHJvZ3JhbSkudG8uYmUubm90LmVxdWFsKHBzZXJ2ZUZpbGVQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBweXRob25FeGVjdXRpb25TZXJ2aWNlLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgICAgICBmaWxlU3lzdGVtLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgICAgICBhcHBTaGVsbC52ZXJpZnlBbGwoKTtcclxuICAgICAgICAgICAgbG9nZ2VyLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGVzdCgnUHJvZ3JhbSBpcyBzZXQgZm9yIFB5cmFtaWQgKHdpbmRvd3MpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIHlpZWxkIHRlc3RQeXJhbWlkQ29uZmlndXJhdGlvbih0cnVlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnUHJvZ3JhbSBpcyBzZXQgZm9yIFB5cmFtaWQgKExpbnV4KScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICB5aWVsZCB0ZXN0UHlyYW1pZENvbmZpZ3VyYXRpb24oZmFsc2UsIHRydWUsIGZhbHNlKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ1Byb2dyYW0gaXMgc2V0IGZvciBQeXJhbWlkIChNYWMpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIHlpZWxkIHRlc3RQeXJhbWlkQ29uZmlndXJhdGlvbihmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnUHJvZ3JhbSBpcyBub3Qgc2V0IGZvciBQeXJhbWlkIHdoZW4gRGVidWdPcHRpb24gaXMgbm90IHNldCAod2luZG93cyknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgeWllbGQgdGVzdFB5cmFtaWRDb25maWd1cmF0aW9uKHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdQcm9ncmFtIGlzIG5vdCBzZXQgZm9yIFB5cmFtaWQgd2hlbiBEZWJ1Z09wdGlvbiBpcyBub3Qgc2V0IChMaW51eCknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgeWllbGQgdGVzdFB5cmFtaWRDb25maWd1cmF0aW9uKGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdQcm9ncmFtIGlzIG5vdCBzZXQgZm9yIFB5cmFtaWQgd2hlbiBEZWJ1Z09wdGlvbiBpcyBub3Qgc2V0IChNYWMpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIHlpZWxkIHRlc3RQeXJhbWlkQ29uZmlndXJhdGlvbihmYWxzZSwgZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnTWVzc2FnZSBpcyBkaXNwbGF5ZWQgd2hlbiBweXJhbWlkIHNjcmlwdCBkb2VzIG5vdCBleGlzdCAod2luZG93cyknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgeWllbGQgdGVzdFB5cmFtaWRDb25maWd1cmF0aW9uKHRydWUsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ01lc3NhZ2UgaXMgZGlzcGxheWVkIHdoZW4gcHlyYW1pZCBzY3JpcHQgZG9lcyBub3QgZXhpc3QgKExpbnV4KScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICB5aWVsZCB0ZXN0UHlyYW1pZENvbmZpZ3VyYXRpb24oZmFsc2UsIHRydWUsIGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnTWVzc2FnZSBpcyBkaXNwbGF5ZWQgd2hlbiBweXJhbWlkIHNjcmlwdCBkb2VzIG5vdCBleGlzdCAoTWFjKScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICB5aWVsZCB0ZXN0UHlyYW1pZENvbmZpZ3VyYXRpb24oZmFsc2UsIGZhbHNlLCB0cnVlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnQXV0byBkZXRlY3QgZmxhc2sgZGVidWdnaW5nJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBgUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHB5dGhvbkZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICBzZXR1cElvYyhweXRob25QYXRoKTtcclxuICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihweXRob25GaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHdvcmtzcGFjZUZvbGRlciwgeyBtb2R1bGU6ICdmbGFzaycgfSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZGVidWdPcHRpb25zJyk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5kZWJ1Z09wdGlvbnMpLmNvbnRhaW5zKHR5cGVzXzcuRGVidWdPcHRpb25zLlJlZGlyZWN0T3V0cHV0KTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLmRlYnVnT3B0aW9ucykuY29udGFpbnModHlwZXNfNy5EZWJ1Z09wdGlvbnMuSmluamEpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnVGVzdCB2YWxpZGF0aW9uIG9mIFB5dGhvbiBQYXRoIHdoZW4gbGF1bmNoaW5nIGRlYnVnZ2VyICh3aXRoIGludmFsaWQgcHl0aG9uIHBhdGgpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBgUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHB5dGhvbkZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICBzZXR1cElvYyhweXRob25QYXRoKTtcclxuICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihweXRob25GaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgIGRpYWdub3N0aWNzU2VydmljZS5yZXNldCgpO1xyXG4gICAgICAgIGRpYWdub3N0aWNzU2VydmljZVxyXG4gICAgICAgICAgICAuc2V0dXAoaCA9PiBoLnZhbGlkYXRlUHl0aG9uUGF0aChUeXBlTW9xLkl0LmlzVmFsdWUocHl0aG9uUGF0aCksIFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShmYWxzZSkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMub25jZSgpKTtcclxuICAgICAgICBjb25zdCBkZWJ1Z0NvbmZpZyA9IHlpZWxkIGRlYnVnUHJvdmlkZXIucmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbih3b3Jrc3BhY2VGb2xkZXIsIHsgcmVkaXJlY3RPdXRwdXQ6IGZhbHNlLCBweXRob25QYXRoIH0pO1xyXG4gICAgICAgIGRpYWdub3N0aWNzU2VydmljZS52ZXJpZnlBbGwoKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5iZS5lcXVhbCh1bmRlZmluZWQsICdOb3QgdW5kZWZpbmVkJyk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdUZXN0IHZhbGlkYXRpb24gb2YgUHl0aG9uIFBhdGggd2hlbiBsYXVuY2hpbmcgZGVidWdnZXIgKHdpdGggdmFsaWQgcHl0aG9uIHBhdGgpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBgUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHB5dGhvbkZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICBzZXR1cElvYyhweXRob25QYXRoKTtcclxuICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihweXRob25GaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgIGRpYWdub3N0aWNzU2VydmljZS5yZXNldCgpO1xyXG4gICAgICAgIGRpYWdub3N0aWNzU2VydmljZVxyXG4gICAgICAgICAgICAuc2V0dXAoaCA9PiBoLnZhbGlkYXRlUHl0aG9uUGF0aChUeXBlTW9xLkl0LmlzVmFsdWUocHl0aG9uUGF0aCksIFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHdvcmtzcGFjZUZvbGRlciwgeyByZWRpcmVjdE91dHB1dDogZmFsc2UsIHB5dGhvblBhdGggfSk7XHJcbiAgICAgICAgZGlhZ25vc3RpY3NTZXJ2aWNlLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLm5vdC5iZS5lcXVhbCh1bmRlZmluZWQsICdpcyB1bmRlZmluZWQnKTtcclxuICAgIH0pKTtcclxuICAgIGZ1bmN0aW9uIHRlc3RTZXR0aW5nKHJlcXVlc3RUeXBlLCBzZXR0aW5ncywgZGVidWdPcHRpb25OYW1lLCBtdXN0SGF2ZURlYnVnT3B0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgc2V0dXBJb2MoJ3B5dGhvblBhdGgnKTtcclxuICAgICAgICAgICAgY29uc3QgZGVidWdDb25maWd1cmF0aW9uID0gT2JqZWN0LmFzc2lnbih7IHJlcXVlc3Q6IHJlcXVlc3RUeXBlLCB0eXBlOiAncHl0aG9uJywgbmFtZTogJycgfSwgc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIoX19kaXJuYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCBkZWJ1Z0NvbmZpZ3VyYXRpb24pO1xyXG4gICAgICAgICAgICBpZiAobXVzdEhhdmVEZWJ1Z09wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZy5kZWJ1Z09wdGlvbnMpLmNvbnRhaW5zKGRlYnVnT3B0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLmRlYnVnT3B0aW9ucykubm90LmNvbnRhaW5zKGRlYnVnT3B0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGl0ZW1zID0gWydsYXVuY2gnLCAnYXR0YWNoJ107XHJcbiAgICBpdGVtcy5mb3JFYWNoKHJlcXVlc3RUeXBlID0+IHtcclxuICAgICAgICB0ZXN0KGBNdXN0IG5vdCBjb250YWluIFN1YiBQcm9jZXNzIHdoZW4gbm90IHNwZWNpZmllZCAoJHtyZXF1ZXN0VHlwZX0pYCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB5aWVsZCB0ZXN0U2V0dGluZyhyZXF1ZXN0VHlwZSwge30sIHR5cGVzXzcuRGVidWdPcHRpb25zLlN1YlByb2Nlc3MsIGZhbHNlKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGVzdChgTXVzdCBub3QgY29udGFpbiBTdWIgUHJvY2VzcyBzZXR0aW5nPWZhbHNlICgke3JlcXVlc3RUeXBlfSlgLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHlpZWxkIHRlc3RTZXR0aW5nKHJlcXVlc3RUeXBlLCB7IHN1YlByb2Nlc3M6IGZhbHNlIH0sIHR5cGVzXzcuRGVidWdPcHRpb25zLlN1YlByb2Nlc3MsIGZhbHNlKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGVzdChgTXVzdCBub3QgY29udGFpbiBTdWIgUHJvY2VzcyBzZXR0aW5nPXRydWUgKCR7cmVxdWVzdFR5cGV9KWAsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgeWllbGQgdGVzdFNldHRpbmcocmVxdWVzdFR5cGUsIHsgc3ViUHJvY2VzczogdHJ1ZSB9LCB0eXBlc183LkRlYnVnT3B0aW9ucy5TdWJQcm9jZXNzLCB0cnVlKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9KTtcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3ZpZGVyLnVuaXQudGVzdC5qcy5tYXAiXX0=