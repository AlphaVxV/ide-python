// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : new P(function (resolve) {
        resolve(result.value);
      }).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

Object.defineProperty(exports, "__esModule", {
  value: true
}); // tslint:disable:max-func-body-length no-invalid-template-strings no-any no-object-literal-type-assertion no-invalid-this

const chai_1 = require("chai");

const path = require("path");

const TypeMoq = require("typemoq");

const vscode_1 = require("vscode");

const types_1 = require("../../../../client/common/application/types");

const constants_1 = require("../../../../client/common/constants");

const types_2 = require("../../../../client/common/platform/types");

const enum_1 = require("../../../../client/common/utils/enum");

const constants_2 = require("../../../../client/debugger/constants");

const pythonV2Provider_1 = require("../../../../client/debugger/extension/configProviders/pythonV2Provider");

const types_3 = require("../../../../client/debugger/types");

var OS;

(function (OS) {
  OS[OS["Windows"] = 0] = "Windows";
  OS[OS["Mac"] = 1] = "Mac";
  OS[OS["Linux"] = 2] = "Linux";
})(OS || (OS = {}));

[{
  debugType: constants_2.DebuggerTypeName,
  class: pythonV2Provider_1.PythonV2DebugConfigurationProvider
}].forEach(provider => {
  enum_1.getNamesAndValues(OS).forEach(os => {
    suite(`Debugging - Config Provider attach, ${provider.debugType}, OS = ${os.name}`, () => {
      let serviceContainer;
      let debugProvider;
      let platformService;
      let fileSystem;
      const debugOptionsAvailable = [types_3.DebugOptions.RedirectOutput];

      if (os.value === OS.Windows) {
        debugOptionsAvailable.push(types_3.DebugOptions.FixFilePathCase);
        debugOptionsAvailable.push(types_3.DebugOptions.WindowsClient);
      } else {
        debugOptionsAvailable.push(types_3.DebugOptions.UnixClient);
      }

      setup(() => {
        serviceContainer = TypeMoq.Mock.ofType();
        platformService = TypeMoq.Mock.ofType();
        fileSystem = TypeMoq.Mock.ofType();
        serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_2.IPlatformService))).returns(() => platformService.object);
        serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_2.IFileSystem))).returns(() => fileSystem.object);
        platformService.setup(p => p.isWindows).returns(() => os.value === OS.Windows);
        platformService.setup(p => p.isMac).returns(() => os.value === OS.Mac);
        platformService.setup(p => p.isLinux).returns(() => os.value === OS.Linux);
        debugProvider = new provider.class(serviceContainer.object);
      });

      function createMoqWorkspaceFolder(folderPath) {
        const folder = TypeMoq.Mock.ofType();
        folder.setup(f => f.uri).returns(() => vscode_1.Uri.file(folderPath));
        return folder.object;
      }

      function setupActiveEditor(fileName, languageId) {
        const documentManager = TypeMoq.Mock.ofType();

        if (fileName) {
          const textEditor = TypeMoq.Mock.ofType();
          const document = TypeMoq.Mock.ofType();
          document.setup(d => d.languageId).returns(() => languageId);
          document.setup(d => d.fileName).returns(() => fileName);
          textEditor.setup(t => t.document).returns(() => document.object);
          documentManager.setup(d => d.activeTextEditor).returns(() => textEditor.object);
        } else {
          documentManager.setup(d => d.activeTextEditor).returns(() => undefined);
        }

        serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_1.IDocumentManager))).returns(() => documentManager.object);
      }

      function setupWorkspaces(folders) {
        const workspaceService = TypeMoq.Mock.ofType();
        const workspaceFolders = folders.map(createMoqWorkspaceFolder);
        workspaceService.setup(w => w.workspaceFolders).returns(() => workspaceFolders);
        serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_1.IWorkspaceService))).returns(() => workspaceService.object);
      }

      test('Defaults should be returned when an empty object is passed with a Workspace Folder and active file', () => __awaiter(void 0, void 0, void 0, function* () {
        const workspaceFolder = createMoqWorkspaceFolder(__dirname);
        const pythonFile = 'xyz.py';
        setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
        const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
          request: 'attach'
        });
        chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.above(3);
        chai_1.expect(debugConfig).to.have.property('request', 'attach');
        chai_1.expect(debugConfig).to.have.property('debugOptions').deep.equal(debugOptionsAvailable);
      }));
      test('Defaults should be returned when an empty object is passed without Workspace Folder, no workspaces and active file', () => __awaiter(void 0, void 0, void 0, function* () {
        const pythonFile = 'xyz.py';
        setupActiveEditor(pythonFile, constants_1.PYTHON_LANGUAGE);
        setupWorkspaces([]);
        const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {
          request: 'attach'
        });
        chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.least(3);
        chai_1.expect(debugConfig).to.have.property('request', 'attach');
        chai_1.expect(debugConfig).to.have.property('debugOptions').deep.equal(debugOptionsAvailable);
        chai_1.expect(debugConfig).to.have.property('host', 'localhost');
      }));
      test('Defaults should be returned when an empty object is passed without Workspace Folder, no workspaces and no active file', () => __awaiter(void 0, void 0, void 0, function* () {
        setupActiveEditor(undefined, constants_1.PYTHON_LANGUAGE);
        setupWorkspaces([]);
        const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {
          request: 'attach'
        });
        chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.least(3);
        chai_1.expect(debugConfig).to.have.property('request', 'attach');
        chai_1.expect(debugConfig).to.have.property('debugOptions').deep.equal(debugOptionsAvailable);
        chai_1.expect(debugConfig).to.have.property('host', 'localhost');
      }));
      test('Defaults should be returned when an empty object is passed without Workspace Folder, no workspaces and non python file', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.js';
        setupActiveEditor(activeFile, 'javascript');
        setupWorkspaces([]);
        const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {
          request: 'attach'
        });
        chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.least(3);
        chai_1.expect(debugConfig).to.have.property('request', 'attach');
        chai_1.expect(debugConfig).to.have.property('debugOptions').deep.equal(debugOptionsAvailable);
        chai_1.expect(debugConfig).to.not.have.property('localRoot');
        chai_1.expect(debugConfig).to.have.property('host', 'localhost');
      }));
      test('Defaults should be returned when an empty object is passed without Workspace Folder, with a workspace and an active python file', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.py';
        setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
        const defaultWorkspace = path.join('usr', 'desktop');
        setupWorkspaces([defaultWorkspace]);
        const debugConfig = yield debugProvider.resolveDebugConfiguration(undefined, {
          request: 'attach'
        });
        chai_1.expect(Object.keys(debugConfig)).to.have.lengthOf.least(3);
        chai_1.expect(debugConfig).to.have.property('request', 'attach');
        chai_1.expect(debugConfig).to.have.property('debugOptions').deep.equal(debugOptionsAvailable);
        chai_1.expect(debugConfig).to.have.property('host', 'localhost');
      }));
      test('Ensure \'localRoot\' is left unaltered', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.py';
        const workspaceFolder = createMoqWorkspaceFolder(__dirname);
        setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
        const defaultWorkspace = path.join('usr', 'desktop');
        setupWorkspaces([defaultWorkspace]);
        const localRoot = `Debug_PythonPath_${new Date().toString()}`;
        const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
          localRoot,
          request: 'attach'
        });
        chai_1.expect(debugConfig).to.have.property('localRoot', localRoot);
      }));
      ['localhost', '127.0.0.1', '::1'].forEach(host => {
        test(`Ensure path mappings are automatically added when host is '${host}'`, () => __awaiter(void 0, void 0, void 0, function* () {
          const activeFile = 'xyz.py';
          const workspaceFolder = createMoqWorkspaceFolder(__dirname);
          setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
          const defaultWorkspace = path.join('usr', 'desktop');
          setupWorkspaces([defaultWorkspace]);
          const localRoot = `Debug_PythonPath_${new Date().toString()}`;
          const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
            localRoot,
            host,
            request: 'attach'
          });
          chai_1.expect(debugConfig).to.have.property('localRoot', localRoot);
          const pathMappings = debugConfig.pathMappings;
          chai_1.expect(pathMappings).to.be.lengthOf(1);
          chai_1.expect(pathMappings[0].localRoot).to.be.equal(workspaceFolder.uri.fsPath);
          chai_1.expect(pathMappings[0].remoteRoot).to.be.equal(workspaceFolder.uri.fsPath);
        }));
      });
      ['192.168.1.123', 'don.debugger.com'].forEach(host => {
        test(`Ensure path mappings are not automatically added when host is '${host}'`, () => __awaiter(void 0, void 0, void 0, function* () {
          const activeFile = 'xyz.py';
          const workspaceFolder = createMoqWorkspaceFolder(__dirname);
          setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
          const defaultWorkspace = path.join('usr', 'desktop');
          setupWorkspaces([defaultWorkspace]);
          const localRoot = `Debug_PythonPath_${new Date().toString()}`;
          const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
            localRoot,
            host,
            request: 'attach'
          });
          chai_1.expect(debugConfig).to.have.property('localRoot', localRoot);
          const pathMappings = debugConfig.pathMappings;
          chai_1.expect(pathMappings).to.be.lengthOf(0);
        }));
      });
      test('Ensure \'localRoot\' and \'remoteRoot\' is used', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.py';
        const workspaceFolder = createMoqWorkspaceFolder(__dirname);
        setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
        const defaultWorkspace = path.join('usr', 'desktop');
        setupWorkspaces([defaultWorkspace]);
        const localRoot = `Debug_PythonPath_Local_Root_${new Date().toString()}`;
        const remoteRoot = `Debug_PythonPath_Remote_Root_${new Date().toString()}`;
        const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
          localRoot,
          remoteRoot,
          request: 'attach'
        });
        chai_1.expect(debugConfig.pathMappings).to.be.lengthOf(1);
        chai_1.expect(debugConfig.pathMappings).to.deep.include({
          localRoot,
          remoteRoot
        });
      }));
      test('Ensure \'localRoot\' and \'remoteRoot\' is used', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.py';
        const workspaceFolder = createMoqWorkspaceFolder(__dirname);
        setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
        const defaultWorkspace = path.join('usr', 'desktop');
        setupWorkspaces([defaultWorkspace]);
        const localRoot = `Debug_PythonPath_Local_Root_${new Date().toString()}`;
        const remoteRoot = `Debug_PythonPath_Remote_Root_${new Date().toString()}`;
        const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
          localRoot,
          remoteRoot,
          request: 'attach'
        });
        chai_1.expect(debugConfig.pathMappings).to.be.lengthOf(1);
        chai_1.expect(debugConfig.pathMappings).to.deep.include({
          localRoot,
          remoteRoot
        });
      }));
      test('Ensure \'remoteRoot\' is left unaltered', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.py';
        const workspaceFolder = createMoqWorkspaceFolder(__dirname);
        setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
        const defaultWorkspace = path.join('usr', 'desktop');
        setupWorkspaces([defaultWorkspace]);
        const remoteRoot = `Debug_PythonPath_${new Date().toString()}`;
        const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
          remoteRoot,
          request: 'attach'
        });
        chai_1.expect(debugConfig).to.have.property('remoteRoot', remoteRoot);
      }));
      test('Ensure \'port\' is left unaltered', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.py';
        const workspaceFolder = createMoqWorkspaceFolder(__dirname);
        setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
        const defaultWorkspace = path.join('usr', 'desktop');
        setupWorkspaces([defaultWorkspace]);
        const port = 12341234;
        const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
          port,
          request: 'attach'
        });
        chai_1.expect(debugConfig).to.have.property('port', port);
      }));
      test('Ensure \'debugOptions\' are left unaltered', () => __awaiter(void 0, void 0, void 0, function* () {
        const activeFile = 'xyz.py';
        const workspaceFolder = createMoqWorkspaceFolder(__dirname);
        setupActiveEditor(activeFile, constants_1.PYTHON_LANGUAGE);
        const defaultWorkspace = path.join('usr', 'desktop');
        setupWorkspaces([defaultWorkspace]);
        const debugOptions = debugOptionsAvailable.slice().concat(types_3.DebugOptions.Jinja, types_3.DebugOptions.Sudo);
        const expectedDebugOptions = debugOptions.slice();
        const debugConfig = yield debugProvider.resolveDebugConfiguration(workspaceFolder, {
          debugOptions,
          request: 'attach'
        });
        chai_1.expect(debugConfig).to.have.property('debugOptions').to.be.deep.equal(expectedDebugOptions);
      }));
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3ZpZGVyLmF0dGFjaC51bml0LnRlc3QuanMiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsImNoYWlfMSIsInJlcXVpcmUiLCJwYXRoIiwiVHlwZU1vcSIsInZzY29kZV8xIiwidHlwZXNfMSIsImNvbnN0YW50c18xIiwidHlwZXNfMiIsImVudW1fMSIsImNvbnN0YW50c18yIiwicHl0aG9uVjJQcm92aWRlcl8xIiwidHlwZXNfMyIsIk9TIiwiZGVidWdUeXBlIiwiRGVidWdnZXJUeXBlTmFtZSIsImNsYXNzIiwiUHl0aG9uVjJEZWJ1Z0NvbmZpZ3VyYXRpb25Qcm92aWRlciIsImZvckVhY2giLCJwcm92aWRlciIsImdldE5hbWVzQW5kVmFsdWVzIiwib3MiLCJzdWl0ZSIsIm5hbWUiLCJzZXJ2aWNlQ29udGFpbmVyIiwiZGVidWdQcm92aWRlciIsInBsYXRmb3JtU2VydmljZSIsImZpbGVTeXN0ZW0iLCJkZWJ1Z09wdGlvbnNBdmFpbGFibGUiLCJEZWJ1Z09wdGlvbnMiLCJSZWRpcmVjdE91dHB1dCIsIldpbmRvd3MiLCJwdXNoIiwiRml4RmlsZVBhdGhDYXNlIiwiV2luZG93c0NsaWVudCIsIlVuaXhDbGllbnQiLCJzZXR1cCIsIk1vY2siLCJvZlR5cGUiLCJjIiwiZ2V0IiwiSXQiLCJpc1ZhbHVlIiwiSVBsYXRmb3JtU2VydmljZSIsInJldHVybnMiLCJvYmplY3QiLCJJRmlsZVN5c3RlbSIsInAiLCJpc1dpbmRvd3MiLCJpc01hYyIsIk1hYyIsImlzTGludXgiLCJMaW51eCIsImNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlciIsImZvbGRlclBhdGgiLCJmb2xkZXIiLCJmIiwidXJpIiwiVXJpIiwiZmlsZSIsInNldHVwQWN0aXZlRWRpdG9yIiwiZmlsZU5hbWUiLCJsYW5ndWFnZUlkIiwiZG9jdW1lbnRNYW5hZ2VyIiwidGV4dEVkaXRvciIsImRvY3VtZW50IiwiZCIsInQiLCJhY3RpdmVUZXh0RWRpdG9yIiwidW5kZWZpbmVkIiwiSURvY3VtZW50TWFuYWdlciIsInNldHVwV29ya3NwYWNlcyIsImZvbGRlcnMiLCJ3b3Jrc3BhY2VTZXJ2aWNlIiwid29ya3NwYWNlRm9sZGVycyIsIm1hcCIsInciLCJJV29ya3NwYWNlU2VydmljZSIsInRlc3QiLCJ3b3Jrc3BhY2VGb2xkZXIiLCJfX2Rpcm5hbWUiLCJweXRob25GaWxlIiwiUFlUSE9OX0xBTkdVQUdFIiwiZGVidWdDb25maWciLCJyZXNvbHZlRGVidWdDb25maWd1cmF0aW9uIiwicmVxdWVzdCIsImV4cGVjdCIsImtleXMiLCJ0byIsImhhdmUiLCJsZW5ndGhPZiIsImFib3ZlIiwicHJvcGVydHkiLCJkZWVwIiwiZXF1YWwiLCJsZWFzdCIsImFjdGl2ZUZpbGUiLCJub3QiLCJkZWZhdWx0V29ya3NwYWNlIiwiam9pbiIsImxvY2FsUm9vdCIsIkRhdGUiLCJ0b1N0cmluZyIsImhvc3QiLCJwYXRoTWFwcGluZ3MiLCJiZSIsImZzUGF0aCIsInJlbW90ZVJvb3QiLCJpbmNsdWRlIiwicG9ydCIsImRlYnVnT3B0aW9ucyIsInNsaWNlIiwiY29uY2F0IiwiSmluamEiLCJTdWRvIiwiZXhwZWN0ZWREZWJ1Z09wdGlvbnMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFDQSxJQUFJQSxTQUFTLEdBQUksVUFBUSxTQUFLQSxTQUFkLElBQTRCLFVBQVVDLE9BQVYsRUFBbUJDLFVBQW5CLEVBQStCQyxDQUEvQixFQUFrQ0MsU0FBbEMsRUFBNkM7QUFDckYsU0FBTyxLQUFLRCxDQUFDLEtBQUtBLENBQUMsR0FBR0UsT0FBVCxDQUFOLEVBQXlCLFVBQVVDLE9BQVYsRUFBbUJDLE1B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QUFDMkUsZUFBekIsQ0FBakI7QUFDQSxjQUFNZ0IsZ0JBQWdCLEdBQUcvRixJQUFJLENBQUNnRyxJQUFMLENBQVUsS0FBVixFQUFpQixTQUFqQixDQUF6QjtBQUNBNUIsUUFBQUEsZUFBZSxDQUFDLENBQUMyQixnQkFBRCxDQUFELENBQWY7QUFDQSxjQUFNWSxZQUFZLEdBQUdsRixxQkFBcUIsQ0FBQ21GLEtBQXRCLEdBQThCQyxNQUE5QixDQUFxQ3BHLE9BQU8sQ0FBQ2lCLFlBQVIsQ0FBcUJvRixLQUExRCxFQUFpRXJHLE9BQU8sQ0FBQ2lCLFlBQVIsQ0FBcUJxRixJQUF0RixDQUFyQjtBQUNBLGNBQU1DLG9CQUFvQixHQUFHTCxZQUFZLENBQUNDLEtBQWIsRUFBN0I7QUFDQSxjQUFNNUIsV0FBVyxHQUFHLE1BQU0xRCxhQUFhLENBQUMyRCx5QkFBZCxDQUF3Q0wsZUFBeEMsRUFBeUQ7QUFBRStCLFVBQUFBLFlBQUY7QUFBZ0J6QixVQUFBQSxPQUFPLEVBQUU7QUFBekIsU0FBekQsQ0FBMUI7QUFDQXBGLFFBQUFBLE1BQU0sQ0FBQ3FGLE1BQVAsQ0FBY0gsV0FBZCxFQUEyQkssRUFBM0IsQ0FBOEJDLElBQTlCLENBQW1DRyxRQUFuQyxDQUE0QyxjQUE1QyxFQUE0REosRUFBNUQsQ0FBK0RpQixFQUEvRCxDQUFrRVosSUFBbEUsQ0FBdUVDLEtBQXZFLENBQTZFcUIsb0JBQTdFO0FBQ0gsT0FWaUUsQ0FBOUQsQ0FBSjtBQVdILEtBbk1JLENBQUw7QUFvTUgsR0FyTUQ7QUFzTUgsQ0F6TUQiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4ndXNlIHN0cmljdCc7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gdHNsaW50OmRpc2FibGU6bWF4LWZ1bmMtYm9keS1sZW5ndGggbm8taW52YWxpZC10ZW1wbGF0ZS1zdHJpbmdzIG5vLWFueSBuby1vYmplY3QtbGl0ZXJhbC10eXBlLWFzc2VydGlvbiBuby1pbnZhbGlkLXRoaXNcclxuY29uc3QgY2hhaV8xID0gcmVxdWlyZShcImNoYWlcIik7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuY29uc3QgVHlwZU1vcSA9IHJlcXVpcmUoXCJ0eXBlbW9xXCIpO1xyXG5jb25zdCB2c2NvZGVfMSA9IHJlcXVpcmUoXCJ2c2NvZGVcIik7XHJcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2NvbW1vbi9hcHBsaWNhdGlvbi90eXBlc1wiKTtcclxuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2NvbW1vbi9jb25zdGFudHNcIik7XHJcbmNvbnN0IHR5cGVzXzIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2NvbW1vbi9wbGF0Zm9ybS90eXBlc1wiKTtcclxuY29uc3QgZW51bV8xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9jb21tb24vdXRpbHMvZW51bVwiKTtcclxuY29uc3QgY29uc3RhbnRzXzIgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2RlYnVnZ2VyL2NvbnN0YW50c1wiKTtcclxuY29uc3QgcHl0aG9uVjJQcm92aWRlcl8xID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NsaWVudC9kZWJ1Z2dlci9leHRlbnNpb24vY29uZmlnUHJvdmlkZXJzL3B5dGhvblYyUHJvdmlkZXJcIik7XHJcbmNvbnN0IHR5cGVzXzMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY2xpZW50L2RlYnVnZ2VyL3R5cGVzXCIpO1xyXG52YXIgT1M7XHJcbihmdW5jdGlvbiAoT1MpIHtcclxuICAgIE9TW09TW1wiV2luZG93c1wiXSA9IDBdID0gXCJXaW5kb3dzXCI7XHJcbiAgICBPU1tPU1tcIk1hY1wiXSA9IDFdID0gXCJNYWNcIjtcclxuICAgIE9TW09TW1wiTGludXhcIl0gPSAyXSA9IFwiTGludXhcIjtcclxufSkoT1MgfHwgKE9TID0ge30pKTtcclxuW1xyXG4gICAgeyBkZWJ1Z1R5cGU6IGNvbnN0YW50c18yLkRlYnVnZ2VyVHlwZU5hbWUsIGNsYXNzOiBweXRob25WMlByb3ZpZGVyXzEuUHl0aG9uVjJEZWJ1Z0NvbmZpZ3VyYXRpb25Qcm92aWRlciB9XHJcbl0uZm9yRWFjaChwcm92aWRlciA9PiB7XHJcbiAgICBlbnVtXzEuZ2V0TmFtZXNBbmRWYWx1ZXMoT1MpLmZvckVhY2gob3MgPT4ge1xyXG4gICAgICAgIHN1aXRlKGBEZWJ1Z2dpbmcgLSBDb25maWcgUHJvdmlkZXIgYXR0YWNoLCAke3Byb3ZpZGVyLmRlYnVnVHlwZX0sIE9TID0gJHtvcy5uYW1lfWAsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHNlcnZpY2VDb250YWluZXI7XHJcbiAgICAgICAgICAgIGxldCBkZWJ1Z1Byb3ZpZGVyO1xyXG4gICAgICAgICAgICBsZXQgcGxhdGZvcm1TZXJ2aWNlO1xyXG4gICAgICAgICAgICBsZXQgZmlsZVN5c3RlbTtcclxuICAgICAgICAgICAgY29uc3QgZGVidWdPcHRpb25zQXZhaWxhYmxlID0gW3R5cGVzXzMuRGVidWdPcHRpb25zLlJlZGlyZWN0T3V0cHV0XTtcclxuICAgICAgICAgICAgaWYgKG9zLnZhbHVlID09PSBPUy5XaW5kb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z09wdGlvbnNBdmFpbGFibGUucHVzaCh0eXBlc18zLkRlYnVnT3B0aW9ucy5GaXhGaWxlUGF0aENhc2UpO1xyXG4gICAgICAgICAgICAgICAgZGVidWdPcHRpb25zQXZhaWxhYmxlLnB1c2godHlwZXNfMy5EZWJ1Z09wdGlvbnMuV2luZG93c0NsaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z09wdGlvbnNBdmFpbGFibGUucHVzaCh0eXBlc18zLkRlYnVnT3B0aW9ucy5Vbml4Q2xpZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXR1cCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlQ29udGFpbmVyID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgcGxhdGZvcm1TZXJ2aWNlID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgZmlsZVN5c3RlbSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldChUeXBlTW9xLkl0LmlzVmFsdWUodHlwZXNfMi5JUGxhdGZvcm1TZXJ2aWNlKSkpLnJldHVybnMoKCkgPT4gcGxhdGZvcm1TZXJ2aWNlLm9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzIuSUZpbGVTeXN0ZW0pKSkucmV0dXJucygoKSA9PiBmaWxlU3lzdGVtLm9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzV2luZG93cykucmV0dXJucygoKSA9PiBvcy52YWx1ZSA9PT0gT1MuV2luZG93cyk7XHJcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzTWFjKS5yZXR1cm5zKCgpID0+IG9zLnZhbHVlID09PSBPUy5NYWMpO1xyXG4gICAgICAgICAgICAgICAgcGxhdGZvcm1TZXJ2aWNlLnNldHVwKHAgPT4gcC5pc0xpbnV4KS5yZXR1cm5zKCgpID0+IG9zLnZhbHVlID09PSBPUy5MaW51eCk7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z1Byb3ZpZGVyID0gbmV3IHByb3ZpZGVyLmNsYXNzKHNlcnZpY2VDb250YWluZXIub2JqZWN0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihmb2xkZXJQYXRoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXIgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgICAgICAgICBmb2xkZXIuc2V0dXAoZiA9PiBmLnVyaSkucmV0dXJucygoKSA9PiB2c2NvZGVfMS5VcmkuZmlsZShmb2xkZXJQYXRoKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZGVyLm9iamVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXR1cEFjdGl2ZUVkaXRvcihmaWxlTmFtZSwgbGFuZ3VhZ2VJZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRNYW5hZ2VyID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dEVkaXRvciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5zZXR1cChkID0+IGQubGFuZ3VhZ2VJZCkucmV0dXJucygoKSA9PiBsYW5ndWFnZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5zZXR1cChkID0+IGQuZmlsZU5hbWUpLnJldHVybnMoKCkgPT4gZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFZGl0b3Iuc2V0dXAodCA9PiB0LmRvY3VtZW50KS5yZXR1cm5zKCgpID0+IGRvY3VtZW50Lm9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRNYW5hZ2VyLnNldHVwKGQgPT4gZC5hY3RpdmVUZXh0RWRpdG9yKS5yZXR1cm5zKCgpID0+IHRleHRFZGl0b3Iub2JqZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TWFuYWdlci5zZXR1cChkID0+IGQuYWN0aXZlVGV4dEVkaXRvcikucmV0dXJucygoKSA9PiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18xLklEb2N1bWVudE1hbmFnZXIpKSkucmV0dXJucygoKSA9PiBkb2N1bWVudE1hbmFnZXIub2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXR1cFdvcmtzcGFjZXMoZm9sZGVycykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ya3NwYWNlU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlcnMgPSBmb2xkZXJzLm1hcChjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgd29ya3NwYWNlU2VydmljZS5zZXR1cCh3ID0+IHcud29ya3NwYWNlRm9sZGVycykucmV0dXJucygoKSA9PiB3b3Jrc3BhY2VGb2xkZXJzKTtcclxuICAgICAgICAgICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldChUeXBlTW9xLkl0LmlzVmFsdWUodHlwZXNfMS5JV29ya3NwYWNlU2VydmljZSkpKS5yZXR1cm5zKCgpID0+IHdvcmtzcGFjZVNlcnZpY2Uub2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZXN0KCdEZWZhdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgd2hlbiBhbiBlbXB0eSBvYmplY3QgaXMgcGFzc2VkIHdpdGggYSBXb3Jrc3BhY2UgRm9sZGVyIGFuZCBhY3RpdmUgZmlsZScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uRmlsZSA9ICd4eXoucHknO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IocHl0aG9uRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHdvcmtzcGFjZUZvbGRlciwgeyByZXF1ZXN0OiAnYXR0YWNoJyB9KTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcpKS50by5oYXZlLmxlbmd0aE9mLmFib3ZlKDMpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdhdHRhY2gnKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2RlYnVnT3B0aW9ucycpLmRlZXAuZXF1YWwoZGVidWdPcHRpb25zQXZhaWxhYmxlKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB0ZXN0KCdEZWZhdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgd2hlbiBhbiBlbXB0eSBvYmplY3QgaXMgcGFzc2VkIHdpdGhvdXQgV29ya3NwYWNlIEZvbGRlciwgbm8gd29ya3NwYWNlcyBhbmQgYWN0aXZlIGZpbGUnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBweXRob25GaWxlID0gJ3h5ei5weSc7XHJcbiAgICAgICAgICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihweXRob25GaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBXb3Jrc3BhY2VzKFtdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHVuZGVmaW5lZCwgeyByZXF1ZXN0OiAnYXR0YWNoJyB9KTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcpKS50by5oYXZlLmxlbmd0aE9mLmxlYXN0KDMpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdhdHRhY2gnKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2RlYnVnT3B0aW9ucycpLmRlZXAuZXF1YWwoZGVidWdPcHRpb25zQXZhaWxhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2hvc3QnLCAnbG9jYWxob3N0Jyk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGVzdCgnRGVmYXVsdHMgc2hvdWxkIGJlIHJldHVybmVkIHdoZW4gYW4gZW1wdHkgb2JqZWN0IGlzIHBhc3NlZCB3aXRob3V0IFdvcmtzcGFjZSBGb2xkZXIsIG5vIHdvcmtzcGFjZXMgYW5kIG5vIGFjdGl2ZSBmaWxlJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IodW5kZWZpbmVkLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBXb3Jrc3BhY2VzKFtdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHVuZGVmaW5lZCwgeyByZXF1ZXN0OiAnYXR0YWNoJyB9KTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcpKS50by5oYXZlLmxlbmd0aE9mLmxlYXN0KDMpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdhdHRhY2gnKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2RlYnVnT3B0aW9ucycpLmRlZXAuZXF1YWwoZGVidWdPcHRpb25zQXZhaWxhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2hvc3QnLCAnbG9jYWxob3N0Jyk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGVzdCgnRGVmYXVsdHMgc2hvdWxkIGJlIHJldHVybmVkIHdoZW4gYW4gZW1wdHkgb2JqZWN0IGlzIHBhc3NlZCB3aXRob3V0IFdvcmtzcGFjZSBGb2xkZXIsIG5vIHdvcmtzcGFjZXMgYW5kIG5vbiBweXRob24gZmlsZScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LmpzJztcclxuICAgICAgICAgICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKGFjdGl2ZUZpbGUsICdqYXZhc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFdvcmtzcGFjZXMoW10pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24odW5kZWZpbmVkLCB7IHJlcXVlc3Q6ICdhdHRhY2gnIH0pO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChPYmplY3Qua2V5cyhkZWJ1Z0NvbmZpZykpLnRvLmhhdmUubGVuZ3RoT2YubGVhc3QoMyk7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdyZXF1ZXN0JywgJ2F0dGFjaCcpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZGVidWdPcHRpb25zJykuZGVlcC5lcXVhbChkZWJ1Z09wdGlvbnNBdmFpbGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8ubm90LmhhdmUucHJvcGVydHkoJ2xvY2FsUm9vdCcpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnaG9zdCcsICdsb2NhbGhvc3QnKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB0ZXN0KCdEZWZhdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgd2hlbiBhbiBlbXB0eSBvYmplY3QgaXMgcGFzc2VkIHdpdGhvdXQgV29ya3NwYWNlIEZvbGRlciwgd2l0aCBhIHdvcmtzcGFjZSBhbmQgYW4gYWN0aXZlIHB5dGhvbiBmaWxlJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9ICd4eXoucHknO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IoYWN0aXZlRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2UgPSBwYXRoLmpvaW4oJ3VzcicsICdkZXNrdG9wJyk7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFdvcmtzcGFjZXMoW2RlZmF1bHRXb3Jrc3BhY2VdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHVuZGVmaW5lZCwgeyByZXF1ZXN0OiAnYXR0YWNoJyB9KTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoT2JqZWN0LmtleXMoZGVidWdDb25maWcpKS50by5oYXZlLmxlbmd0aE9mLmxlYXN0KDMpO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgncmVxdWVzdCcsICdhdHRhY2gnKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2RlYnVnT3B0aW9ucycpLmRlZXAuZXF1YWwoZGVidWdPcHRpb25zQXZhaWxhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2hvc3QnLCAnbG9jYWxob3N0Jyk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGVzdCgnRW5zdXJlIFxcJ2xvY2FsUm9vdFxcJyBpcyBsZWZ0IHVuYWx0ZXJlZCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IoYWN0aXZlRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2UgPSBwYXRoLmpvaW4oJ3VzcicsICdkZXNrdG9wJyk7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFdvcmtzcGFjZXMoW2RlZmF1bHRXb3Jrc3BhY2VdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsUm9vdCA9IGBEZWJ1Z19QeXRob25QYXRoXyR7bmV3IERhdGUoKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z0NvbmZpZyA9IHlpZWxkIGRlYnVnUHJvdmlkZXIucmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbih3b3Jrc3BhY2VGb2xkZXIsIHsgbG9jYWxSb290LCByZXF1ZXN0OiAnYXR0YWNoJyB9KTtcclxuICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2xvY2FsUm9vdCcsIGxvY2FsUm9vdCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgWydsb2NhbGhvc3QnLCAnMTI3LjAuMC4xJywgJzo6MSddLmZvckVhY2goaG9zdCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXN0KGBFbnN1cmUgcGF0aCBtYXBwaW5ncyBhcmUgYXV0b21hdGljYWxseSBhZGRlZCB3aGVuIGhvc3QgaXMgJyR7aG9zdH0nYCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIoX19kaXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihhY3RpdmVGaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2UgPSBwYXRoLmpvaW4oJ3VzcicsICdkZXNrdG9wJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dXBXb3Jrc3BhY2VzKFtkZWZhdWx0V29ya3NwYWNlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxSb290ID0gYERlYnVnX1B5dGhvblBhdGhfJHtuZXcgRGF0ZSgpLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z0NvbmZpZyA9IHlpZWxkIGRlYnVnUHJvdmlkZXIucmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbih3b3Jrc3BhY2VGb2xkZXIsIHsgbG9jYWxSb290LCBob3N0LCByZXF1ZXN0OiAnYXR0YWNoJyB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdsb2NhbFJvb3QnLCBsb2NhbFJvb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhNYXBwaW5ncyA9IGRlYnVnQ29uZmlnLnBhdGhNYXBwaW5ncztcclxuICAgICAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KHBhdGhNYXBwaW5ncykudG8uYmUubGVuZ3RoT2YoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChwYXRoTWFwcGluZ3NbMF0ubG9jYWxSb290KS50by5iZS5lcXVhbCh3b3Jrc3BhY2VGb2xkZXIudXJpLmZzUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChwYXRoTWFwcGluZ3NbMF0ucmVtb3RlUm9vdCkudG8uYmUuZXF1YWwod29ya3NwYWNlRm9sZGVyLnVyaS5mc1BhdGgpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgWycxOTIuMTY4LjEuMTIzJywgJ2Rvbi5kZWJ1Z2dlci5jb20nXS5mb3JFYWNoKGhvc3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGVzdChgRW5zdXJlIHBhdGggbWFwcGluZ3MgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IGFkZGVkIHdoZW4gaG9zdCBpcyAnJHtob3N0fSdgLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9ICd4eXoucHknO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKGFjdGl2ZUZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFdvcmtzcGFjZSA9IHBhdGguam9pbigndXNyJywgJ2Rlc2t0b3AnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXR1cFdvcmtzcGFjZXMoW2RlZmF1bHRXb3Jrc3BhY2VdKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFJvb3QgPSBgRGVidWdfUHl0aG9uUGF0aF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHdvcmtzcGFjZUZvbGRlciwgeyBsb2NhbFJvb3QsIGhvc3QsIHJlcXVlc3Q6ICdhdHRhY2gnIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QoZGVidWdDb25maWcpLnRvLmhhdmUucHJvcGVydHkoJ2xvY2FsUm9vdCcsIGxvY2FsUm9vdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aE1hcHBpbmdzID0gZGVidWdDb25maWcucGF0aE1hcHBpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QocGF0aE1hcHBpbmdzKS50by5iZS5sZW5ndGhPZigwKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSBcXCdsb2NhbFJvb3RcXCcgYW5kIFxcJ3JlbW90ZVJvb3RcXCcgaXMgdXNlZCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IoYWN0aXZlRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2UgPSBwYXRoLmpvaW4oJ3VzcicsICdkZXNrdG9wJyk7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFdvcmtzcGFjZXMoW2RlZmF1bHRXb3Jrc3BhY2VdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsUm9vdCA9IGBEZWJ1Z19QeXRob25QYXRoX0xvY2FsX1Jvb3RfJHtuZXcgRGF0ZSgpLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVJvb3QgPSBgRGVidWdfUHl0aG9uUGF0aF9SZW1vdGVfUm9vdF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCB7IGxvY2FsUm9vdCwgcmVtb3RlUm9vdCwgcmVxdWVzdDogJ2F0dGFjaCcgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLnBhdGhNYXBwaW5ncykudG8uYmUubGVuZ3RoT2YoMSk7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLnBhdGhNYXBwaW5ncykudG8uZGVlcC5pbmNsdWRlKHsgbG9jYWxSb290LCByZW1vdGVSb290IH0pO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSBcXCdsb2NhbFJvb3RcXCcgYW5kIFxcJ3JlbW90ZVJvb3RcXCcgaXMgdXNlZCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSAneHl6LnB5JztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtzcGFjZUZvbGRlciA9IGNyZWF0ZU1vcVdvcmtzcGFjZUZvbGRlcihfX2Rpcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBBY3RpdmVFZGl0b3IoYWN0aXZlRmlsZSwgY29uc3RhbnRzXzEuUFlUSE9OX0xBTkdVQUdFKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXb3Jrc3BhY2UgPSBwYXRoLmpvaW4oJ3VzcicsICdkZXNrdG9wJyk7XHJcbiAgICAgICAgICAgICAgICBzZXR1cFdvcmtzcGFjZXMoW2RlZmF1bHRXb3Jrc3BhY2VdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsUm9vdCA9IGBEZWJ1Z19QeXRob25QYXRoX0xvY2FsX1Jvb3RfJHtuZXcgRGF0ZSgpLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVJvb3QgPSBgRGVidWdfUHl0aG9uUGF0aF9SZW1vdGVfUm9vdF8ke25ldyBEYXRlKCkudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVidWdDb25maWcgPSB5aWVsZCBkZWJ1Z1Byb3ZpZGVyLnJlc29sdmVEZWJ1Z0NvbmZpZ3VyYXRpb24od29ya3NwYWNlRm9sZGVyLCB7IGxvY2FsUm9vdCwgcmVtb3RlUm9vdCwgcmVxdWVzdDogJ2F0dGFjaCcgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLnBhdGhNYXBwaW5ncykudG8uYmUubGVuZ3RoT2YoMSk7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnLnBhdGhNYXBwaW5ncykudG8uZGVlcC5pbmNsdWRlKHsgbG9jYWxSb290LCByZW1vdGVSb290IH0pO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSBcXCdyZW1vdGVSb290XFwnIGlzIGxlZnQgdW5hbHRlcmVkJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9ICd4eXoucHknO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyID0gY3JlYXRlTW9xV29ya3NwYWNlRm9sZGVyKF9fZGlybmFtZSk7XHJcbiAgICAgICAgICAgICAgICBzZXR1cEFjdGl2ZUVkaXRvcihhY3RpdmVGaWxlLCBjb25zdGFudHNfMS5QWVRIT05fTEFOR1VBR0UpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFdvcmtzcGFjZSA9IHBhdGguam9pbigndXNyJywgJ2Rlc2t0b3AnKTtcclxuICAgICAgICAgICAgICAgIHNldHVwV29ya3NwYWNlcyhbZGVmYXVsdFdvcmtzcGFjZV0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlUm9vdCA9IGBEZWJ1Z19QeXRob25QYXRoXyR7bmV3IERhdGUoKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z0NvbmZpZyA9IHlpZWxkIGRlYnVnUHJvdmlkZXIucmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbih3b3Jrc3BhY2VGb2xkZXIsIHsgcmVtb3RlUm9vdCwgcmVxdWVzdDogJ2F0dGFjaCcgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdyZW1vdGVSb290JywgcmVtb3RlUm9vdCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGVzdCgnRW5zdXJlIFxcJ3BvcnRcXCcgaXMgbGVmdCB1bmFsdGVyZWQnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gJ3h5ei5weSc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIoX19kaXJuYW1lKTtcclxuICAgICAgICAgICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKGFjdGl2ZUZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0V29ya3NwYWNlID0gcGF0aC5qb2luKCd1c3InLCAnZGVza3RvcCcpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBXb3Jrc3BhY2VzKFtkZWZhdWx0V29ya3NwYWNlXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3J0ID0gMTIzNDEyMzQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z0NvbmZpZyA9IHlpZWxkIGRlYnVnUHJvdmlkZXIucmVzb2x2ZURlYnVnQ29uZmlndXJhdGlvbih3b3Jrc3BhY2VGb2xkZXIsIHsgcG9ydCwgcmVxdWVzdDogJ2F0dGFjaCcgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGRlYnVnQ29uZmlnKS50by5oYXZlLnByb3BlcnR5KCdwb3J0JywgcG9ydCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGVzdCgnRW5zdXJlIFxcJ2RlYnVnT3B0aW9uc1xcJyBhcmUgbGVmdCB1bmFsdGVyZWQnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gJ3h5ei5weSc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSBjcmVhdGVNb3FXb3Jrc3BhY2VGb2xkZXIoX19kaXJuYW1lKTtcclxuICAgICAgICAgICAgICAgIHNldHVwQWN0aXZlRWRpdG9yKGFjdGl2ZUZpbGUsIGNvbnN0YW50c18xLlBZVEhPTl9MQU5HVUFHRSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0V29ya3NwYWNlID0gcGF0aC5qb2luKCd1c3InLCAnZGVza3RvcCcpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBXb3Jrc3BhY2VzKFtkZWZhdWx0V29ya3NwYWNlXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWJ1Z09wdGlvbnMgPSBkZWJ1Z09wdGlvbnNBdmFpbGFibGUuc2xpY2UoKS5jb25jYXQodHlwZXNfMy5EZWJ1Z09wdGlvbnMuSmluamEsIHR5cGVzXzMuRGVidWdPcHRpb25zLlN1ZG8pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWREZWJ1Z09wdGlvbnMgPSBkZWJ1Z09wdGlvbnMuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnQ29uZmlnID0geWllbGQgZGVidWdQcm92aWRlci5yZXNvbHZlRGVidWdDb25maWd1cmF0aW9uKHdvcmtzcGFjZUZvbGRlciwgeyBkZWJ1Z09wdGlvbnMsIHJlcXVlc3Q6ICdhdHRhY2gnIH0pO1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChkZWJ1Z0NvbmZpZykudG8uaGF2ZS5wcm9wZXJ0eSgnZGVidWdPcHRpb25zJykudG8uYmUuZGVlcC5lcXVhbChleHBlY3RlZERlYnVnT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXIuYXR0YWNoLnVuaXQudGVzdC5qcy5tYXAiXX0=