// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : new P(function (resolve) {
        resolve(result.value);
      }).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

Object.defineProperty(exports, "__esModule", {
  value: true
}); // tslint:disable:no-any max-func-body-length

const chai_1 = require("chai");

const os_1 = require("os");

const path = require("path");

const TypeMoq = require("typemoq");

const vscode_1 = require("vscode");

const types_1 = require("../../client/common/application/types");

const constants_1 = require("../../client/common/constants");

const types_2 = require("../../client/common/platform/types");

const types_3 = require("../../client/common/process/types");

const types_4 = require("../../client/common/types");

const misc_1 = require("../../client/common/utils/misc");

const importSortProvider_1 = require("../../client/providers/importSortProvider");

suite('Import Sort Provider', () => {
  let serviceContainer;
  let shell;
  let documentManager;
  let configurationService;
  let pythonExecFactory;
  let processServiceFactory;
  let editorUtils;
  let commandManager;
  let pythonSettings;
  let sortProvider;
  let fs;
  setup(() => {
    serviceContainer = TypeMoq.Mock.ofType();
    commandManager = TypeMoq.Mock.ofType();
    fs = TypeMoq.Mock.ofType();
    documentManager = TypeMoq.Mock.ofType();
    shell = TypeMoq.Mock.ofType();
    configurationService = TypeMoq.Mock.ofType();
    pythonExecFactory = TypeMoq.Mock.ofType();
    processServiceFactory = TypeMoq.Mock.ofType();
    pythonSettings = TypeMoq.Mock.ofType();
    editorUtils = TypeMoq.Mock.ofType();
    fs = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.get(types_1.ICommandManager)).returns(() => commandManager.object);
    serviceContainer.setup(c => c.get(types_1.IDocumentManager)).returns(() => documentManager.object);
    serviceContainer.setup(c => c.get(types_1.IApplicationShell)).returns(() => shell.object);
    serviceContainer.setup(c => c.get(types_4.IConfigurationService)).returns(() => configurationService.object);
    serviceContainer.setup(c => c.get(types_3.IPythonExecutionFactory)).returns(() => pythonExecFactory.object);
    serviceContainer.setup(c => c.get(types_3.IProcessServiceFactory)).returns(() => processServiceFactory.object);
    serviceContainer.setup(c => c.get(types_4.IEditorUtils)).returns(() => editorUtils.object);
    serviceContainer.setup(c => c.get(types_4.IDisposableRegistry)).returns(() => []);
    serviceContainer.setup(c => c.get(types_2.IFileSystem)).returns(() => fs.object);
    configurationService.setup(c => c.getSettings(TypeMoq.It.isAny())).returns(() => pythonSettings.object);
    sortProvider = new importSortProvider_1.SortImportsEditingProvider(serviceContainer.object);
  });
  test('Ensure command is registered', () => {
    commandManager.setup(c => c.registerCommand(TypeMoq.It.isValue(constants_1.Commands.Sort_Imports), TypeMoq.It.isAny(), TypeMoq.It.isValue(sortProvider))).verifiable(TypeMoq.Times.once());
    sortProvider.registerCommands();
    commandManager.verifyAll();
  });
  test('Ensure message is displayed when no doc is opened and uri isn\'t provided', () => __awaiter(void 0, void 0, void 0, function* () {
    documentManager.setup(d => d.activeTextEditor).returns(() => undefined).verifiable(TypeMoq.Times.once());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isValue('Please open a Python file to sort the imports.'))).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.once());
    yield sortProvider.sortImports();
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure message is displayed when uri isn\'t provided and current doc is non-python', () => __awaiter(void 0, void 0, void 0, function* () {
    const mockEditor = TypeMoq.Mock.ofType();
    const mockDoc = TypeMoq.Mock.ofType();
    mockDoc.setup(d => d.languageId).returns(() => 'xyz').verifiable(TypeMoq.Times.atLeastOnce());
    mockEditor.setup(d => d.document).returns(() => mockDoc.object).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.activeTextEditor).returns(() => mockEditor.object).verifiable(TypeMoq.Times.once());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isValue('Please open a Python file to sort the imports.'))).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.once());
    yield sortProvider.sortImports();
    mockEditor.verifyAll();
    mockDoc.verifyAll();
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure document is opened', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('TestDoc');
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.activeTextEditor).verifiable(TypeMoq.Times.never());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isAny())).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.never());
    yield sortProvider.sortImports(uri).catch(misc_1.noop);
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure no edits are provided when there is only one line', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('TestDoc');
    const mockDoc = TypeMoq.Mock.ofType(); // tslint:disable-next-line:no-any

    mockDoc.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.lineCount).returns(() => 1).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).returns(() => Promise.resolve(mockDoc.object)).verifiable(TypeMoq.Times.atLeastOnce());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isAny())).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.never());
    const edit = yield sortProvider.sortImports(uri);
    chai_1.expect(edit).to.be.equal(undefined, 'not undefined');
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure no edits are provided when there are no lines', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('TestDoc');
    const mockDoc = TypeMoq.Mock.ofType(); // tslint:disable-next-line:no-any

    mockDoc.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.lineCount).returns(() => 0).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).returns(() => Promise.resolve(mockDoc.object)).verifiable(TypeMoq.Times.atLeastOnce());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isAny())).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.never());
    const edit = yield sortProvider.sortImports(uri);
    chai_1.expect(edit).to.be.equal(undefined, 'not undefined');
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure empty line is added when line does not end with an empty line', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('TestDoc');
    const mockDoc = TypeMoq.Mock.ofType();
    mockDoc.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.lineCount).returns(() => 10).verifiable(TypeMoq.Times.atLeastOnce());
    const lastLine = TypeMoq.Mock.ofType();
    let editApplied;
    lastLine.setup(l => l.text).returns(() => '1234').verifiable(TypeMoq.Times.atLeastOnce());
    lastLine.setup(l => l.range).returns(() => new vscode_1.Range(1, 0, 10, 1)).verifiable(TypeMoq.Times.atLeastOnce());
    mockDoc.setup(d => d.lineAt(TypeMoq.It.isValue(9))).returns(() => lastLine.object).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.applyEdit(TypeMoq.It.isAny())).callback(e => editApplied = e).returns(() => Promise.resolve(true)).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).returns(() => Promise.resolve(mockDoc.object)).verifiable(TypeMoq.Times.atLeastOnce());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isAny())).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.never());

    sortProvider.provideDocumentSortImportsEdits = () => Promise.resolve(undefined);

    yield sortProvider.sortImports(uri);
    chai_1.expect(editApplied).not.to.be.equal(undefined, 'Applied edit is undefined');
    chai_1.expect(editApplied.entries()).to.be.lengthOf(1);
    chai_1.expect(editApplied.entries()[0][1]).to.be.lengthOf(1);
    chai_1.expect(editApplied.entries()[0][1][0].newText).to.be.equal(os_1.EOL);
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure no edits are provided when there is only one line (when using provider method)', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('TestDoc');
    const mockDoc = TypeMoq.Mock.ofType();
    mockDoc.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.lineCount).returns(() => 1).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).returns(() => Promise.resolve(mockDoc.object)).verifiable(TypeMoq.Times.atLeastOnce());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isAny())).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.never());
    const edit = yield sortProvider.provideDocumentSortImportsEdits(uri);
    chai_1.expect(edit).to.be.equal(undefined, 'not undefined');
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure no edits are provided when there are no lines (when using provider method)', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('TestDoc');
    const mockDoc = TypeMoq.Mock.ofType();
    mockDoc.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.lineCount).returns(() => 0).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).returns(() => Promise.resolve(mockDoc.object)).verifiable(TypeMoq.Times.atLeastOnce());
    shell.setup(s => s.showErrorMessage(TypeMoq.It.isAny())).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.never());
    const edit = yield sortProvider.provideDocumentSortImportsEdits(uri);
    chai_1.expect(edit).to.be.equal(undefined, 'not undefined');
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure temporary file is created for sorting when document is dirty', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('something.py');
    const mockDoc = TypeMoq.Mock.ofType();
    let tmpFileDisposed = false;
    const tmpFile = {
      filePath: 'TmpFile',
      dispose: () => tmpFileDisposed = true
    };
    const processService = TypeMoq.Mock.ofType();
    processService.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.lineCount).returns(() => 10).verifiable(TypeMoq.Times.atLeastOnce());
    mockDoc.setup(d => d.getText(TypeMoq.It.isAny())).returns(() => 'Hello').verifiable(TypeMoq.Times.atLeastOnce());
    mockDoc.setup(d => d.isDirty).returns(() => true).verifiable(TypeMoq.Times.atLeastOnce());
    mockDoc.setup(d => d.uri).returns(() => uri).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).returns(() => Promise.resolve(mockDoc.object)).verifiable(TypeMoq.Times.atLeastOnce());
    fs.setup(f => f.createTemporaryFile(TypeMoq.It.isValue('.py'))).returns(() => Promise.resolve(tmpFile)).verifiable(TypeMoq.Times.once());
    fs.setup(f => f.writeFile(TypeMoq.It.isValue(tmpFile.filePath), TypeMoq.It.isValue('Hello'))).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.once());
    pythonSettings.setup(s => s.sortImports).returns(() => {
      return {
        path: 'CUSTOM_ISORT',
        args: ['1', '2']
      };
    }).verifiable(TypeMoq.Times.once());
    processServiceFactory.setup(p => p.create(TypeMoq.It.isAny())).returns(() => Promise.resolve(processService.object)).verifiable(TypeMoq.Times.once());
    const expectedArgs = [tmpFile.filePath, '--diff', '1', '2'];
    processService.setup(p => p.exec(TypeMoq.It.isValue('CUSTOM_ISORT'), TypeMoq.It.isValue(expectedArgs), TypeMoq.It.isValue({
      throwOnStdErr: true,
      token: undefined
    }))).returns(() => Promise.resolve({
      stdout: 'DIFF'
    })).verifiable(TypeMoq.Times.once());
    const expectedEdit = new vscode_1.WorkspaceEdit();
    editorUtils.setup(e => e.getWorkspaceEditsFromPatch(TypeMoq.It.isValue('Hello'), TypeMoq.It.isValue('DIFF'), TypeMoq.It.isAny())).returns(() => expectedEdit).verifiable(TypeMoq.Times.once());
    const edit = yield sortProvider.provideDocumentSortImportsEdits(uri);
    chai_1.expect(edit).to.be.equal(expectedEdit);
    chai_1.expect(tmpFileDisposed).to.be.equal(true, 'Temporary file not disposed');
    shell.verifyAll();
    documentManager.verifyAll();
  }));
  test('Ensure temporary file is created for sorting when document is dirty (with custom isort path)', () => __awaiter(void 0, void 0, void 0, function* () {
    const uri = vscode_1.Uri.file('something.py');
    const mockDoc = TypeMoq.Mock.ofType();
    let tmpFileDisposed = false;
    const tmpFile = {
      filePath: 'TmpFile',
      dispose: () => tmpFileDisposed = true
    };
    const processService = TypeMoq.Mock.ofType();
    processService.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.then).returns(() => undefined);
    mockDoc.setup(d => d.lineCount).returns(() => 10).verifiable(TypeMoq.Times.atLeastOnce());
    mockDoc.setup(d => d.getText(TypeMoq.It.isAny())).returns(() => 'Hello').verifiable(TypeMoq.Times.atLeastOnce());
    mockDoc.setup(d => d.isDirty).returns(() => true).verifiable(TypeMoq.Times.atLeastOnce());
    mockDoc.setup(d => d.uri).returns(() => uri).verifiable(TypeMoq.Times.atLeastOnce());
    documentManager.setup(d => d.openTextDocument(TypeMoq.It.isValue(uri))).returns(() => Promise.resolve(mockDoc.object)).verifiable(TypeMoq.Times.atLeastOnce());
    fs.setup(f => f.createTemporaryFile(TypeMoq.It.isValue('.py'))).returns(() => Promise.resolve(tmpFile)).verifiable(TypeMoq.Times.once());
    fs.setup(f => f.writeFile(TypeMoq.It.isValue(tmpFile.filePath), TypeMoq.It.isValue('Hello'))).returns(() => Promise.resolve(undefined)).verifiable(TypeMoq.Times.once());
    pythonSettings.setup(s => s.sortImports).returns(() => {
      return {
        args: ['1', '2']
      };
    }).verifiable(TypeMoq.Times.once());
    const processExeService = TypeMoq.Mock.ofType();
    processExeService.setup(p => p.then).returns(() => undefined);
    pythonExecFactory.setup(p => p.create(TypeMoq.It.isAny())).returns(() => Promise.resolve(processExeService.object)).verifiable(TypeMoq.Times.once());
    const importScript = path.join(constants_1.EXTENSION_ROOT_DIR, 'pythonFiles', 'sortImports.py');
    const expectedArgs = [importScript, tmpFile.filePath, '--diff', '1', '2'];
    processExeService.setup(p => p.exec(TypeMoq.It.isValue(expectedArgs), TypeMoq.It.isValue({
      throwOnStdErr: true,
      token: undefined
    }))).returns(() => Promise.resolve({
      stdout: 'DIFF'
    })).verifiable(TypeMoq.Times.once());
    const expectedEdit = new vscode_1.WorkspaceEdit();
    editorUtils.setup(e => e.getWorkspaceEditsFromPatch(TypeMoq.It.isValue('Hello'), TypeMoq.It.isValue('DIFF'), TypeMoq.It.isAny())).returns(() => expectedEdit).verifiable(TypeMoq.Times.once());
    const edit = yield sortProvider.provideDocumentSortImportsEdits(uri);
    chai_1.expect(edit).to.be.equal(expectedEdit);
    chai_1.expect(tmpFileDisposed).to.be.equal(true, 'Temporary file not disposed');
    shell.verifyAll();
    documentManager.verifyAll();
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltcG9ydFNvcnRQcm92aWRlci51bml0LnRlc3QuanMiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsImNoYWlfMSIsInJlcXVpcmUiLCJvc18xIiwicGF0aCIsIlR5cGVNb3EiLCJ2c2NvZGVfMSIsInR5cGVzXzEiLCJjb25zdGFudHNfMSIsInR5cGVzXzIiLCJ0eXBlc18zIiwidHlwZXNfNCIsIm1pc2NfMSIsImltcG9ydFNvcnRQcm92aWRlcl8xIiwic3VpdGUiLCJzZXJ2aWNlQ29udGFpbmVyIiwic2hlbGwiLCJkb2N1bWVudE1hbmFnZXIiLCJjb25maWd1cmF0aW9uU2VydmljZSIsInB5dGhvbkV4ZWNGYWN0b3J5IiwicHJvY2Vzc1NlcnZpY2VGYWN0b3J5IiwiZWRpdG9yVXRpbHMiLCJjb21tYW5kTWFuYWdlciIsInB5dGhvblNldHRpbmdzIiwic29ydFByb3ZpZGVyIiwiZnMiLCJzZXR1cCIsIk1vY2siLCJvZlR5cGUiLCJjIiwiZ2V0IiwiSUNvbW1hbmRNYW5hZ2VyIiwicmV0dXJucyIsIm9iamVjdCIsIklEb2N1bWVudE1hbmFnZXIiLCJJQXBwbGljYXRpb25TaGVsbCIsIklDb25maWd1cmF0aW9uU2VydmljZSIsIklQeXRob25FeGVjdXRpb25GYWN0b3J5IiwiSVByb2Nlc3NTZXJ2aWNlRmFjdG9yeSIsIklFZGl0b3JVdGlscyIsIklEaXNwb3NhYmxlUmVnaXN0cnkiLCJJRmlsZVN5c3RlbSIsImdldFNldHRpbmdzIiwiSXQiLCJpc0FueSIsIlNvcnRJbXBvcnRzRWRpdGluZ1Byb3ZpZGVyIiwidGVzdCIsInJlZ2lzdGVyQ29tbWFuZCIsImlzVmFsdWUiLCJDb21tYW5kcyIsIlNvcnRfSW1wb3J0cyIsInZlcmlmaWFibGUiLCJUaW1lcyIsIm9uY2UiLCJyZWdpc3RlckNvbW1hbmRzIiwidmVyaWZ5QWxsIiwiZCIsImFjdGl2ZVRleHRFZGl0b3IiLCJ1bmRlZmluZWQiLCJzIiwic2hvd0Vycm9yTWVzc2FnZSIsInNvcnRJbXBvcnRzIiwibW9ja0VkaXRvciIsIm1vY2tEb2MiLCJsYW5ndWFnZUlkIiwiYXRMZWFzdE9uY2UiLCJkb2N1bWVudCIsInVyaSIsIlVyaSIsImZpbGUiLCJvcGVuVGV4dERvY3VtZW50IiwibmV2ZXIiLCJjYXRjaCIsIm5vb3AiLCJsaW5lQ291bnQiLCJlZGl0IiwiZXhwZWN0IiwidG8iLCJiZSIsImVxdWFsIiwibGFzdExpbmUiLCJlZGl0QXBwbGllZCIsImwiLCJ0ZXh0IiwicmFuZ2UiLCJSYW5nZSIsImxpbmVBdCIsImFwcGx5RWRpdCIsImNhbGxiYWNrIiwicHJvdmlkZURvY3VtZW50U29ydEltcG9ydHNFZGl0cyIsIm5vdCIsImVudHJpZXMiLCJsZW5ndGhPZiIsIm5ld1RleHQiLCJFT0wiLCJ0bXBGaWxlRGlzcG9zZWQiLCJ0bXBGaWxlIiwiZmlsZVBhdGgiLCJkaXNwb3NlIiwicHJvY2Vzc1NlcnZpY2UiLCJnZXRUZXh0IiwiaXNEaXJ0eSIsImYiLCJjcmVhdGVUZW1wb3JhcnlGaWxlIiwid3JpdGVGaWxlIiwiYXJncyIsInAiLCJjcmVhdGUiLCJleHBlY3RlZEFyZ3MiLCJleGVjIiwidGhyb3dPblN0ZEVyciIsInRva2VuIiwic3Rkb3V0IiwiZXhwZWN0ZWRFZGl0IiwiV29ya3NwYWNlRWRpdCIsImdldFdvcmtzcGFjZUVkaXRzRnJvbVBhdGNoIiwicHJvY2Vzc0V4ZVNlcnZpY2UiLCJpbXBvcnRTY3JpcHQiLCJqb2luIiwiRVhURU5TSU9OX1JPT1RfRElSIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBSUEsU0FBUyxHQUFJLFVBQVEsU0FBS0EsU0FBZCxJQUE0QixV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WUFBWSxDQUFDaUUsK0JBQWIsQ0FBNkN0QixHQUE3QyxDQUFuQjtBQUNBbEUsSUFBQUEsTUFBTSxDQUFDMkUsTUFBUCxDQUFjRCxJQUFkLEVBQW9CRSxFQUFwQixDQUF1QkMsRUFBdkIsQ0FBMEJDLEtBQTFCLENBQWdDa0MsWUFBaEM7QUFDQWhILElBQUFBLE1BQU0sQ0FBQzJFLE1BQVAsQ0FBY21CLGVBQWQsRUFBK0JsQixFQUEvQixDQUFrQ0MsRUFBbEMsQ0FBcUNDLEtBQXJDLENBQTJDLElBQTNDLEVBQWlELDZCQUFqRDtBQUNBL0QsSUFBQUEsS0FBSyxDQUFDdUMsU0FBTjtBQUNBdEMsSUFBQUEsZUFBZSxDQUFDc0MsU0FBaEI7QUFDSCxHQXREbUgsQ0FBaEgsQ0FBSjtBQXVESCxDQW5VSSxDQUFMIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuJ3VzZSBzdHJpY3QnO1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIHRzbGludDpkaXNhYmxlOm5vLWFueSBtYXgtZnVuYy1ib2R5LWxlbmd0aFxyXG5jb25zdCBjaGFpXzEgPSByZXF1aXJlKFwiY2hhaVwiKTtcclxuY29uc3Qgb3NfMSA9IHJlcXVpcmUoXCJvc1wiKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xyXG5jb25zdCBUeXBlTW9xID0gcmVxdWlyZShcInR5cGVtb3FcIik7XHJcbmNvbnN0IHZzY29kZV8xID0gcmVxdWlyZShcInZzY29kZVwiKTtcclxuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9jbGllbnQvY29tbW9uL2FwcGxpY2F0aW9uL3R5cGVzXCIpO1xyXG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9jbGllbnQvY29tbW9uL2NvbnN0YW50c1wiKTtcclxuY29uc3QgdHlwZXNfMiA9IHJlcXVpcmUoXCIuLi8uLi9jbGllbnQvY29tbW9uL3BsYXRmb3JtL3R5cGVzXCIpO1xyXG5jb25zdCB0eXBlc18zID0gcmVxdWlyZShcIi4uLy4uL2NsaWVudC9jb21tb24vcHJvY2Vzcy90eXBlc1wiKTtcclxuY29uc3QgdHlwZXNfNCA9IHJlcXVpcmUoXCIuLi8uLi9jbGllbnQvY29tbW9uL3R5cGVzXCIpO1xyXG5jb25zdCBtaXNjXzEgPSByZXF1aXJlKFwiLi4vLi4vY2xpZW50L2NvbW1vbi91dGlscy9taXNjXCIpO1xyXG5jb25zdCBpbXBvcnRTb3J0UHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuLi8uLi9jbGllbnQvcHJvdmlkZXJzL2ltcG9ydFNvcnRQcm92aWRlclwiKTtcclxuc3VpdGUoJ0ltcG9ydCBTb3J0IFByb3ZpZGVyJywgKCkgPT4ge1xyXG4gICAgbGV0IHNlcnZpY2VDb250YWluZXI7XHJcbiAgICBsZXQgc2hlbGw7XHJcbiAgICBsZXQgZG9jdW1lbnRNYW5hZ2VyO1xyXG4gICAgbGV0IGNvbmZpZ3VyYXRpb25TZXJ2aWNlO1xyXG4gICAgbGV0IHB5dGhvbkV4ZWNGYWN0b3J5O1xyXG4gICAgbGV0IHByb2Nlc3NTZXJ2aWNlRmFjdG9yeTtcclxuICAgIGxldCBlZGl0b3JVdGlscztcclxuICAgIGxldCBjb21tYW5kTWFuYWdlcjtcclxuICAgIGxldCBweXRob25TZXR0aW5ncztcclxuICAgIGxldCBzb3J0UHJvdmlkZXI7XHJcbiAgICBsZXQgZnM7XHJcbiAgICBzZXR1cCgoKSA9PiB7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBjb21tYW5kTWFuYWdlciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBmcyA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBkb2N1bWVudE1hbmFnZXIgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgc2hlbGwgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgY29uZmlndXJhdGlvblNlcnZpY2UgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgcHl0aG9uRXhlY0ZhY3RvcnkgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgcHJvY2Vzc1NlcnZpY2VGYWN0b3J5ID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIHB5dGhvblNldHRpbmdzID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGVkaXRvclV0aWxzID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGZzID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldCh0eXBlc18xLklDb21tYW5kTWFuYWdlcikpLnJldHVybnMoKCkgPT4gY29tbWFuZE1hbmFnZXIub2JqZWN0KTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQodHlwZXNfMS5JRG9jdW1lbnRNYW5hZ2VyKSkucmV0dXJucygoKSA9PiBkb2N1bWVudE1hbmFnZXIub2JqZWN0KTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQodHlwZXNfMS5JQXBwbGljYXRpb25TaGVsbCkpLnJldHVybnMoKCkgPT4gc2hlbGwub2JqZWN0KTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQodHlwZXNfNC5JQ29uZmlndXJhdGlvblNlcnZpY2UpKS5yZXR1cm5zKCgpID0+IGNvbmZpZ3VyYXRpb25TZXJ2aWNlLm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KHR5cGVzXzMuSVB5dGhvbkV4ZWN1dGlvbkZhY3RvcnkpKS5yZXR1cm5zKCgpID0+IHB5dGhvbkV4ZWNGYWN0b3J5Lm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KHR5cGVzXzMuSVByb2Nlc3NTZXJ2aWNlRmFjdG9yeSkpLnJldHVybnMoKCkgPT4gcHJvY2Vzc1NlcnZpY2VGYWN0b3J5Lm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KHR5cGVzXzQuSUVkaXRvclV0aWxzKSkucmV0dXJucygoKSA9PiBlZGl0b3JVdGlscy5vYmplY3QpO1xyXG4gICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldCh0eXBlc180LklEaXNwb3NhYmxlUmVnaXN0cnkpKS5yZXR1cm5zKCgpID0+IFtdKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQodHlwZXNfMi5JRmlsZVN5c3RlbSkpLnJldHVybnMoKCkgPT4gZnMub2JqZWN0KTtcclxuICAgICAgICBjb25maWd1cmF0aW9uU2VydmljZS5zZXR1cChjID0+IGMuZ2V0U2V0dGluZ3MoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBweXRob25TZXR0aW5ncy5vYmplY3QpO1xyXG4gICAgICAgIHNvcnRQcm92aWRlciA9IG5ldyBpbXBvcnRTb3J0UHJvdmlkZXJfMS5Tb3J0SW1wb3J0c0VkaXRpbmdQcm92aWRlcihzZXJ2aWNlQ29udGFpbmVyLm9iamVjdCk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBjb21tYW5kIGlzIHJlZ2lzdGVyZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgY29tbWFuZE1hbmFnZXJcclxuICAgICAgICAgICAgLnNldHVwKGMgPT4gYy5yZWdpc3RlckNvbW1hbmQoVHlwZU1vcS5JdC5pc1ZhbHVlKGNvbnN0YW50c18xLkNvbW1hbmRzLlNvcnRfSW1wb3J0cyksIFR5cGVNb3EuSXQuaXNBbnkoKSwgVHlwZU1vcS5JdC5pc1ZhbHVlKHNvcnRQcm92aWRlcikpKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgc29ydFByb3ZpZGVyLnJlZ2lzdGVyQ29tbWFuZHMoKTtcclxuICAgICAgICBjb21tYW5kTWFuYWdlci52ZXJpZnlBbGwoKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnRW5zdXJlIG1lc3NhZ2UgaXMgZGlzcGxheWVkIHdoZW4gbm8gZG9jIGlzIG9wZW5lZCBhbmQgdXJpIGlzblxcJ3QgcHJvdmlkZWQnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyXHJcbiAgICAgICAgICAgIC5zZXR1cChkID0+IGQuYWN0aXZlVGV4dEVkaXRvcikucmV0dXJucygoKSA9PiB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMub25jZSgpKTtcclxuICAgICAgICBzaGVsbFxyXG4gICAgICAgICAgICAuc2V0dXAocyA9PiBzLnNob3dFcnJvck1lc3NhZ2UoVHlwZU1vcS5JdC5pc1ZhbHVlKCdQbGVhc2Ugb3BlbiBhIFB5dGhvbiBmaWxlIHRvIHNvcnQgdGhlIGltcG9ydHMuJykpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIHlpZWxkIHNvcnRQcm92aWRlci5zb3J0SW1wb3J0cygpO1xyXG4gICAgICAgIHNoZWxsLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlci52ZXJpZnlBbGwoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBtZXNzYWdlIGlzIGRpc3BsYXllZCB3aGVuIHVyaSBpc25cXCd0IHByb3ZpZGVkIGFuZCBjdXJyZW50IGRvYyBpcyBub24tcHl0aG9uJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IG1vY2tFZGl0b3IgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgY29uc3QgbW9ja0RvYyA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKGQgPT4gZC5sYW5ndWFnZUlkKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiAneHl6JylcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBtb2NrRWRpdG9yLnNldHVwKGQgPT4gZC5kb2N1bWVudClcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gbW9ja0RvYy5vYmplY3QpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyXHJcbiAgICAgICAgICAgIC5zZXR1cChkID0+IGQuYWN0aXZlVGV4dEVkaXRvcilcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gbW9ja0VkaXRvci5vYmplY3QpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMub25jZSgpKTtcclxuICAgICAgICBzaGVsbFxyXG4gICAgICAgICAgICAuc2V0dXAocyA9PiBzLnNob3dFcnJvck1lc3NhZ2UoVHlwZU1vcS5JdC5pc1ZhbHVlKCdQbGVhc2Ugb3BlbiBhIFB5dGhvbiBmaWxlIHRvIHNvcnQgdGhlIGltcG9ydHMuJykpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIHlpZWxkIHNvcnRQcm92aWRlci5zb3J0SW1wb3J0cygpO1xyXG4gICAgICAgIG1vY2tFZGl0b3IudmVyaWZ5QWxsKCk7XHJcbiAgICAgICAgbW9ja0RvYy52ZXJpZnlBbGwoKTtcclxuICAgICAgICBzaGVsbC52ZXJpZnlBbGwoKTtcclxuICAgICAgICBkb2N1bWVudE1hbmFnZXIudmVyaWZ5QWxsKCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdFbnN1cmUgZG9jdW1lbnQgaXMgb3BlbmVkJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHVyaSA9IHZzY29kZV8xLlVyaS5maWxlKCdUZXN0RG9jJyk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyXHJcbiAgICAgICAgICAgIC5zZXR1cChkID0+IGQub3BlblRleHREb2N1bWVudChUeXBlTW9xLkl0LmlzVmFsdWUodXJpKSkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyXHJcbiAgICAgICAgICAgIC5zZXR1cChkID0+IGQuYWN0aXZlVGV4dEVkaXRvcilcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5uZXZlcigpKTtcclxuICAgICAgICBzaGVsbFxyXG4gICAgICAgICAgICAuc2V0dXAocyA9PiBzLnNob3dFcnJvck1lc3NhZ2UoVHlwZU1vcS5JdC5pc0FueSgpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMubmV2ZXIoKSk7XHJcbiAgICAgICAgeWllbGQgc29ydFByb3ZpZGVyLnNvcnRJbXBvcnRzKHVyaSkuY2F0Y2gobWlzY18xLm5vb3ApO1xyXG4gICAgICAgIHNoZWxsLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlci52ZXJpZnlBbGwoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBubyBlZGl0cyBhcmUgcHJvdmlkZWQgd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBsaW5lJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHVyaSA9IHZzY29kZV8xLlVyaS5maWxlKCdUZXN0RG9jJyk7XHJcbiAgICAgICAgY29uc3QgbW9ja0RvYyA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XHJcbiAgICAgICAgbW9ja0RvYy5zZXR1cCgoZCkgPT4gZC50aGVuKS5yZXR1cm5zKCgpID0+IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgbW9ja0RvYy5zZXR1cChkID0+IGQubGluZUNvdW50KVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiAxKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmF0TGVhc3RPbmNlKCkpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlclxyXG4gICAgICAgICAgICAuc2V0dXAoZCA9PiBkLm9wZW5UZXh0RG9jdW1lbnQoVHlwZU1vcS5JdC5pc1ZhbHVlKHVyaSkpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUobW9ja0RvYy5vYmplY3QpKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmF0TGVhc3RPbmNlKCkpO1xyXG4gICAgICAgIHNoZWxsXHJcbiAgICAgICAgICAgIC5zZXR1cChzID0+IHMuc2hvd0Vycm9yTWVzc2FnZShUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5uZXZlcigpKTtcclxuICAgICAgICBjb25zdCBlZGl0ID0geWllbGQgc29ydFByb3ZpZGVyLnNvcnRJbXBvcnRzKHVyaSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChlZGl0KS50by5iZS5lcXVhbCh1bmRlZmluZWQsICdub3QgdW5kZWZpbmVkJyk7XHJcbiAgICAgICAgc2hlbGwudmVyaWZ5QWxsKCk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyLnZlcmlmeUFsbCgpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnRW5zdXJlIG5vIGVkaXRzIGFyZSBwcm92aWRlZCB3aGVuIHRoZXJlIGFyZSBubyBsaW5lcycsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCB1cmkgPSB2c2NvZGVfMS5VcmkuZmlsZSgnVGVzdERvYycpO1xyXG4gICAgICAgIGNvbnN0IG1vY2tEb2MgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxyXG4gICAgICAgIG1vY2tEb2Muc2V0dXAoKGQpID0+IGQudGhlbikucmV0dXJucygoKSA9PiB1bmRlZmluZWQpO1xyXG4gICAgICAgIG1vY2tEb2Muc2V0dXAoZCA9PiBkLmxpbmVDb3VudClcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gMClcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBkb2N1bWVudE1hbmFnZXJcclxuICAgICAgICAgICAgLnNldHVwKGQgPT4gZC5vcGVuVGV4dERvY3VtZW50KFR5cGVNb3EuSXQuaXNWYWx1ZSh1cmkpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tEb2Mub2JqZWN0KSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBzaGVsbFxyXG4gICAgICAgICAgICAuc2V0dXAocyA9PiBzLnNob3dFcnJvck1lc3NhZ2UoVHlwZU1vcS5JdC5pc0FueSgpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMubmV2ZXIoKSk7XHJcbiAgICAgICAgY29uc3QgZWRpdCA9IHlpZWxkIHNvcnRQcm92aWRlci5zb3J0SW1wb3J0cyh1cmkpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZWRpdCkudG8uYmUuZXF1YWwodW5kZWZpbmVkLCAnbm90IHVuZGVmaW5lZCcpO1xyXG4gICAgICAgIHNoZWxsLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlci52ZXJpZnlBbGwoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBlbXB0eSBsaW5lIGlzIGFkZGVkIHdoZW4gbGluZSBkb2VzIG5vdCBlbmQgd2l0aCBhbiBlbXB0eSBsaW5lJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHVyaSA9IHZzY29kZV8xLlVyaS5maWxlKCdUZXN0RG9jJyk7XHJcbiAgICAgICAgY29uc3QgbW9ja0RvYyA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKChkKSA9PiBkLnRoZW4pLnJldHVybnMoKCkgPT4gdW5kZWZpbmVkKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKGQgPT4gZC5saW5lQ291bnQpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IDEwKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmF0TGVhc3RPbmNlKCkpO1xyXG4gICAgICAgIGNvbnN0IGxhc3RMaW5lID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGxldCBlZGl0QXBwbGllZDtcclxuICAgICAgICBsYXN0TGluZS5zZXR1cChsID0+IGwudGV4dClcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gJzEyMzQnKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmF0TGVhc3RPbmNlKCkpO1xyXG4gICAgICAgIGxhc3RMaW5lLnNldHVwKGwgPT4gbC5yYW5nZSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gbmV3IHZzY29kZV8xLlJhbmdlKDEsIDAsIDEwLCAxKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKGQgPT4gZC5saW5lQXQoVHlwZU1vcS5JdC5pc1ZhbHVlKDkpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gbGFzdExpbmUub2JqZWN0KVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmF0TGVhc3RPbmNlKCkpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlclxyXG4gICAgICAgICAgICAuc2V0dXAoZCA9PiBkLmFwcGx5RWRpdChUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAuY2FsbGJhY2soZSA9PiBlZGl0QXBwbGllZCA9IGUpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBkb2N1bWVudE1hbmFnZXJcclxuICAgICAgICAgICAgLnNldHVwKGQgPT4gZC5vcGVuVGV4dERvY3VtZW50KFR5cGVNb3EuSXQuaXNWYWx1ZSh1cmkpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tEb2Mub2JqZWN0KSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBzaGVsbFxyXG4gICAgICAgICAgICAuc2V0dXAocyA9PiBzLnNob3dFcnJvck1lc3NhZ2UoVHlwZU1vcS5JdC5pc0FueSgpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMubmV2ZXIoKSk7XHJcbiAgICAgICAgc29ydFByb3ZpZGVyLnByb3ZpZGVEb2N1bWVudFNvcnRJbXBvcnRzRWRpdHMgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcclxuICAgICAgICB5aWVsZCBzb3J0UHJvdmlkZXIuc29ydEltcG9ydHModXJpKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGVkaXRBcHBsaWVkKS5ub3QudG8uYmUuZXF1YWwodW5kZWZpbmVkLCAnQXBwbGllZCBlZGl0IGlzIHVuZGVmaW5lZCcpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZWRpdEFwcGxpZWQuZW50cmllcygpKS50by5iZS5sZW5ndGhPZigxKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGVkaXRBcHBsaWVkLmVudHJpZXMoKVswXVsxXSkudG8uYmUubGVuZ3RoT2YoMSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChlZGl0QXBwbGllZC5lbnRyaWVzKClbMF1bMV1bMF0ubmV3VGV4dCkudG8uYmUuZXF1YWwob3NfMS5FT0wpO1xyXG4gICAgICAgIHNoZWxsLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlci52ZXJpZnlBbGwoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBubyBlZGl0cyBhcmUgcHJvdmlkZWQgd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBsaW5lICh3aGVuIHVzaW5nIHByb3ZpZGVyIG1ldGhvZCknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgdXJpID0gdnNjb2RlXzEuVXJpLmZpbGUoJ1Rlc3REb2MnKTtcclxuICAgICAgICBjb25zdCBtb2NrRG9jID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIG1vY2tEb2Muc2V0dXAoKGQpID0+IGQudGhlbikucmV0dXJucygoKSA9PiB1bmRlZmluZWQpO1xyXG4gICAgICAgIG1vY2tEb2Muc2V0dXAoZCA9PiBkLmxpbmVDb3VudClcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gMSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBkb2N1bWVudE1hbmFnZXJcclxuICAgICAgICAgICAgLnNldHVwKGQgPT4gZC5vcGVuVGV4dERvY3VtZW50KFR5cGVNb3EuSXQuaXNWYWx1ZSh1cmkpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tEb2Mub2JqZWN0KSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBzaGVsbFxyXG4gICAgICAgICAgICAuc2V0dXAocyA9PiBzLnNob3dFcnJvck1lc3NhZ2UoVHlwZU1vcS5JdC5pc0FueSgpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMubmV2ZXIoKSk7XHJcbiAgICAgICAgY29uc3QgZWRpdCA9IHlpZWxkIHNvcnRQcm92aWRlci5wcm92aWRlRG9jdW1lbnRTb3J0SW1wb3J0c0VkaXRzKHVyaSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChlZGl0KS50by5iZS5lcXVhbCh1bmRlZmluZWQsICdub3QgdW5kZWZpbmVkJyk7XHJcbiAgICAgICAgc2hlbGwudmVyaWZ5QWxsKCk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyLnZlcmlmeUFsbCgpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnRW5zdXJlIG5vIGVkaXRzIGFyZSBwcm92aWRlZCB3aGVuIHRoZXJlIGFyZSBubyBsaW5lcyAod2hlbiB1c2luZyBwcm92aWRlciBtZXRob2QpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHVyaSA9IHZzY29kZV8xLlVyaS5maWxlKCdUZXN0RG9jJyk7XHJcbiAgICAgICAgY29uc3QgbW9ja0RvYyA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKChkKSA9PiBkLnRoZW4pLnJldHVybnMoKCkgPT4gdW5kZWZpbmVkKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKGQgPT4gZC5saW5lQ291bnQpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IDApXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyXHJcbiAgICAgICAgICAgIC5zZXR1cChkID0+IGQub3BlblRleHREb2N1bWVudChUeXBlTW9xLkl0LmlzVmFsdWUodXJpKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrRG9jLm9iamVjdCkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgc2hlbGxcclxuICAgICAgICAgICAgLnNldHVwKHMgPT4gcy5zaG93RXJyb3JNZXNzYWdlKFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLm5ldmVyKCkpO1xyXG4gICAgICAgIGNvbnN0IGVkaXQgPSB5aWVsZCBzb3J0UHJvdmlkZXIucHJvdmlkZURvY3VtZW50U29ydEltcG9ydHNFZGl0cyh1cmkpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZWRpdCkudG8uYmUuZXF1YWwodW5kZWZpbmVkLCAnbm90IHVuZGVmaW5lZCcpO1xyXG4gICAgICAgIHNoZWxsLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlci52ZXJpZnlBbGwoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSB0ZW1wb3JhcnkgZmlsZSBpcyBjcmVhdGVkIGZvciBzb3J0aW5nIHdoZW4gZG9jdW1lbnQgaXMgZGlydHknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgdXJpID0gdnNjb2RlXzEuVXJpLmZpbGUoJ3NvbWV0aGluZy5weScpO1xyXG4gICAgICAgIGNvbnN0IG1vY2tEb2MgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgbGV0IHRtcEZpbGVEaXNwb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHRtcEZpbGUgPSB7IGZpbGVQYXRoOiAnVG1wRmlsZScsIGRpc3Bvc2U6ICgpID0+IHRtcEZpbGVEaXNwb3NlZCA9IHRydWUgfTtcclxuICAgICAgICBjb25zdCBwcm9jZXNzU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBwcm9jZXNzU2VydmljZS5zZXR1cCgoZCkgPT4gZC50aGVuKS5yZXR1cm5zKCgpID0+IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgbW9ja0RvYy5zZXR1cCgoZCkgPT4gZC50aGVuKS5yZXR1cm5zKCgpID0+IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgbW9ja0RvYy5zZXR1cChkID0+IGQubGluZUNvdW50KVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiAxMClcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKGQgPT4gZC5nZXRUZXh0KFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+ICdIZWxsbycpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgbW9ja0RvYy5zZXR1cChkID0+IGQuaXNEaXJ0eSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gdHJ1ZSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBtb2NrRG9jLnNldHVwKGQgPT4gZC51cmkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IHVyaSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBkb2N1bWVudE1hbmFnZXJcclxuICAgICAgICAgICAgLnNldHVwKGQgPT4gZC5vcGVuVGV4dERvY3VtZW50KFR5cGVNb3EuSXQuaXNWYWx1ZSh1cmkpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tEb2Mub2JqZWN0KSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5hdExlYXN0T25jZSgpKTtcclxuICAgICAgICBmcy5zZXR1cChmID0+IGYuY3JlYXRlVGVtcG9yYXJ5RmlsZShUeXBlTW9xLkl0LmlzVmFsdWUoJy5weScpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRtcEZpbGUpKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgZnMuc2V0dXAoZiA9PiBmLndyaXRlRmlsZShUeXBlTW9xLkl0LmlzVmFsdWUodG1wRmlsZS5maWxlUGF0aCksIFR5cGVNb3EuSXQuaXNWYWx1ZSgnSGVsbG8nKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgcHl0aG9uU2V0dGluZ3Muc2V0dXAocyA9PiBzLnNvcnRJbXBvcnRzKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiB7IHJldHVybiB7IHBhdGg6ICdDVVNUT01fSVNPUlQnLCBhcmdzOiBbJzEnLCAnMiddIH07IH0pXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMub25jZSgpKTtcclxuICAgICAgICBwcm9jZXNzU2VydmljZUZhY3Rvcnkuc2V0dXAocCA9PiBwLmNyZWF0ZShUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc1NlcnZpY2Uub2JqZWN0KSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkQXJncyA9IFt0bXBGaWxlLmZpbGVQYXRoLCAnLS1kaWZmJywgJzEnLCAnMiddO1xyXG4gICAgICAgIHByb2Nlc3NTZXJ2aWNlXHJcbiAgICAgICAgICAgIC5zZXR1cChwID0+IHAuZXhlYyhUeXBlTW9xLkl0LmlzVmFsdWUoJ0NVU1RPTV9JU09SVCcpLCBUeXBlTW9xLkl0LmlzVmFsdWUoZXhwZWN0ZWRBcmdzKSwgVHlwZU1vcS5JdC5pc1ZhbHVlKHsgdGhyb3dPblN0ZEVycjogdHJ1ZSwgdG9rZW46IHVuZGVmaW5lZCB9KSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN0ZG91dDogJ0RJRkYnIH0pKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRFZGl0ID0gbmV3IHZzY29kZV8xLldvcmtzcGFjZUVkaXQoKTtcclxuICAgICAgICBlZGl0b3JVdGlsc1xyXG4gICAgICAgICAgICAuc2V0dXAoZSA9PiBlLmdldFdvcmtzcGFjZUVkaXRzRnJvbVBhdGNoKFR5cGVNb3EuSXQuaXNWYWx1ZSgnSGVsbG8nKSwgVHlwZU1vcS5JdC5pc1ZhbHVlKCdESUZGJyksIFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IGV4cGVjdGVkRWRpdClcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIGNvbnN0IGVkaXQgPSB5aWVsZCBzb3J0UHJvdmlkZXIucHJvdmlkZURvY3VtZW50U29ydEltcG9ydHNFZGl0cyh1cmkpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZWRpdCkudG8uYmUuZXF1YWwoZXhwZWN0ZWRFZGl0KTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KHRtcEZpbGVEaXNwb3NlZCkudG8uYmUuZXF1YWwodHJ1ZSwgJ1RlbXBvcmFyeSBmaWxlIG5vdCBkaXNwb3NlZCcpO1xyXG4gICAgICAgIHNoZWxsLnZlcmlmeUFsbCgpO1xyXG4gICAgICAgIGRvY3VtZW50TWFuYWdlci52ZXJpZnlBbGwoKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Vuc3VyZSB0ZW1wb3JhcnkgZmlsZSBpcyBjcmVhdGVkIGZvciBzb3J0aW5nIHdoZW4gZG9jdW1lbnQgaXMgZGlydHkgKHdpdGggY3VzdG9tIGlzb3J0IHBhdGgpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHVyaSA9IHZzY29kZV8xLlVyaS5maWxlKCdzb21ldGhpbmcucHknKTtcclxuICAgICAgICBjb25zdCBtb2NrRG9jID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGxldCB0bXBGaWxlRGlzcG9zZWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCB0bXBGaWxlID0geyBmaWxlUGF0aDogJ1RtcEZpbGUnLCBkaXNwb3NlOiAoKSA9PiB0bXBGaWxlRGlzcG9zZWQgPSB0cnVlIH07XHJcbiAgICAgICAgY29uc3QgcHJvY2Vzc1NlcnZpY2UgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgcHJvY2Vzc1NlcnZpY2Uuc2V0dXAoKGQpID0+IGQudGhlbikucmV0dXJucygoKSA9PiB1bmRlZmluZWQpO1xyXG4gICAgICAgIG1vY2tEb2Muc2V0dXAoKGQpID0+IGQudGhlbikucmV0dXJucygoKSA9PiB1bmRlZmluZWQpO1xyXG4gICAgICAgIG1vY2tEb2Muc2V0dXAoZCA9PiBkLmxpbmVDb3VudClcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gMTApXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgbW9ja0RvYy5zZXR1cChkID0+IGQuZ2V0VGV4dChUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiAnSGVsbG8nKVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLmF0TGVhc3RPbmNlKCkpO1xyXG4gICAgICAgIG1vY2tEb2Muc2V0dXAoZCA9PiBkLmlzRGlydHkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IHRydWUpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgbW9ja0RvYy5zZXR1cChkID0+IGQudXJpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiB1cmkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyXHJcbiAgICAgICAgICAgIC5zZXR1cChkID0+IGQub3BlblRleHREb2N1bWVudChUeXBlTW9xLkl0LmlzVmFsdWUodXJpKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrRG9jLm9iamVjdCkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMuYXRMZWFzdE9uY2UoKSk7XHJcbiAgICAgICAgZnMuc2V0dXAoZiA9PiBmLmNyZWF0ZVRlbXBvcmFyeUZpbGUoVHlwZU1vcS5JdC5pc1ZhbHVlKCcucHknKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh0bXBGaWxlKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIGZzLnNldHVwKGYgPT4gZi53cml0ZUZpbGUoVHlwZU1vcS5JdC5pc1ZhbHVlKHRtcEZpbGUuZmlsZVBhdGgpLCBUeXBlTW9xLkl0LmlzVmFsdWUoJ0hlbGxvJykpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIHB5dGhvblNldHRpbmdzLnNldHVwKHMgPT4gcy5zb3J0SW1wb3J0cylcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4geyByZXR1cm4geyBhcmdzOiBbJzEnLCAnMiddIH07IH0pXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMub25jZSgpKTtcclxuICAgICAgICBjb25zdCBwcm9jZXNzRXhlU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBwcm9jZXNzRXhlU2VydmljZS5zZXR1cCgocCkgPT4gcC50aGVuKS5yZXR1cm5zKCgpID0+IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgcHl0aG9uRXhlY0ZhY3Rvcnkuc2V0dXAocCA9PiBwLmNyZWF0ZShUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc0V4ZVNlcnZpY2Uub2JqZWN0KSlcclxuICAgICAgICAgICAgLnZlcmlmaWFibGUoVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgIGNvbnN0IGltcG9ydFNjcmlwdCA9IHBhdGguam9pbihjb25zdGFudHNfMS5FWFRFTlNJT05fUk9PVF9ESVIsICdweXRob25GaWxlcycsICdzb3J0SW1wb3J0cy5weScpO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkQXJncyA9IFtpbXBvcnRTY3JpcHQsIHRtcEZpbGUuZmlsZVBhdGgsICctLWRpZmYnLCAnMScsICcyJ107XHJcbiAgICAgICAgcHJvY2Vzc0V4ZVNlcnZpY2VcclxuICAgICAgICAgICAgLnNldHVwKHAgPT4gcC5leGVjKFR5cGVNb3EuSXQuaXNWYWx1ZShleHBlY3RlZEFyZ3MpLCBUeXBlTW9xLkl0LmlzVmFsdWUoeyB0aHJvd09uU3RkRXJyOiB0cnVlLCB0b2tlbjogdW5kZWZpbmVkIH0pKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgc3Rkb3V0OiAnRElGRicgfSkpXHJcbiAgICAgICAgICAgIC52ZXJpZmlhYmxlKFR5cGVNb3EuVGltZXMub25jZSgpKTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZEVkaXQgPSBuZXcgdnNjb2RlXzEuV29ya3NwYWNlRWRpdCgpO1xyXG4gICAgICAgIGVkaXRvclV0aWxzXHJcbiAgICAgICAgICAgIC5zZXR1cChlID0+IGUuZ2V0V29ya3NwYWNlRWRpdHNGcm9tUGF0Y2goVHlwZU1vcS5JdC5pc1ZhbHVlKCdIZWxsbycpLCBUeXBlTW9xLkl0LmlzVmFsdWUoJ0RJRkYnKSwgVHlwZU1vcS5JdC5pc0FueSgpKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gZXhwZWN0ZWRFZGl0KVxyXG4gICAgICAgICAgICAudmVyaWZpYWJsZShUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgY29uc3QgZWRpdCA9IHlpZWxkIHNvcnRQcm92aWRlci5wcm92aWRlRG9jdW1lbnRTb3J0SW1wb3J0c0VkaXRzKHVyaSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChlZGl0KS50by5iZS5lcXVhbChleHBlY3RlZEVkaXQpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QodG1wRmlsZURpc3Bvc2VkKS50by5iZS5lcXVhbCh0cnVlLCAnVGVtcG9yYXJ5IGZpbGUgbm90IGRpc3Bvc2VkJyk7XHJcbiAgICAgICAgc2hlbGwudmVyaWZ5QWxsKCk7XHJcbiAgICAgICAgZG9jdW1lbnRNYW5hZ2VyLnZlcmlmeUFsbCgpO1xyXG4gICAgfSkpO1xyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1wb3J0U29ydFByb3ZpZGVyLnVuaXQudGVzdC5qcy5tYXAiXX0=