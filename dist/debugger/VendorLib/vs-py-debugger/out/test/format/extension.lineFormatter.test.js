"use strict"; // Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

Object.defineProperty(exports, "__esModule", {
  value: true
});

const assert = require("assert");

const fs = require("fs");

const path = require("path");

const TypeMoq = require("typemoq");

const vscode_1 = require("vscode");

require("../../client/common/extensions");

const lineFormatter_1 = require("../../client/formatters/lineFormatter");

const formatFilesPath = path.join(__dirname, '..', '..', '..', 'src', 'test', 'pythonFiles', 'formatting');
const grammarFile = path.join(formatFilesPath, 'pythonGrammar.py'); // https://www.python.org/dev/peps/pep-0008/#code-lay-out
// tslint:disable-next-line:max-func-body-length

suite('Formatting - line formatter', () => {
  const formatter = new lineFormatter_1.LineFormatter();
  test('Operator spacing', () => {
    testFormatLine('( x  +1 )*y/ 3', '(x + 1) * y / 3');
  });
  test('Braces spacing', () => {
    testFormatMultiline('foo =(0 ,)', 0, 'foo = (0,)');
  });
  test('Colon regular', () => {
    testFormatMultiline('if x == 4 : print x,y; x,y= y, x', 0, 'if x == 4: print x, y; x, y = y, x');
  });
  test('Colon slices', () => {
    testFormatLine('x[1: 30]', 'x[1:30]');
  });
  test('Colon slices in arguments', () => {
    testFormatLine('spam ( ham[ 1 :3], {eggs : 2})', 'spam(ham[1:3], {eggs: 2})');
  });
  test('Colon slices with double colon', () => {
    testFormatLine('ham [1:9 ], ham[ 1: 9:   3], ham[: 9 :3], ham[1: :3], ham [ 1: 9:]', 'ham[1:9], ham[1:9:3], ham[:9:3], ham[1::3], ham[1:9:]');
  });
  test('Colon slices with operators', () => {
    testFormatLine('ham [lower+ offset :upper+offset]', 'ham[lower + offset:upper + offset]');
  });
  test('Colon slices with functions', () => {
    testFormatLine('ham[ : upper_fn ( x) : step_fn(x )], ham[ :: step_fn(x)]', 'ham[:upper_fn(x):step_fn(x)], ham[::step_fn(x)]');
  });
  test('Colon in for loop', () => {
    testFormatLine('for index in  range( len(fruits) ): ', 'for index in range(len(fruits)):');
  });
  test('Nested braces', () => {
    testFormatLine('[ 1 :[2: (x,),y]]{1}', '[1:[2:(x,), y]]{1}');
  });
  test('Trailing comment', () => {
    testFormatMultiline('x=1    # comment', 0, 'x = 1  # comment');
  });
  test('Single comment', () => {
    testFormatLine('# comment', '# comment');
  });
  test('Comment with leading whitespace', () => {
    testFormatLine('   # comment', '   # comment');
  });
  test('Operators without following space', () => {
    testFormatLine('foo( *a, ** b, ! c)', 'foo(*a, **b, !c)');
  });
  test('Brace after keyword', () => {
    testFormatLine('for x in(1,2,3)', 'for x in (1, 2, 3)');
    testFormatLine('assert(1,2,3)', 'assert (1, 2, 3)');
    testFormatLine('if (True|False)and(False/True)not (! x )', 'if (True | False) and (False / True) not (!x)');
    testFormatLine('while (True|False)', 'while (True | False)');
    testFormatLine('yield(a%b)', 'yield (a % b)');
  });
  test('Dot operator', () => {
    testFormatLine('x.y', 'x.y');
    testFormatLine('5 .y', '5.y');
  });
  test('Unknown tokens no space', () => {
    testFormatLine('abc\\n\\', 'abc\\n\\');
  });
  test('Unknown tokens with space', () => {
    testFormatLine('abc \\n \\', 'abc \\n \\');
  });
  test('Double asterisk', () => {
    testFormatLine('a**2, ** k', 'a ** 2, **k');
  });
  test('Lambda', () => {
    testFormatLine('lambda * args, :0', 'lambda *args,: 0');
  });
  test('Comma expression', () => {
    testFormatMultiline('x=1,2,3', 0, 'x = 1, 2, 3');
  });
  test('is exression', () => {
    testFormatLine('a( (False is  2)  is 3)', 'a((False is 2) is 3)');
  });
  test('Function returning tuple', () => {
    testFormatMultiline('x,y=f(a)', 0, 'x, y = f(a)');
  });
  test('from. import A', () => {
    testFormatLine('from. import A', 'from . import A');
  });
  test('from .. import', () => {
    testFormatLine('from ..import', 'from .. import');
  });
  test('from..x import', () => {
    testFormatLine('from..x import', 'from ..x import');
  });
  test('Raw strings', () => {
    testFormatMultiline('z=r""', 0, 'z = r""');
    testFormatMultiline('z=rf""', 0, 'z = rf""');
    testFormatMultiline('z=R""', 0, 'z = R""');
    testFormatMultiline('z=RF""', 0, 'z = RF""');
  });
  test('Binary @', () => {
    testFormatLine('a@  b', 'a @ b');
  });
  test('Unary operators', () => {
    testFormatMultiline('x= - y', 0, 'x = -y');
    testFormatMultiline('x= + y', 0, 'x = +y');
    testFormatMultiline('x= ~ y', 0, 'x = ~y');
    testFormatMultiline('x=-1', 0, 'x = -1');
    testFormatMultiline('x=   +1', 0, 'x = +1');
    testFormatMultiline('x=  ~1 ', 0, 'x = ~1');
  });
  test('Equals with type hints', () => {
    testFormatMultiline('def foo(x:int=3,x=100.)', 0, 'def foo(x: int = 3, x=100.)');
  });
  test('Trailing comma', () => {
    testFormatLine('a, =[1]', 'a, = [1]');
  });
  test('if()', () => {
    testFormatLine('if(True) :', 'if (True):');
  });
  test('lambda arguments', () => {
    testFormatMultiline('l4= lambda x =lambda y =lambda z= 1: z: y(): x()', 0, 'l4 = lambda x=lambda y=lambda z=1: z: y(): x()');
  });
  test('star in multiline arguments', () => {
    testFormatMultiline('x = [\n  * param1,\n  * param2\n]', 1, '  *param1,');
    testFormatMultiline('x = [\n  * param1,\n  * param2\n]', 2, '  *param2');
  });
  test('arrow operator', () => {
    //testFormatMultiline('def f(a, b: 1, e: 3 = 4, f =5, * g: 6, ** k: 11) -> 12: pass', 0, 'def f(a, b: 1, e: 3 = 4, f=5, *g: 6, **k: 11) -> 12: pass');
    testFormatMultiline('def f(a, \n    ** k: 11) -> 12: pass', 1, '    **k: 11) -> 12: pass');
  });
  test('Multiline function call', () => {
    testFormatMultiline('def foo(x = 1)', 0, 'def foo(x=1)');
    testFormatMultiline('def foo(a\n, x = 1)', 1, ', x=1)');
    testFormatMultiline('foo(a  ,b,\n  x = 1)', 1, '  x=1)');
    testFormatMultiline('if True:\n  if False:\n    foo(a  , bar(\n      x = 1)', 3, '      x=1)');
    testFormatMultiline('z=foo (0 , x= 1, (3+7) , y , z )', 0, 'z = foo(0, x=1, (3 + 7), y, z)');
    testFormatMultiline('foo (0,\n x= 1,', 1, ' x=1,');
    testFormatMultiline( // tslint:disable-next-line:no-multiline-string
    `async def fetch():
  async with aiohttp.ClientSession() as session:
    async with session.ws_connect(
        "http://127.0.0.1:8000/", headers = cookie) as ws: # add unwanted spaces`, 3, '        "http://127.0.0.1:8000/", headers=cookie) as ws:  # add unwanted spaces');
    testFormatMultiline('def pos0key1(*, key): return key\npos0key1(key= 100)', 1, 'pos0key1(key=100)');
    testFormatMultiline('def test_string_literals(self):\n  x= 1; y =2; self.assertTrue(len(x) == 0 and x == y)', 1, '  x = 1; y = 2; self.assertTrue(len(x) == 0 and x == y)');
  });
  test('Grammar file', () => {
    const content = fs.readFileSync(grammarFile).toString('utf8');
    const lines = content.splitLines({
      trim: false,
      removeEmptyEntries: false
    });

    for (let i = 0; i < lines.length; i += 1) {
      const line = lines[i];
      const actual = formatMultiline(content, i);
      assert.equal(actual, line, `Line ${i + 1} changed: '${line.trim()}' to '${actual.trim()}'`);
    }
  });

  function testFormatLine(text, expected) {
    const actual = formatLine(text);
    assert.equal(actual, expected);
  }

  function testFormatMultiline(content, lineNumber, expected) {
    const actual = formatMultiline(content, lineNumber);
    assert.equal(actual, expected);
  }

  function formatMultiline(content, lineNumber) {
    const lines = content.splitLines({
      trim: false,
      removeEmptyEntries: false
    });
    const document = TypeMoq.Mock.ofType();
    document.setup(x => x.lineAt(TypeMoq.It.isAnyNumber())).returns(n => {
      const line = TypeMoq.Mock.ofType();
      line.setup(x => x.text).returns(() => lines[n]);
      line.setup(x => x.range).returns(() => new vscode_1.Range(new vscode_1.Position(n, 0), new vscode_1.Position(n, lines[n].length)));
      return line.object;
    });
    document.setup(x => x.getText(TypeMoq.It.isAny())).returns(o => {
      const r = o;
      const bits = [];

      if (r.start.line === r.end.line) {
        return lines[r.start.line].substring(r.start.character, r.end.character);
      }

      bits.push(lines[r.start.line].substr(r.start.character));

      for (let i = r.start.line + 1; i < r.end.line; i += 1) {
        bits.push(lines[i]);
      }

      bits.push(lines[r.end.line].substring(0, r.end.character));
      return bits.join('\n');
    });
    document.setup(x => x.offsetAt(TypeMoq.It.isAny())).returns(o => {
      const p = o;
      let offset = 0;

      for (let i = 0; i < p.line; i += 1) {
        offset += lines[i].length + 1; // Accounting for the line break
      }

      return offset + p.character;
    });
    return formatter.formatLine(document.object, lineNumber);
  }

  function formatLine(text) {
    const line = TypeMoq.Mock.ofType();
    line.setup(x => x.text).returns(() => text);
    const document = TypeMoq.Mock.ofType();
    document.setup(x => x.lineAt(TypeMoq.It.isAnyNumber())).returns(() => line.object);
    return formatter.formatLine(document.object, 0);
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVuc2lvbi5saW5lRm9ybWF0dGVyLnRlc3QuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJhc3NlcnQiLCJyZXF1aXJlIiwiZnMiLCJwYXRoIiwiVHlwZU1vcSIsInZzY29kZV8xIiwibGluZUZvcm1hdHRlcl8xIiwiZm9ybWF0RmlsZXNQYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImdyYW1tYXJGaWxlIiwic3VpdGUiLCJmb3JtYXR0ZXIiLCJMaW5lRm9ybWF0dGVyIiwidGVzdCIsInRlc3RGb3JtYXRMaW5lIiwidGVzdEZvcm1hdE11bHRpbGluZSIsImNvbnRlbnQiLCJyZWFkRmlsZVN5bmMiLCJ0b1N0cmluZyIsImxpbmVzIiwic3BsaXRMaW5lcyIsInRyaW0iLCJyZW1vdmVFbXB0eUVudHJpZXMiLCJpIiwibGVuZ3RoIiwibGluZSIsImFjdHVhbCIsImZvcm1hdE11bHRpbGluZSIsImVxdWFsIiwidGV4dCIsImV4cGVjdGVkIiwiZm9ybWF0TGluZSIsImxpbmVOdW1iZXIiLCJkb2N1bWVudCIsIk1vY2siLCJvZlR5cGUiLCJzZXR1cCIsIngiLCJsaW5lQXQiLCJJdCIsImlzQW55TnVtYmVyIiwicmV0dXJucyIsIm4iLCJyYW5nZSIsIlJhbmdlIiwiUG9zaXRpb24iLCJvYmplY3QiLCJnZXRUZXh0IiwiaXNBbnkiLCJvIiwiciIsImJpdHMiLCJzdGFydCIsImVuZCIsInN1YnN0cmluZyIsImNoYXJhY3RlciIsInB1c2giLCJzdWJzdHIiLCJvZmZzZXRBdCIsInAiLCJvZmZzZXQiXSwibWFwcGluZ3MiOiJBQUFBLGEsQ0FDQTtBQUNBOztBQUNBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQUVDLEVBQUFBLEtBQUssRUFBRTtBQUFULENBQTdDOztBQUNBLE1BQU1DLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUMs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UUFBUSxDQUFDRyxLQUFULENBQWVDLENBQUMsSUFBSUEsQ0FBQyxDQUFDQyxNQUFGLENBQVNuQyxPQUFPLENBQUNvQyxFQUFSLENBQVdDLFdBQVgsRUFBVCxDQUFwQixFQUF3REMsT0FBeEQsQ0FBZ0UsTUFBTWhCLElBQUksQ0FBQ3FCLE1BQTNFO0FBQ0EsV0FBT25DLFNBQVMsQ0FBQ29CLFVBQVYsQ0FBcUJFLFFBQVEsQ0FBQ2EsTUFBOUIsRUFBc0MsQ0FBdEMsQ0FBUDtBQUNIO0FBQ0osQ0FsTUksQ0FBTCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIik7XHJcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbmNvbnN0IFR5cGVNb3EgPSByZXF1aXJlKFwidHlwZW1vcVwiKTtcclxuY29uc3QgdnNjb2RlXzEgPSByZXF1aXJlKFwidnNjb2RlXCIpO1xyXG5yZXF1aXJlKFwiLi4vLi4vY2xpZW50L2NvbW1vbi9leHRlbnNpb25zXCIpO1xyXG5jb25zdCBsaW5lRm9ybWF0dGVyXzEgPSByZXF1aXJlKFwiLi4vLi4vY2xpZW50L2Zvcm1hdHRlcnMvbGluZUZvcm1hdHRlclwiKTtcclxuY29uc3QgZm9ybWF0RmlsZXNQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJy4uJywgJy4uJywgJ3NyYycsICd0ZXN0JywgJ3B5dGhvbkZpbGVzJywgJ2Zvcm1hdHRpbmcnKTtcclxuY29uc3QgZ3JhbW1hckZpbGUgPSBwYXRoLmpvaW4oZm9ybWF0RmlsZXNQYXRoLCAncHl0aG9uR3JhbW1hci5weScpO1xyXG4vLyBodHRwczovL3d3dy5weXRob24ub3JnL2Rldi9wZXBzL3BlcC0wMDA4LyNjb2RlLWxheS1vdXRcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1mdW5jLWJvZHktbGVuZ3RoXHJcbnN1aXRlKCdGb3JtYXR0aW5nIC0gbGluZSBmb3JtYXR0ZXInLCAoKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgbGluZUZvcm1hdHRlcl8xLkxpbmVGb3JtYXR0ZXIoKTtcclxuICAgIHRlc3QoJ09wZXJhdG9yIHNwYWNpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJyggeCAgKzEgKSp5LyAzJywgJyh4ICsgMSkgKiB5IC8gMycpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdCcmFjZXMgc3BhY2luZycsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCdmb28gPSgwICwpJywgMCwgJ2ZvbyA9ICgwLCknKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnQ29sb24gcmVndWxhcicsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCdpZiB4ID09IDQgOiBwcmludCB4LHk7IHgseT0geSwgeCcsIDAsICdpZiB4ID09IDQ6IHByaW50IHgsIHk7IHgsIHkgPSB5LCB4Jyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0NvbG9uIHNsaWNlcycsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TGluZSgneFsxOiAzMF0nLCAneFsxOjMwXScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdDb2xvbiBzbGljZXMgaW4gYXJndW1lbnRzJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdzcGFtICggaGFtWyAxIDozXSwge2VnZ3MgOiAyfSknLCAnc3BhbShoYW1bMTozXSwge2VnZ3M6IDJ9KScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdDb2xvbiBzbGljZXMgd2l0aCBkb3VibGUgY29sb24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2hhbSBbMTo5IF0sIGhhbVsgMTogOTogICAzXSwgaGFtWzogOSA6M10sIGhhbVsxOiA6M10sIGhhbSBbIDE6IDk6XScsICdoYW1bMTo5XSwgaGFtWzE6OTozXSwgaGFtWzo5OjNdLCBoYW1bMTo6M10sIGhhbVsxOjk6XScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdDb2xvbiBzbGljZXMgd2l0aCBvcGVyYXRvcnMnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2hhbSBbbG93ZXIrIG9mZnNldCA6dXBwZXIrb2Zmc2V0XScsICdoYW1bbG93ZXIgKyBvZmZzZXQ6dXBwZXIgKyBvZmZzZXRdJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0NvbG9uIHNsaWNlcyB3aXRoIGZ1bmN0aW9ucycsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TGluZSgnaGFtWyA6IHVwcGVyX2ZuICggeCkgOiBzdGVwX2ZuKHggKV0sIGhhbVsgOjogc3RlcF9mbih4KV0nLCAnaGFtWzp1cHBlcl9mbih4KTpzdGVwX2ZuKHgpXSwgaGFtWzo6c3RlcF9mbih4KV0nKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnQ29sb24gaW4gZm9yIGxvb3AnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2ZvciBpbmRleCBpbiAgcmFuZ2UoIGxlbihmcnVpdHMpICk6ICcsICdmb3IgaW5kZXggaW4gcmFuZ2UobGVuKGZydWl0cykpOicpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdOZXN0ZWQgYnJhY2VzJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdbIDEgOlsyOiAoeCwpLHldXXsxfScsICdbMTpbMjooeCwpLCB5XV17MX0nKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnVHJhaWxpbmcgY29tbWVudCcsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCd4PTEgICAgIyBjb21tZW50JywgMCwgJ3ggPSAxICAjIGNvbW1lbnQnKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnU2luZ2xlIGNvbW1lbnQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJyMgY29tbWVudCcsICcjIGNvbW1lbnQnKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnQ29tbWVudCB3aXRoIGxlYWRpbmcgd2hpdGVzcGFjZScsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TGluZSgnICAgIyBjb21tZW50JywgJyAgICMgY29tbWVudCcpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdPcGVyYXRvcnMgd2l0aG91dCBmb2xsb3dpbmcgc3BhY2UnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2ZvbyggKmEsICoqIGIsICEgYyknLCAnZm9vKCphLCAqKmIsICFjKScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdCcmFjZSBhZnRlciBrZXl3b3JkJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdmb3IgeCBpbigxLDIsMyknLCAnZm9yIHggaW4gKDEsIDIsIDMpJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2Fzc2VydCgxLDIsMyknLCAnYXNzZXJ0ICgxLCAyLCAzKScpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdpZiAoVHJ1ZXxGYWxzZSlhbmQoRmFsc2UvVHJ1ZSlub3QgKCEgeCApJywgJ2lmIChUcnVlIHwgRmFsc2UpIGFuZCAoRmFsc2UgLyBUcnVlKSBub3QgKCF4KScpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCd3aGlsZSAoVHJ1ZXxGYWxzZSknLCAnd2hpbGUgKFRydWUgfCBGYWxzZSknKTtcclxuICAgICAgICB0ZXN0Rm9ybWF0TGluZSgneWllbGQoYSViKScsICd5aWVsZCAoYSAlIGIpJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0RvdCBvcGVyYXRvcicsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TGluZSgneC55JywgJ3gueScpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCc1IC55JywgJzUueScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdVbmtub3duIHRva2VucyBubyBzcGFjZScsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TGluZSgnYWJjXFxcXG5cXFxcJywgJ2FiY1xcXFxuXFxcXCcpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdVbmtub3duIHRva2VucyB3aXRoIHNwYWNlJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdhYmMgXFxcXG4gXFxcXCcsICdhYmMgXFxcXG4gXFxcXCcpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdEb3VibGUgYXN0ZXJpc2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2EqKjIsICoqIGsnLCAnYSAqKiAyLCAqKmsnKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnTGFtYmRhJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdsYW1iZGEgKiBhcmdzLCA6MCcsICdsYW1iZGEgKmFyZ3MsOiAwJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0NvbW1hIGV4cHJlc3Npb24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgneD0xLDIsMycsIDAsICd4ID0gMSwgMiwgMycpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdpcyBleHJlc3Npb24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2EoIChGYWxzZSBpcyAgMikgIGlzIDMpJywgJ2EoKEZhbHNlIGlzIDIpIGlzIDMpJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0Z1bmN0aW9uIHJldHVybmluZyB0dXBsZScsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCd4LHk9ZihhKScsIDAsICd4LCB5ID0gZihhKScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdmcm9tLiBpbXBvcnQgQScsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TGluZSgnZnJvbS4gaW1wb3J0IEEnLCAnZnJvbSAuIGltcG9ydCBBJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ2Zyb20gLi4gaW1wb3J0JywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdmcm9tIC4uaW1wb3J0JywgJ2Zyb20gLi4gaW1wb3J0Jyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ2Zyb20uLnggaW1wb3J0JywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdmcm9tLi54IGltcG9ydCcsICdmcm9tIC4ueCBpbXBvcnQnKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnUmF3IHN0cmluZ3MnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnej1yXCJcIicsIDAsICd6ID0gclwiXCInKTtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCd6PXJmXCJcIicsIDAsICd6ID0gcmZcIlwiJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnej1SXCJcIicsIDAsICd6ID0gUlwiXCInKTtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCd6PVJGXCJcIicsIDAsICd6ID0gUkZcIlwiJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0JpbmFyeSBAJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdhQCAgYicsICdhIEAgYicpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdVbmFyeSBvcGVyYXRvcnMnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgneD0gLSB5JywgMCwgJ3ggPSAteScpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRNdWx0aWxpbmUoJ3g9ICsgeScsIDAsICd4ID0gK3knKTtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCd4PSB+IHknLCAwLCAneCA9IH55Jyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgneD0tMScsIDAsICd4ID0gLTEnKTtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCd4PSAgICsxJywgMCwgJ3ggPSArMScpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRNdWx0aWxpbmUoJ3g9ICB+MSAnLCAwLCAneCA9IH4xJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0VxdWFscyB3aXRoIHR5cGUgaGludHMnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnZGVmIGZvbyh4OmludD0zLHg9MTAwLiknLCAwLCAnZGVmIGZvbyh4OiBpbnQgPSAzLCB4PTEwMC4pJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ1RyYWlsaW5nIGNvbW1hJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRMaW5lKCdhLCA9WzFdJywgJ2EsID0gWzFdJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ2lmKCknLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdExpbmUoJ2lmKFRydWUpIDonLCAnaWYgKFRydWUpOicpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdsYW1iZGEgYXJndW1lbnRzJywgKCkgPT4ge1xyXG4gICAgICAgIHRlc3RGb3JtYXRNdWx0aWxpbmUoJ2w0PSBsYW1iZGEgeCA9bGFtYmRhIHkgPWxhbWJkYSB6PSAxOiB6OiB5KCk6IHgoKScsIDAsICdsNCA9IGxhbWJkYSB4PWxhbWJkYSB5PWxhbWJkYSB6PTE6IHo6IHkoKTogeCgpJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ3N0YXIgaW4gbXVsdGlsaW5lIGFyZ3VtZW50cycsICgpID0+IHtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCd4ID0gW1xcbiAgKiBwYXJhbTEsXFxuICAqIHBhcmFtMlxcbl0nLCAxLCAnICAqcGFyYW0xLCcpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRNdWx0aWxpbmUoJ3ggPSBbXFxuICAqIHBhcmFtMSxcXG4gICogcGFyYW0yXFxuXScsIDIsICcgICpwYXJhbTInKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnYXJyb3cgb3BlcmF0b3InLCAoKSA9PiB7XHJcbiAgICAgICAgLy90ZXN0Rm9ybWF0TXVsdGlsaW5lKCdkZWYgZihhLCBiOiAxLCBlOiAzID0gNCwgZiA9NSwgKiBnOiA2LCAqKiBrOiAxMSkgLT4gMTI6IHBhc3MnLCAwLCAnZGVmIGYoYSwgYjogMSwgZTogMyA9IDQsIGY9NSwgKmc6IDYsICoqazogMTEpIC0+IDEyOiBwYXNzJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnZGVmIGYoYSwgXFxuICAgICoqIGs6IDExKSAtPiAxMjogcGFzcycsIDEsICcgICAgKiprOiAxMSkgLT4gMTI6IHBhc3MnKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnTXVsdGlsaW5lIGZ1bmN0aW9uIGNhbGwnLCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnZGVmIGZvbyh4ID0gMSknLCAwLCAnZGVmIGZvbyh4PTEpJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnZGVmIGZvbyhhXFxuLCB4ID0gMSknLCAxLCAnLCB4PTEpJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnZm9vKGEgICxiLFxcbiAgeCA9IDEpJywgMSwgJyAgeD0xKScpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRNdWx0aWxpbmUoJ2lmIFRydWU6XFxuICBpZiBGYWxzZTpcXG4gICAgZm9vKGEgICwgYmFyKFxcbiAgICAgIHggPSAxKScsIDMsICcgICAgICB4PTEpJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnej1mb28gKDAgLCB4PSAxLCAoMys3KSAsIHkgLCB6ICknLCAwLCAneiA9IGZvbygwLCB4PTEsICgzICsgNyksIHksIHopJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnZm9vICgwLFxcbiB4PSAxLCcsIDEsICcgeD0xLCcpO1xyXG4gICAgICAgIHRlc3RGb3JtYXRNdWx0aWxpbmUoXHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLW11bHRpbGluZS1zdHJpbmdcclxuICAgICAgICBgYXN5bmMgZGVmIGZldGNoKCk6XHJcbiAgYXN5bmMgd2l0aCBhaW9odHRwLkNsaWVudFNlc3Npb24oKSBhcyBzZXNzaW9uOlxyXG4gICAgYXN5bmMgd2l0aCBzZXNzaW9uLndzX2Nvbm5lY3QoXHJcbiAgICAgICAgXCJodHRwOi8vMTI3LjAuMC4xOjgwMDAvXCIsIGhlYWRlcnMgPSBjb29raWUpIGFzIHdzOiAjIGFkZCB1bndhbnRlZCBzcGFjZXNgLCAzLCAnICAgICAgICBcImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9cIiwgaGVhZGVycz1jb29raWUpIGFzIHdzOiAgIyBhZGQgdW53YW50ZWQgc3BhY2VzJyk7XHJcbiAgICAgICAgdGVzdEZvcm1hdE11bHRpbGluZSgnZGVmIHBvczBrZXkxKCosIGtleSk6IHJldHVybiBrZXlcXG5wb3Mwa2V5MShrZXk9IDEwMCknLCAxLCAncG9zMGtleTEoa2V5PTEwMCknKTtcclxuICAgICAgICB0ZXN0Rm9ybWF0TXVsdGlsaW5lKCdkZWYgdGVzdF9zdHJpbmdfbGl0ZXJhbHMoc2VsZik6XFxuICB4PSAxOyB5ID0yOyBzZWxmLmFzc2VydFRydWUobGVuKHgpID09IDAgYW5kIHggPT0geSknLCAxLCAnICB4ID0gMTsgeSA9IDI7IHNlbGYuYXNzZXJ0VHJ1ZShsZW4oeCkgPT0gMCBhbmQgeCA9PSB5KScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdHcmFtbWFyIGZpbGUnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhncmFtbWFyRmlsZSkudG9TdHJpbmcoJ3V0ZjgnKTtcclxuICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXRMaW5lcyh7IHRyaW06IGZhbHNlLCByZW1vdmVFbXB0eUVudHJpZXM6IGZhbHNlIH0pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBhY3R1YWwgPSBmb3JtYXRNdWx0aWxpbmUoY29udGVudCwgaSk7XHJcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChhY3R1YWwsIGxpbmUsIGBMaW5lICR7aSArIDF9IGNoYW5nZWQ6ICcke2xpbmUudHJpbSgpfScgdG8gJyR7YWN0dWFsLnRyaW0oKX0nYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiB0ZXN0Rm9ybWF0TGluZSh0ZXh0LCBleHBlY3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbCA9IGZvcm1hdExpbmUodGV4dCk7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdGVzdEZvcm1hdE11bHRpbGluZShjb250ZW50LCBsaW5lTnVtYmVyLCBleHBlY3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbCA9IGZvcm1hdE11bHRpbGluZShjb250ZW50LCBsaW5lTnVtYmVyKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYWN0dWFsLCBleHBlY3RlZCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBmb3JtYXRNdWx0aWxpbmUoY29udGVudCwgbGluZU51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdExpbmVzKHsgdHJpbTogZmFsc2UsIHJlbW92ZUVtcHR5RW50cmllczogZmFsc2UgfSk7XHJcbiAgICAgICAgY29uc3QgZG9jdW1lbnQgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuc2V0dXAoeCA9PiB4LmxpbmVBdChUeXBlTW9xLkl0LmlzQW55TnVtYmVyKCkpKS5yZXR1cm5zKG4gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICBsaW5lLnNldHVwKHggPT4geC50ZXh0KS5yZXR1cm5zKCgpID0+IGxpbmVzW25dKTtcclxuICAgICAgICAgICAgbGluZS5zZXR1cCh4ID0+IHgucmFuZ2UpLnJldHVybnMoKCkgPT4gbmV3IHZzY29kZV8xLlJhbmdlKG5ldyB2c2NvZGVfMS5Qb3NpdGlvbihuLCAwKSwgbmV3IHZzY29kZV8xLlBvc2l0aW9uKG4sIGxpbmVzW25dLmxlbmd0aCkpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmUub2JqZWN0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LnNldHVwKHggPT4geC5nZXRUZXh0KFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMobyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHIgPSBvO1xyXG4gICAgICAgICAgICBjb25zdCBiaXRzID0gW107XHJcbiAgICAgICAgICAgIGlmIChyLnN0YXJ0LmxpbmUgPT09IHIuZW5kLmxpbmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsaW5lc1tyLnN0YXJ0LmxpbmVdLnN1YnN0cmluZyhyLnN0YXJ0LmNoYXJhY3Rlciwgci5lbmQuY2hhcmFjdGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiaXRzLnB1c2gobGluZXNbci5zdGFydC5saW5lXS5zdWJzdHIoci5zdGFydC5jaGFyYWN0ZXIpKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHIuc3RhcnQubGluZSArIDE7IGkgPCByLmVuZC5saW5lOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIGJpdHMucHVzaChsaW5lc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYml0cy5wdXNoKGxpbmVzW3IuZW5kLmxpbmVdLnN1YnN0cmluZygwLCByLmVuZC5jaGFyYWN0ZXIpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJpdHMuam9pbignXFxuJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuc2V0dXAoeCA9PiB4Lm9mZnNldEF0KFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMobyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSBvO1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxpbmU7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7IC8vIEFjY291bnRpbmcgZm9yIHRoZSBsaW5lIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9mZnNldCArIHAuY2hhcmFjdGVyO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0TGluZShkb2N1bWVudC5vYmplY3QsIGxpbmVOdW1iZXIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9ybWF0TGluZSh0ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgbGluZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBsaW5lLnNldHVwKHggPT4geC50ZXh0KS5yZXR1cm5zKCgpID0+IHRleHQpO1xyXG4gICAgICAgIGNvbnN0IGRvY3VtZW50ID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGRvY3VtZW50LnNldHVwKHggPT4geC5saW5lQXQoVHlwZU1vcS5JdC5pc0FueU51bWJlcigpKSkucmV0dXJucygoKSA9PiBsaW5lLm9iamVjdCk7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlci5mb3JtYXRMaW5lKGRvY3VtZW50Lm9iamVjdCwgMCk7XHJcbiAgICB9XHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRlbnNpb24ubGluZUZvcm1hdHRlci50ZXN0LmpzLm1hcCJdfQ==