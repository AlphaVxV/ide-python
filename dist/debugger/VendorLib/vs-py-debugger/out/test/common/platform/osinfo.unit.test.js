// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : new P(function (resolve) {
        resolve(result.value);
      }).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

Object.defineProperty(exports, "__esModule", {
  value: true
});

const chai_1 = require("chai");

const semver = require("semver");

const osinfo_1 = require("../../../client/common/platform/osinfo");

const platform = require("../../../client/common/utils/platform");

const version_1 = require("../../../client/common/utils/version");

exports.WIN_10 = new platform.Info(platform.OSType.Windows, 'x64', new semver.SemVer('10.0.1'));
exports.MAC_HIGH_SIERRA = new platform.Info(platform.OSType.OSX, 'x64', new semver.SemVer('10.13.1'));
exports.UBUNTU_BIONIC = new platform.Info(platform.OSType.Linux, 'x64', version_1.parseVersion('18.04'), //semver.coerce('18.04') || new semver.SemVer('0.0.0'),
platform.OSDistro.Ubuntu); // tslint:disable-next-line:max-func-body-length

suite('OS Info - helpers', () => {
  test('getPathVariableName - Windows', () => __awaiter(void 0, void 0, void 0, function* () {
    const result = osinfo_1.getPathVariableName(exports.WIN_10);
    chai_1.expect(result).to.be.equal('Path', 'invalid value');
  }));
  test('getPathVariableName - Mac', () => __awaiter(void 0, void 0, void 0, function* () {
    const result = osinfo_1.getPathVariableName(exports.MAC_HIGH_SIERRA);
    chai_1.expect(result).to.be.equal('PATH', 'invalid value');
  }));
  test('getPathVariableName - Linux', () => __awaiter(void 0, void 0, void 0, function* () {
    const result = osinfo_1.getPathVariableName(exports.UBUNTU_BIONIC);
    chai_1.expect(result).to.be.equal('PATH', 'invalid value');
  }));
  test('getVirtualEnvBinName - Windows', () => __awaiter(void 0, void 0, void 0, function* () {
    const result = osinfo_1.getVirtualEnvBinName(exports.WIN_10);
    chai_1.expect(result).to.be.equal('scripts', 'invalid value');
  }));
  test('getVirtualEnvBinName - Mac', () => __awaiter(void 0, void 0, void 0, function* () {
    const result = osinfo_1.getVirtualEnvBinName(exports.MAC_HIGH_SIERRA);
    chai_1.expect(result).to.be.equal('bin', 'invalid value');
  }));
  test('getVirtualEnvBinName - Linux', () => __awaiter(void 0, void 0, void 0, function* () {
    const result = osinfo_1.getVirtualEnvBinName(exports.UBUNTU_BIONIC);
    chai_1.expect(result).to.be.equal('bin', 'invalid value');
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9zaW5mby51bml0LnRlc3QuanMiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsImNoYWlfMSIsInJlcXVpcmUiLCJzZW12ZXIiLCJvc2luZm9fMSIsInBsYXRmb3JtIiwidmVyc2lvbl8xIiwiV0lOXzEwIiwiSW5mbyIsIk9TVHlwZSIsIldpbmRvd3MiLCJTZW1WZXIiLCJNQUNfSElHSF9TSUVSUkEiLCJPU1giLCJVQlVOVFVfQklPTklDIiwiTGludXgiLCJwYXJzZVZlcnNpb24iLCJPU0Rpc3RybyIsIlVidW50dSIsInN1aXRlIiwidGVzdCIsImdldFBhdGhWYXJpYWJsZU5hbWUiLCJleHBlY3QiLCJ0byIsImJlIiwiZXF1YWwiLCJnZXRWaXJ0dWFsRW52QmluTmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUNBLElBQUlBLFNBQVMsR0FBSSxVQUFRLFNBQUtBLFNBQWQsSUFBNEIsVUFBVUMsT0FBVixFQUFtQkMsVUFBbkIsRUFBK0JDLENBQS9CLEVBQWtDQyxTQUFsQyxFQUE2QztBQUNyRixTQUFPLEtBQUtELENBQUMsS0FBS0EsQ0FBQyxHQUFHRSxPQUFULENBQU4sRUFBeUIsVUFBVUMsT0FBVixFQUFtQkMsTUFBbkIsRUFBMkI7QUFDdkQsYUFBU0MsU0FBVCxDQUFtQkMsS0FBbkIsRUFBMEI7QUFBRSxVQUFJO0FBQUVDLFFBQUFBLElBQUksQ0FBQ04sU0FBUyxDQUFDTyxJQUFWLENBQWVGLEtBQWYsQ0FBRCxDQUFKO0FBQThCLE9BQXBDLENBQXFDLE9BQU9HLENBQVAsRUFBVTtBQUFFTCxRQUFBQSxNQUFNLENB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VSxRQUFRLENBQUNzQixvQkFBVCxDQUE4QjFCLE9BQU8sQ0FBQ1ksZUFBdEMsQ0FBZjtBQUNBWCxJQUFBQSxNQUFNLENBQUNxQixNQUFQLENBQWM1QixNQUFkLEVBQXNCNkIsRUFBdEIsQ0FBeUJDLEVBQXpCLENBQTRCQyxLQUE1QixDQUFrQyxLQUFsQyxFQUF5QyxlQUF6QztBQUNILEdBSGlELENBQTlDLENBQUo7QUFJQUwsRUFBQUEsSUFBSSxDQUFDLDhCQUFELEVBQWlDLE1BQU14QyxTQUFTLFNBQU8sS0FBSyxDQUFaLEVBQWUsS0FBSyxDQUFwQixFQUF1QixhQUFhO0FBQ3BGLFVBQU1jLE1BQU0sR0FBR1UsUUFBUSxDQUFDc0Isb0JBQVQsQ0FBOEIxQixPQUFPLENBQUNjLGFBQXRDLENBQWY7QUFDQWIsSUFBQUEsTUFBTSxDQUFDcUIsTUFBUCxDQUFjNUIsTUFBZCxFQUFzQjZCLEVBQXRCLENBQXlCQyxFQUF6QixDQUE0QkMsS0FBNUIsQ0FBa0MsS0FBbEMsRUFBeUMsZUFBekM7QUFDSCxHQUhtRCxDQUFoRCxDQUFKO0FBSUgsQ0F6QkksQ0FBTCIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbid1c2Ugc3RyaWN0JztcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBjaGFpXzEgPSByZXF1aXJlKFwiY2hhaVwiKTtcclxuY29uc3Qgc2VtdmVyID0gcmVxdWlyZShcInNlbXZlclwiKTtcclxuY29uc3Qgb3NpbmZvXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L2NvbW1vbi9wbGF0Zm9ybS9vc2luZm9cIik7XHJcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcIi4uLy4uLy4uL2NsaWVudC9jb21tb24vdXRpbHMvcGxhdGZvcm1cIik7XHJcbmNvbnN0IHZlcnNpb25fMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvY29tbW9uL3V0aWxzL3ZlcnNpb25cIik7XHJcbmV4cG9ydHMuV0lOXzEwID0gbmV3IHBsYXRmb3JtLkluZm8ocGxhdGZvcm0uT1NUeXBlLldpbmRvd3MsICd4NjQnLCBuZXcgc2VtdmVyLlNlbVZlcignMTAuMC4xJykpO1xyXG5leHBvcnRzLk1BQ19ISUdIX1NJRVJSQSA9IG5ldyBwbGF0Zm9ybS5JbmZvKHBsYXRmb3JtLk9TVHlwZS5PU1gsICd4NjQnLCBuZXcgc2VtdmVyLlNlbVZlcignMTAuMTMuMScpKTtcclxuZXhwb3J0cy5VQlVOVFVfQklPTklDID0gbmV3IHBsYXRmb3JtLkluZm8ocGxhdGZvcm0uT1NUeXBlLkxpbnV4LCAneDY0JywgdmVyc2lvbl8xLnBhcnNlVmVyc2lvbignMTguMDQnKSwgXHJcbi8vc2VtdmVyLmNvZXJjZSgnMTguMDQnKSB8fCBuZXcgc2VtdmVyLlNlbVZlcignMC4wLjAnKSxcclxucGxhdGZvcm0uT1NEaXN0cm8uVWJ1bnR1KTtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1mdW5jLWJvZHktbGVuZ3RoXHJcbnN1aXRlKCdPUyBJbmZvIC0gaGVscGVycycsICgpID0+IHtcclxuICAgIHRlc3QoJ2dldFBhdGhWYXJpYWJsZU5hbWUgLSBXaW5kb3dzJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG9zaW5mb18xLmdldFBhdGhWYXJpYWJsZU5hbWUoZXhwb3J0cy5XSU5fMTApO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QocmVzdWx0KS50by5iZS5lcXVhbCgnUGF0aCcsICdpbnZhbGlkIHZhbHVlJyk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdnZXRQYXRoVmFyaWFibGVOYW1lIC0gTWFjJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG9zaW5mb18xLmdldFBhdGhWYXJpYWJsZU5hbWUoZXhwb3J0cy5NQUNfSElHSF9TSUVSUkEpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QocmVzdWx0KS50by5iZS5lcXVhbCgnUEFUSCcsICdpbnZhbGlkIHZhbHVlJyk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdnZXRQYXRoVmFyaWFibGVOYW1lIC0gTGludXgnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gb3NpbmZvXzEuZ2V0UGF0aFZhcmlhYmxlTmFtZShleHBvcnRzLlVCVU5UVV9CSU9OSUMpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QocmVzdWx0KS50by5iZS5lcXVhbCgnUEFUSCcsICdpbnZhbGlkIHZhbHVlJyk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdnZXRWaXJ0dWFsRW52QmluTmFtZSAtIFdpbmRvd3MnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gb3NpbmZvXzEuZ2V0VmlydHVhbEVudkJpbk5hbWUoZXhwb3J0cy5XSU5fMTApO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QocmVzdWx0KS50by5iZS5lcXVhbCgnc2NyaXB0cycsICdpbnZhbGlkIHZhbHVlJyk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdnZXRWaXJ0dWFsRW52QmluTmFtZSAtIE1hYycsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBvc2luZm9fMS5nZXRWaXJ0dWFsRW52QmluTmFtZShleHBvcnRzLk1BQ19ISUdIX1NJRVJSQSk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChyZXN1bHQpLnRvLmJlLmVxdWFsKCdiaW4nLCAnaW52YWxpZCB2YWx1ZScpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnZ2V0VmlydHVhbEVudkJpbk5hbWUgLSBMaW51eCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBvc2luZm9fMS5nZXRWaXJ0dWFsRW52QmluTmFtZShleHBvcnRzLlVCVU5UVV9CSU9OSUMpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QocmVzdWx0KS50by5iZS5lcXVhbCgnYmluJywgJ2ludmFsaWQgdmFsdWUnKTtcclxuICAgIH0pKTtcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9zaW5mby51bml0LnRlc3QuanMubWFwIl19