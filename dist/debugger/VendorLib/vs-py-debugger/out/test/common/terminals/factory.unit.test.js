"use strict"; // Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

Object.defineProperty(exports, "__esModule", {
  value: true
});

const chai_1 = require("chai");

const TypeMoq = require("typemoq");

const vscode_1 = require("vscode");

const types_1 = require("../../../client/common/application/types");

const factory_1 = require("../../../client/common/terminal/factory");

const service_1 = require("../../../client/common/terminal/service");

const types_2 = require("../../../client/common/terminal/types");

const types_3 = require("../../../client/common/types");

const contracts_1 = require("../../../client/interpreter/contracts"); // tslint:disable-next-line:max-func-body-length


suite('Terminal Service Factory', () => {
  let factory;
  let disposables = [];
  let workspaceService;
  setup(() => {
    const serviceContainer = TypeMoq.Mock.ofType();
    const interpreterService = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(contracts_1.IInterpreterService), TypeMoq.It.isAny())).returns(() => interpreterService.object);
    disposables = [];
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_3.IDisposableRegistry), TypeMoq.It.isAny())).returns(() => disposables);
    const terminalHelper = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_2.ITerminalHelper), TypeMoq.It.isAny())).returns(() => terminalHelper.object);
    const terminalManager = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_1.ITerminalManager), TypeMoq.It.isAny())).returns(() => terminalManager.object);
    factory = new factory_1.TerminalServiceFactory(serviceContainer.object);
    workspaceService = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_1.IWorkspaceService), TypeMoq.It.isAny())).returns(() => workspaceService.object);
  });
  teardown(() => {
    disposables.forEach(disposable => {
      if (disposable) {
        disposable.dispose();
      }
    });
  });
  test('Ensure same instance of terminal service is returned', () => {
    const instance = factory.getTerminalService();
    const sameInstance = factory.getTerminalService() === instance;
    chai_1.expect(sameInstance).to.equal(true, 'Instances are not the same');
    const differentInstance = factory.getTerminalService(undefined, 'New Title');
    const notTheSameInstance = differentInstance === instance;
    chai_1.expect(notTheSameInstance).not.to.equal(true, 'Instances are the same');
  });
  test('Ensure different instance of terminal service is returned when title is provided', () => {
    const defaultInstance = factory.getTerminalService();
    chai_1.expect(defaultInstance instanceof service_1.TerminalService).to.equal(true, 'Not an instance of Terminal service');
    const notSameAsDefaultInstance = factory.getTerminalService(undefined, 'New Title') === defaultInstance;
    chai_1.expect(notSameAsDefaultInstance).to.not.equal(true, 'Instances are the same as default instance');
    const instance = factory.getTerminalService(undefined, 'New Title');
    const sameInstance = factory.getTerminalService(undefined, 'New Title') === instance;
    chai_1.expect(sameInstance).to.equal(true, 'Instances are not the same');
    const differentInstance = factory.getTerminalService(undefined, 'Another New Title');
    const notTheSameInstance = differentInstance === instance;
    chai_1.expect(notTheSameInstance).not.to.equal(true, 'Instances are the same');
  });
  test('Ensure different instance of terminal services are created', () => {
    const instance1 = factory.createTerminalService();
    chai_1.expect(instance1 instanceof service_1.TerminalService).to.equal(true, 'Not an instance of Terminal service');
    const notSameAsFirstInstance = factory.createTerminalService() === instance1;
    chai_1.expect(notSameAsFirstInstance).to.not.equal(true, 'Instances are the same');
    const instance2 = factory.createTerminalService(vscode_1.Uri.file('a'), 'Title');
    const notSameAsSecondInstance = instance1 === instance2;
    chai_1.expect(notSameAsSecondInstance).to.not.equal(true, 'Instances are the same');
    const instance3 = factory.createTerminalService(vscode_1.Uri.file('a'), 'Title');
    const notSameAsThirdInstance = instance2 === instance3;
    chai_1.expect(notSameAsThirdInstance).to.not.equal(true, 'Instances are the same');
  });
  test('Ensure same terminal is returned when using resources from the same workspace', () => {
    const file1A = vscode_1.Uri.file('1a');
    const file2A = vscode_1.Uri.file('2a');
    const fileB = vscode_1.Uri.file('b');
    const workspaceUriA = vscode_1.Uri.file('A');
    const workspaceUriB = vscode_1.Uri.file('B');
    const workspaceFolderA = TypeMoq.Mock.ofType();
    workspaceFolderA.setup(w => w.uri).returns(() => workspaceUriA);
    const workspaceFolderB = TypeMoq.Mock.ofType();
    workspaceFolderB.setup(w => w.uri).returns(() => workspaceUriB);
    workspaceService.setup(w => w.getWorkspaceFolder(TypeMoq.It.isValue(file1A))).returns(() => workspaceFolderA.object);
    workspaceService.setup(w => w.getWorkspaceFolder(TypeMoq.It.isValue(file2A))).returns(() => workspaceFolderA.object);
    workspaceService.setup(w => w.getWorkspaceFolder(TypeMoq.It.isValue(fileB))).returns(() => workspaceFolderB.object);
    const terminalForFile1A = factory.getTerminalService(file1A);
    const terminalForFile2A = factory.getTerminalService(file2A);
    const terminalForFileB = factory.getTerminalService(fileB);
    const terminalsAreSameForWorkspaceA = terminalForFile1A === terminalForFile2A;
    chai_1.expect(terminalsAreSameForWorkspaceA).to.equal(true, 'Instances are not the same for Workspace A');
    const terminalsForWorkspaceABAreDifferent = terminalForFile1A === terminalForFileB;
    chai_1.expect(terminalsForWorkspaceABAreDifferent).to.equal(false, 'Instances should be different for different workspaces');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhY3RvcnkudW5pdC50ZXN0LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY2hhaV8xIiwicmVxdWlyZSIsIlR5cGVNb3EiLCJ2c2NvZGVfMSIsInR5cGVzXzEiLCJmYWN0b3J5XzEiLCJzZXJ2aWNlXzEiLCJ0eXBlc18yIiwidHlwZXNfMyIsImNvbnRyYWN0c18xIiwic3VpdGUiLCJmYWN0b3J5IiwiZGlzcG9zYWJsZXMiLCJ3b3Jrc3BhY2VTZXJ2aWNlIiwic2V0dXAiLCJzZXJ2aWNlQ29udGFpbmVyIiwiTW9jayIsIm9mVHlwZSIsImludGVycHJldGVyU2VydmljZSIsImMiLCJnZXQiLCJJdCIsImlzVmFsdWUiLCJJSW50ZXJwcmV0ZXJTZXJ2aWNlIiwiaXNBbnkiLCJyZXR1cm5zIiwib2JqZWN0IiwiSURpc3Bvc2FibGVSZWdpc3RyeSIsInRlcm1pbmFsSGVscGVyIiwiSVRlcm1pbmFsSGVscGVyIiwidGVybWluYWxNYW5hZ2VyIiwiSVRlcm1pbmFsTWFuYWdlciIsIlRlcm1pbmFsU2VydmljZUZhY3RvcnkiLCJJV29ya3NwYWNlU2VydmljZSIsInRlYXJkb3duIiwiZm9yRWFjaCIsImRpc3Bvc2FibGUiLCJkaXNwb3NlIiwidGVzdCIsImluc3RhbmNlIiwiZ2V0VGVybWluYWxTZXJ2aWNlIiwic2FtZUluc3RhbmNlIiwiZXhwZWN0IiwidG8iLCJlcXVhbCIsImRpZmZlcmVudEluc3RhbmNlIiwidW5kZWZpbmVkIiwibm90VGhlU2FtZUluc3RhbmNlIiwibm90IiwiZGVmYXVsdEluc3RhbmNlIiwiVGVybWluYWxTZXJ2aWNlIiwibm90U2FtZUFzRGVmYXVsdEluc3RhbmNlIiwiaW5zdGFuY2UxIiwiY3JlYXRlVGVybWluYWxTZXJ2aWNlIiwibm90U2FtZUFzRmlyc3RJbnN0YW5jZSIsImluc3RhbmNlMiIsIlVyaSIsImZpbGUiLCJub3RTYW1lQXNTZWNvbmRJbnN0YW5jZSIsImluc3RhbmNlMyIsIm5vdFNhbWVBc1RoaXJkSW5zdGFuY2UiLCJmaWxlMUEiLCJmaWxlMkEiLCJmaWxlQiIsIndvcmtzcGFjZVVyaUEiLCJ3b3Jrc3BhY2VVcmlCIiwid29ya3NwYWNlRm9sZGVyQSIsInciLCJ1cmkiLCJ3b3Jrc3BhY2VGb2xkZXJCIiwiZ2V0V29ya3NwYWNlRm9sZGVyIiwidGVybWluYWxGb3JGaWxlMUEiLCJ0ZXJtaW5hbEZvckZpbGUyQSIsInRlcm1pbmFsRm9yRmlsZUIiLCJ0ZXJtaW5hbHNBcmVTYW1lRm9yV29ya3NwYWNlQSIsInRlcm1pbmFsc0ZvcldvcmtzcGFjZUFCQXJlRGlmZmVyZW50Il0sIm1hcHBpbmdzIjoiQUFBQSxhLENBQ0E7QUFDQTs7QUFDQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUFFQyxFQUFBQSxLQUFLLEVBQUU7QUFBVCxDQUE3Qzs7QUFDQSxNQUFNQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXRCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUUsUUFBUSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUF4Qjs7QUFDQSxNQUFNRyxPQUFPLEdBQUdILE9BQU8sQ0FBQywwQ0FBRCxDQUF2Qjs7QUFDQSxNQUFNSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyx5Q0FBRCxDQUF6Qjs7QUFDQSxNQUFNSyxTQUFTLEdBQUdMLE9BQU8sQ0FBQyx5Q0FBRCxDQUF6Qjs7QUFDQSxNQUFNTSxPQUFPLEdBQUdOLE9BQU8sQ0FBQyx1Q0FBRCxDQUF2Qjs7QUFDQSxNQUFNTyxPQUFPLEdBQUdQLE9BQU8sQ0FBQyw4QkFBRCxDQUF2Qjs7QUFDQSxNQUFNUSxXQUFXLEdBQUdSLE9BQU8sQ0FBQyx1Q0FBRCxDQUEzQixDLENBQ0E7OztBQUNBUyxLQUFLLENBQUMsMEJBQUQsRUFBNkIsTUFBTTtBQUNwQyxNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsV0FBVyxHQUFHLEVBQWxCO0FBQ0EsTUFBSUMsZ0JBQUo7QUFDQUMsRUFBQUEsS0FBSyxDQUFDLE1BQU07QUFDUixVQUFNQyxnQkFBZ0IsR0FBR2IsT0FBTyxDQUFDYyxJQUFSLENBQWFDLE1BQWIsRUFBekI7QUFDQSxVQUFNQyxrQkFBa0IsR0FBR2hCLE9BQU8sQ0FBQ2MsSUFBUixDQUFhQyxNQUFiLEVBQTNCO0FBQ0FGLElBQUFBLGdCQUFnQixDQUFDRCxLQUFqQixDQUF1QkssQ0FBQyxJQUFJQSxDQUFDLENBQUNDLEdBQUYsQ0FBTWxCLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0MsT0FBWCxDQUFtQmIsV0FBVyxDQUFDYyxtQkFBL0IsQ0FBTixFQUEyRHJCLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0csS0FBWCxFQUEzRCxDQUE1QixFQUE0R0MsT0FBNUcsQ0FBb0gsTUFBTVAsa0JBQWtCLENBQUNRLE1BQTdJO0FBQ0FkLElBQUFBLFdBQVcsR0FBRyxFQUFkO0FBQ0FHLElBQUFBLGdCQUFnQixDQUFDRCxLQUFqQixDQUF1QkssQ0FBQyxJQUFJQSxDQUFDLENBQUNDLEdBQUYsQ0FBTWxCLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0MsT0FBWCxDQUFtQmQsT0FBTyxDQUFDbUIsbUJBQTNCLENBQU4sRUFBdUR6QixPQUFPLENBQUNtQixFQUFSLENBQVdHLEtBQVgsRUFBdkQsQ0FBNUIsRUFBd0dDLE9BQXhHLENBQWdILE1BQU1iLFdBQXRIO0FBQ0EsVUFBTWdCLGNBQWMsR0FBRzFCLE9BQU8sQ0FBQ2MsSUFBUixDQUFhQyxNQUFiLEVBQXZCO0FBQ0FGLElBQUFBLGdCQUFnQixDQUFDRCxLQUFqQixDQUF1QkssQ0FBQyxJQUFJQSxDQUFDLENBQUNDLEdBQUYsQ0FBTWxCLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0MsT0FBWCxDQUFtQmYsT0FBTyxDQUFDc0IsZUFBM0IsQ0FBTixFQUFtRDNCLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0csS0FBWCxFQUFuRCxDQUE1QixFQUFvR0MsT0FBcEcsQ0FBNEcsTUFBTUcsY0FBYyxDQUFDRixNQUFqSTtBQUNBLFVBQU1JLGVBQWUsR0FBRzVCLE9BQU8sQ0FBQ2MsSUFBUixDQUFhQyxNQUFiLEVBQXhCO0FBQ0FGLElBQUFBLGdCQUFnQixDQUFDRCxLQUFqQixDQUF1QkssQ0FBQyxJQUFJQSxDQUFDLENBQUNDLEdBQUYsQ0FBTWxCLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0MsT0FBWCxDQUFtQmxCLE9BQU8sQ0FBQzJCLGdCQUEzQixDQUFOLEVBQW9EN0IsT0FBTyxDQUFDbUIsRUFBUixDQUFXRyxLQUFYLEVBQXBELENBQTVCLEVBQXFHQyxPQUFyRyxDQUE2RyxNQUFNSyxlQUFlLENBQUNKLE1BQW5JO0FBQ0FmLElBQUFBLE9BQU8sR0FBRyxJQUFJTixTQUFTLENBQUMyQixzQkFBZCxDQUFxQ2pCLGdCQUFnQixDQUFDVyxNQUF0RCxDQUFWO0FBQ0FiLElBQUFBLGdCQUFnQixHQUFHWCxPQUFPLENBQUNjLElBQVIsQ0FBYUMsTUFBYixFQUFuQjtBQUNBRixJQUFBQSxnQkFBZ0IsQ0FBQ0QsS0FBakIsQ0FBdUJLLENBQUMsSUFBSUEsQ0FBQyxDQUFDQyxHQUFGLENBQU1sQixPQUFPLENBQUNtQixFQUFSLENBQVdDLE9BQVgsQ0FBbUJsQixPQUFPLENBQUM2QixpQkFBM0IsQ0FBTixFQUFxRC9CLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0csS0FBWCxFQUFyRCxDQUE1QixFQUFzR0MsT0FBdEcsQ0FBOEcsTUFBTVosZ0JBQWdCLENBQUNhLE1BQXJJO0FBQ0gsR0FiSSxDQUFMO0FBY0FRLEVBQUFBLFFBQVEsQ0FBQyxNQUFNO0FBQ1h0QixJQUFBQSxXQUFXLENBQUN1QixPQUFaLENBQW9CQyxVQUFVLElBQUk7QUFDOUIsVUFBSUEsVUFBSixFQUFnQjtBQUNaQSxRQUFBQSxVQUFVLENBQUNDLE9BQVg7QUFDSDtBQUNKLEtBSkQ7QUFLSCxHQU5PLENBQVI7QUFPQUMsRUFBQUEsSUFBSSxDQUFDLHNEQUFELEVBQXlELE1BQU07QUFDL0QsVUFBTUMsUUFBUSxHQUFHNUIsT0FBTyxDQUFDNkIsa0JBQVIsRUFBakI7QUFDQSxVQUFNQyxZQUFZLEdBQUc5QixPQUFPLENBQUM2QixrQkFBUixPQUFpQ0QsUUFBdEQ7QUFDQXZDLElBQUFBLE1BQU0sQ0FBQzBDLE1BQVAsQ0FBY0QsWUFBZCxFQUE0QkUsRUFBNUIsQ0FBK0JDLEtBQS9CLENBQXFDLElBQXJDLEVBQTJDLDRCQUEzQztBQUNBLFVBQU1DLGlCQUFpQixHQUFHbEMsT0FBTyxDQUFDNkIsa0JBQVIsQ0FBMkJNLFNBQTNCLEVBQXNDLFdBQXRDLENBQTFCO0FBQ0EsVUFBTUMsa0JBQWtCLEdBQUdGLGlCQUFpQixLQUFLTixRQUFqRDtBQUNBdkMsSUFBQUEsTUFBTSxDQUFDMEMsTUFBUCxDQUFjSyxrQkFBZCxFQUFrQ0MsR0FBbEMsQ0FBc0NMLEVBQXRDLENBQXlDQyxLQUF6QyxDQUErQyxJQUEvQyxFQUFxRCx3QkFBckQ7QUFDSCxHQVBHLENBQUo7QUFRQU4sRUFBQUEsSUFBSSxDQUFDLGtGQUFELEVBQXFGLE1BQU07QUFDM0YsVUFBTVcsZUFBZSxHQUFHdEMsT0FBTyxDQUFDNkIsa0JBQVIsRUFBeEI7QUFDQXhDLElBQUFBLE1BQU0sQ0FBQzBDLE1BQVAsQ0FBY08sZUFBZSxZQUFZM0MsU0FBUyxDQUFDNEMsZUFBbkQsRUFBb0VQLEVBQXBFLENBQXVFQyxLQUF2RSxDQUE2RSxJQUE3RSxFQUFtRixxQ0FBbkY7QUFDQSxVQUFNTyx3QkFBd0IsR0FBR3hDLE9BQU8sQ0FBQzZCLGtCQUFSLENBQTJCTSxTQUEzQixFQUFzQyxXQUF0QyxNQUF1REcsZUFBeEY7QUFDQWpELElBQUFBLE1BQU0sQ0FBQzBDLE1BQVAsQ0FBY1Msd0JBQWQsRUFBd0NSLEVBQXhDLENBQTJDSyxHQUEzQyxDQUErQ0osS0FBL0MsQ0FBcUQsSUFBckQsRUFBMkQsNENBQTNEO0FBQ0EsVUFBTUwsUUFBUSxHQUFHNUIsT0FBTyxDQUFDNkIsa0JBQVIsQ0FBMkJNLFNBQTNCLEVBQXNDLFdBQXRDLENBQWpCO0FBQ0EsVUFBTUwsWUFBWSxHQUFHOUIsT0FBTyxDQUFDNkIsa0JBQVIsQ0FBMkJNLFNBQTNCLEVBQXNDLFdBQXRDLE1BQXVEUCxRQUE1RTtBQUNBdkMsSUFBQUEsTUFBTSxDQUFDMEMsTUFBUCxDQUFjRCxZQUFkLEVBQTRCRSxFQUE1QixDQUErQkMsS0FBL0IsQ0FBcUMsSUFBckMsRUFBMkMsNEJBQTNDO0FBQ0EsVUFBTUMsaUJBQWlCLEdBQUdsQyxPQUFPLENBQUM2QixrQkFBUixDQUEyQk0sU0FBM0IsRUFBc0MsbUJBQXRDLENBQTFCO0FBQ0EsVUFBTUMsa0JBQWtCLEdBQUdGLGlCQUFpQixLQUFLTixRQUFqRDtBQUNBdkMsSUFBQUEsTUFBTSxDQUFDMEMsTUFBUCxDQUFjSyxrQkFBZCxFQUFrQ0MsR0FBbEMsQ0FBc0NMLEVBQXRDLENBQXlDQyxLQUF6QyxDQUErQyxJQUEvQyxFQUFxRCx3QkFBckQ7QUFDSCxHQVhHLENBQUo7QUFZQU4sRUFBQUEsSUFBSSxDQUFDLDREQUFELEVBQStELE1BQU07QUFDckUsVUFBTWMsU0FBUyxHQUFHekMsT0FBTyxDQUFDMEMscUJBQVIsRUFBbEI7QUFDQXJELElBQUFBLE1BQU0sQ0FBQzBDLE1BQVAsQ0FBY1UsU0FBUyxZQUFZOUMsU0FBUyxDQUFDNEMsZUFBN0MsRUFBOERQLEVBQTlELENBQWlFQyxLQUFqRSxDQUF1RSxJQUF2RSxFQUE2RSxxQ0FBN0U7QUFDQSxVQUFNVSxzQkFBc0IsR0FBRzNDLE9BQU8sQ0FBQzBDLHFCQUFSLE9BQW9DRCxTQUFuRTtBQUNBcEQsSUFBQUEsTUFBTSxDQUFDMEMsTUFBUCxDQUFjWSxzQkFBZCxFQUFzQ1gsRUFBdEMsQ0FBeUNLLEdBQXpDLENBQTZDSixLQUE3QyxDQUFtRCxJQUFuRCxFQUF5RCx3QkFBekQ7QUFDQSxVQUFNVyxTQUFTLEdBQUc1QyxPQUFPLENBQUMwQyxxQkFBUixDQUE4QmxELFFBQVEsQ0FBQ3FELEdBQVQsQ0FBYUMsSUFBYixDQUFrQixHQUFsQixDQUE5QixFQUFzRCxPQUF0RCxDQUFsQjtBQUNBLFVBQU1DLHVCQUF1QixHQUFHTixTQUFTLEtBQUtHLFNBQTlDO0FBQ0F2RCxJQUFBQSxNQUFNLENBQUMwQyxNQUFQLENBQWNnQix1QkFBZCxFQUF1Q2YsRUFBdkMsQ0FBMENLLEdBQTFDLENBQThDSixLQUE5QyxDQUFvRCxJQUFwRCxFQUEwRCx3QkFBMUQ7QUFDQSxVQUFNZSxTQUFTLEdBQUdoRCxPQUFPLENBQUMwQyxxQkFBUixDQUE4QmxELFFBQVEsQ0FBQ3FELEdBQVQsQ0FBYUMsSUFBYixDQUFrQixHQUFsQixDQUE5QixFQUFzRCxPQUF0RCxDQUFsQjtBQUNBLFVBQU1HLHNCQUFzQixHQUFHTCxTQUFTLEtBQUtJLFNBQTdDO0FBQ0EzRCxJQUFBQSxNQUFNLENBQUMwQyxNQUFQLENBQWNrQixzQkFBZCxFQUFzQ2pCLEVBQXRDLENBQXlDSyxHQUF6QyxDQUE2Q0osS0FBN0MsQ0FBbUQsSUFBbkQsRUFBeUQsd0JBQXpEO0FBQ0gsR0FYRyxDQUFKO0FBWUFOLEVBQUFBLElBQUksQ0FBQywrRUFBRCxFQUFrRixNQUFNO0FBQ3hGLFVBQU11QixNQUFNLEdBQUcxRCxRQUFRLENBQUNxRCxHQUFULENBQWFDLElBQWIsQ0FBa0IsSUFBbEIsQ0FBZjtBQUNBLFVBQU1LLE1BQU0sR0FBRzNELFFBQVEsQ0FBQ3FELEdBQVQsQ0FBYUMsSUFBYixDQUFrQixJQUFsQixDQUFmO0FBQ0EsVUFBTU0sS0FBSyxHQUFHNUQsUUFBUSxDQUFDcUQsR0FBVCxDQUFhQyxJQUFiLENBQWtCLEdBQWxCLENBQWQ7QUFDQSxVQUFNTyxhQUFhLEdBQUc3RCxRQUFRLENBQUNxRCxHQUFULENBQWFDLElBQWIsQ0FBa0IsR0FBbEIsQ0FBdEI7QUFDQSxVQUFNUSxhQUFhLEdBQUc5RCxRQUFRLENBQUNxRCxHQUFULENBQWFDLElBQWIsQ0FBa0IsR0FBbEIsQ0FBdEI7QUFDQSxVQUFNUyxnQkFBZ0IsR0FBR2hFLE9BQU8sQ0FBQ2MsSUFBUixDQUFhQyxNQUFiLEVBQXpCO0FBQ0FpRCxJQUFBQSxnQkFBZ0IsQ0FBQ3BELEtBQWpCLENBQXVCcUQsQ0FBQyxJQUFJQSxDQUFDLENBQUNDLEdBQTlCLEVBQW1DM0MsT0FBbkMsQ0FBMkMsTUFBTXVDLGFBQWpEO0FBQ0EsVUFBTUssZ0JBQWdCLEdBQUduRSxPQUFPLENBQUNjLElBQVIsQ0FBYUMsTUFBYixFQUF6QjtBQUNBb0QsSUFBQUEsZ0JBQWdCLENBQUN2RCxLQUFqQixDQUF1QnFELENBQUMsSUFBSUEsQ0FBQyxDQUFDQyxHQUE5QixFQUFtQzNDLE9BQW5DLENBQTJDLE1BQU13QyxhQUFqRDtBQUNBcEQsSUFBQUEsZ0JBQWdCLENBQUNDLEtBQWpCLENBQXVCcUQsQ0FBQyxJQUFJQSxDQUFDLENBQUNHLGtCQUFGLENBQXFCcEUsT0FBTyxDQUFDbUIsRUFBUixDQUFXQyxPQUFYLENBQW1CdUMsTUFBbkIsQ0FBckIsQ0FBNUIsRUFBOEVwQyxPQUE5RSxDQUFzRixNQUFNeUMsZ0JBQWdCLENBQUN4QyxNQUE3RztBQUNBYixJQUFBQSxnQkFBZ0IsQ0FBQ0MsS0FBakIsQ0FBdUJxRCxDQUFDLElBQUlBLENBQUMsQ0FBQ0csa0JBQUYsQ0FBcUJwRSxPQUFPLENBQUNtQixFQUFSLENBQVdDLE9BQVgsQ0FBbUJ3QyxNQUFuQixDQUFyQixDQUE1QixFQUE4RXJDLE9BQTlFLENBQXNGLE1BQU15QyxnQkFBZ0IsQ0FBQ3hDLE1BQTdHO0FBQ0FiLElBQUFBLGdCQUFnQixDQUFDQyxLQUFqQixDQUF1QnFELENBQUMsSUFBSUEsQ0FBQyxDQUFDRyxrQkFBRixDQUFxQnBFLE9BQU8sQ0FBQ21CLEVBQVIsQ0FBV0MsT0FBWCxDQUFtQnlDLEtBQW5CLENBQXJCLENBQTVCLEVBQTZFdEMsT0FBN0UsQ0FBcUYsTUFBTTRDLGdCQUFnQixDQUFDM0MsTUFBNUc7QUFDQSxVQUFNNkMsaUJBQWlCLEdBQUc1RCxPQUFPLENBQUM2QixrQkFBUixDQUEyQnFCLE1BQTNCLENBQTFCO0FBQ0EsVUFBTVcsaUJBQWlCLEdBQUc3RCxPQUFPLENBQUM2QixrQkFBUixDQUEyQnNCLE1BQTNCLENBQTFCO0FBQ0EsVUFBTVcsZ0JBQWdCLEdBQUc5RCxPQUFPLENBQUM2QixrQkFBUixDQUEyQnVCLEtBQTNCLENBQXpCO0FBQ0EsVUFBTVcsNkJBQTZCLEdBQUdILGlCQUFpQixLQUFLQyxpQkFBNUQ7QUFDQXhFLElBQUFBLE1BQU0sQ0FBQzBDLE1BQVAsQ0FBY2dDLDZCQUFkLEVBQTZDL0IsRUFBN0MsQ0FBZ0RDLEtBQWhELENBQXNELElBQXRELEVBQTRELDRDQUE1RDtBQUNBLFVBQU0rQixtQ0FBbUMsR0FBR0osaUJBQWlCLEtBQUtFLGdCQUFsRTtBQUNBekUsSUFBQUEsTUFBTSxDQUFDMEMsTUFBUCxDQUFjaUMsbUNBQWQsRUFBbURoQyxFQUFuRCxDQUFzREMsS0FBdEQsQ0FBNEQsS0FBNUQsRUFBbUUsd0RBQW5FO0FBQ0gsR0FwQkcsQ0FBSjtBQXFCSCxDQTlFSSxDQUFMIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgY2hhaV8xID0gcmVxdWlyZShcImNoYWlcIik7XHJcbmNvbnN0IFR5cGVNb3EgPSByZXF1aXJlKFwidHlwZW1vcVwiKTtcclxuY29uc3QgdnNjb2RlXzEgPSByZXF1aXJlKFwidnNjb2RlXCIpO1xyXG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NsaWVudC9jb21tb24vYXBwbGljYXRpb24vdHlwZXNcIik7XHJcbmNvbnN0IGZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvY29tbW9uL3Rlcm1pbmFsL2ZhY3RvcnlcIik7XHJcbmNvbnN0IHNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvY29tbW9uL3Rlcm1pbmFsL3NlcnZpY2VcIik7XHJcbmNvbnN0IHR5cGVzXzIgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L2NvbW1vbi90ZXJtaW5hbC90eXBlc1wiKTtcclxuY29uc3QgdHlwZXNfMyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvY29tbW9uL3R5cGVzXCIpO1xyXG5jb25zdCBjb250cmFjdHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvaW50ZXJwcmV0ZXIvY29udHJhY3RzXCIpO1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWZ1bmMtYm9keS1sZW5ndGhcclxuc3VpdGUoJ1Rlcm1pbmFsIFNlcnZpY2UgRmFjdG9yeScsICgpID0+IHtcclxuICAgIGxldCBmYWN0b3J5O1xyXG4gICAgbGV0IGRpc3Bvc2FibGVzID0gW107XHJcbiAgICBsZXQgd29ya3NwYWNlU2VydmljZTtcclxuICAgIHNldHVwKCgpID0+IHtcclxuICAgICAgICBjb25zdCBzZXJ2aWNlQ29udGFpbmVyID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGNvbnN0IGludGVycHJldGVyU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKGNvbnRyYWN0c18xLklJbnRlcnByZXRlclNlcnZpY2UpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IGludGVycHJldGVyU2VydmljZS5vYmplY3QpO1xyXG4gICAgICAgIGRpc3Bvc2FibGVzID0gW107XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18zLklEaXNwb3NhYmxlUmVnaXN0cnkpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IGRpc3Bvc2FibGVzKTtcclxuICAgICAgICBjb25zdCB0ZXJtaW5hbEhlbHBlciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzIuSVRlcm1pbmFsSGVscGVyKSwgVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiB0ZXJtaW5hbEhlbHBlci5vYmplY3QpO1xyXG4gICAgICAgIGNvbnN0IHRlcm1pbmFsTWFuYWdlciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzEuSVRlcm1pbmFsTWFuYWdlciksIFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gdGVybWluYWxNYW5hZ2VyLm9iamVjdCk7XHJcbiAgICAgICAgZmFjdG9yeSA9IG5ldyBmYWN0b3J5XzEuVGVybWluYWxTZXJ2aWNlRmFjdG9yeShzZXJ2aWNlQ29udGFpbmVyLm9iamVjdCk7XHJcbiAgICAgICAgd29ya3NwYWNlU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzEuSVdvcmtzcGFjZVNlcnZpY2UpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IHdvcmtzcGFjZVNlcnZpY2Uub2JqZWN0KTtcclxuICAgIH0pO1xyXG4gICAgdGVhcmRvd24oKCkgPT4ge1xyXG4gICAgICAgIGRpc3Bvc2FibGVzLmZvckVhY2goZGlzcG9zYWJsZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkaXNwb3NhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdFbnN1cmUgc2FtZSBpbnN0YW5jZSBvZiB0ZXJtaW5hbCBzZXJ2aWNlIGlzIHJldHVybmVkJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZmFjdG9yeS5nZXRUZXJtaW5hbFNlcnZpY2UoKTtcclxuICAgICAgICBjb25zdCBzYW1lSW5zdGFuY2UgPSBmYWN0b3J5LmdldFRlcm1pbmFsU2VydmljZSgpID09PSBpbnN0YW5jZTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KHNhbWVJbnN0YW5jZSkudG8uZXF1YWwodHJ1ZSwgJ0luc3RhbmNlcyBhcmUgbm90IHRoZSBzYW1lJyk7XHJcbiAgICAgICAgY29uc3QgZGlmZmVyZW50SW5zdGFuY2UgPSBmYWN0b3J5LmdldFRlcm1pbmFsU2VydmljZSh1bmRlZmluZWQsICdOZXcgVGl0bGUnKTtcclxuICAgICAgICBjb25zdCBub3RUaGVTYW1lSW5zdGFuY2UgPSBkaWZmZXJlbnRJbnN0YW5jZSA9PT0gaW5zdGFuY2U7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChub3RUaGVTYW1lSW5zdGFuY2UpLm5vdC50by5lcXVhbCh0cnVlLCAnSW5zdGFuY2VzIGFyZSB0aGUgc2FtZScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdFbnN1cmUgZGlmZmVyZW50IGluc3RhbmNlIG9mIHRlcm1pbmFsIHNlcnZpY2UgaXMgcmV0dXJuZWQgd2hlbiB0aXRsZSBpcyBwcm92aWRlZCcsICgpID0+IHtcclxuICAgICAgICBjb25zdCBkZWZhdWx0SW5zdGFuY2UgPSBmYWN0b3J5LmdldFRlcm1pbmFsU2VydmljZSgpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZGVmYXVsdEluc3RhbmNlIGluc3RhbmNlb2Ygc2VydmljZV8xLlRlcm1pbmFsU2VydmljZSkudG8uZXF1YWwodHJ1ZSwgJ05vdCBhbiBpbnN0YW5jZSBvZiBUZXJtaW5hbCBzZXJ2aWNlJyk7XHJcbiAgICAgICAgY29uc3Qgbm90U2FtZUFzRGVmYXVsdEluc3RhbmNlID0gZmFjdG9yeS5nZXRUZXJtaW5hbFNlcnZpY2UodW5kZWZpbmVkLCAnTmV3IFRpdGxlJykgPT09IGRlZmF1bHRJbnN0YW5jZTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KG5vdFNhbWVBc0RlZmF1bHRJbnN0YW5jZSkudG8ubm90LmVxdWFsKHRydWUsICdJbnN0YW5jZXMgYXJlIHRoZSBzYW1lIGFzIGRlZmF1bHQgaW5zdGFuY2UnKTtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGZhY3RvcnkuZ2V0VGVybWluYWxTZXJ2aWNlKHVuZGVmaW5lZCwgJ05ldyBUaXRsZScpO1xyXG4gICAgICAgIGNvbnN0IHNhbWVJbnN0YW5jZSA9IGZhY3RvcnkuZ2V0VGVybWluYWxTZXJ2aWNlKHVuZGVmaW5lZCwgJ05ldyBUaXRsZScpID09PSBpbnN0YW5jZTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KHNhbWVJbnN0YW5jZSkudG8uZXF1YWwodHJ1ZSwgJ0luc3RhbmNlcyBhcmUgbm90IHRoZSBzYW1lJyk7XHJcbiAgICAgICAgY29uc3QgZGlmZmVyZW50SW5zdGFuY2UgPSBmYWN0b3J5LmdldFRlcm1pbmFsU2VydmljZSh1bmRlZmluZWQsICdBbm90aGVyIE5ldyBUaXRsZScpO1xyXG4gICAgICAgIGNvbnN0IG5vdFRoZVNhbWVJbnN0YW5jZSA9IGRpZmZlcmVudEluc3RhbmNlID09PSBpbnN0YW5jZTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KG5vdFRoZVNhbWVJbnN0YW5jZSkubm90LnRvLmVxdWFsKHRydWUsICdJbnN0YW5jZXMgYXJlIHRoZSBzYW1lJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBkaWZmZXJlbnQgaW5zdGFuY2Ugb2YgdGVybWluYWwgc2VydmljZXMgYXJlIGNyZWF0ZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zdGFuY2UxID0gZmFjdG9yeS5jcmVhdGVUZXJtaW5hbFNlcnZpY2UoKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGluc3RhbmNlMSBpbnN0YW5jZW9mIHNlcnZpY2VfMS5UZXJtaW5hbFNlcnZpY2UpLnRvLmVxdWFsKHRydWUsICdOb3QgYW4gaW5zdGFuY2Ugb2YgVGVybWluYWwgc2VydmljZScpO1xyXG4gICAgICAgIGNvbnN0IG5vdFNhbWVBc0ZpcnN0SW5zdGFuY2UgPSBmYWN0b3J5LmNyZWF0ZVRlcm1pbmFsU2VydmljZSgpID09PSBpbnN0YW5jZTE7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChub3RTYW1lQXNGaXJzdEluc3RhbmNlKS50by5ub3QuZXF1YWwodHJ1ZSwgJ0luc3RhbmNlcyBhcmUgdGhlIHNhbWUnKTtcclxuICAgICAgICBjb25zdCBpbnN0YW5jZTIgPSBmYWN0b3J5LmNyZWF0ZVRlcm1pbmFsU2VydmljZSh2c2NvZGVfMS5VcmkuZmlsZSgnYScpLCAnVGl0bGUnKTtcclxuICAgICAgICBjb25zdCBub3RTYW1lQXNTZWNvbmRJbnN0YW5jZSA9IGluc3RhbmNlMSA9PT0gaW5zdGFuY2UyO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3Qobm90U2FtZUFzU2Vjb25kSW5zdGFuY2UpLnRvLm5vdC5lcXVhbCh0cnVlLCAnSW5zdGFuY2VzIGFyZSB0aGUgc2FtZScpO1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlMyA9IGZhY3RvcnkuY3JlYXRlVGVybWluYWxTZXJ2aWNlKHZzY29kZV8xLlVyaS5maWxlKCdhJyksICdUaXRsZScpO1xyXG4gICAgICAgIGNvbnN0IG5vdFNhbWVBc1RoaXJkSW5zdGFuY2UgPSBpbnN0YW5jZTIgPT09IGluc3RhbmNlMztcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KG5vdFNhbWVBc1RoaXJkSW5zdGFuY2UpLnRvLm5vdC5lcXVhbCh0cnVlLCAnSW5zdGFuY2VzIGFyZSB0aGUgc2FtZScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdFbnN1cmUgc2FtZSB0ZXJtaW5hbCBpcyByZXR1cm5lZCB3aGVuIHVzaW5nIHJlc291cmNlcyBmcm9tIHRoZSBzYW1lIHdvcmtzcGFjZScsICgpID0+IHtcclxuICAgICAgICBjb25zdCBmaWxlMUEgPSB2c2NvZGVfMS5VcmkuZmlsZSgnMWEnKTtcclxuICAgICAgICBjb25zdCBmaWxlMkEgPSB2c2NvZGVfMS5VcmkuZmlsZSgnMmEnKTtcclxuICAgICAgICBjb25zdCBmaWxlQiA9IHZzY29kZV8xLlVyaS5maWxlKCdiJyk7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlVXJpQSA9IHZzY29kZV8xLlVyaS5maWxlKCdBJyk7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlVXJpQiA9IHZzY29kZV8xLlVyaS5maWxlKCdCJyk7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyQSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICB3b3Jrc3BhY2VGb2xkZXJBLnNldHVwKHcgPT4gdy51cmkpLnJldHVybnMoKCkgPT4gd29ya3NwYWNlVXJpQSk7XHJcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlRm9sZGVyQiA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICB3b3Jrc3BhY2VGb2xkZXJCLnNldHVwKHcgPT4gdy51cmkpLnJldHVybnMoKCkgPT4gd29ya3NwYWNlVXJpQik7XHJcbiAgICAgICAgd29ya3NwYWNlU2VydmljZS5zZXR1cCh3ID0+IHcuZ2V0V29ya3NwYWNlRm9sZGVyKFR5cGVNb3EuSXQuaXNWYWx1ZShmaWxlMUEpKSkucmV0dXJucygoKSA9PiB3b3Jrc3BhY2VGb2xkZXJBLm9iamVjdCk7XHJcbiAgICAgICAgd29ya3NwYWNlU2VydmljZS5zZXR1cCh3ID0+IHcuZ2V0V29ya3NwYWNlRm9sZGVyKFR5cGVNb3EuSXQuaXNWYWx1ZShmaWxlMkEpKSkucmV0dXJucygoKSA9PiB3b3Jrc3BhY2VGb2xkZXJBLm9iamVjdCk7XHJcbiAgICAgICAgd29ya3NwYWNlU2VydmljZS5zZXR1cCh3ID0+IHcuZ2V0V29ya3NwYWNlRm9sZGVyKFR5cGVNb3EuSXQuaXNWYWx1ZShmaWxlQikpKS5yZXR1cm5zKCgpID0+IHdvcmtzcGFjZUZvbGRlckIub2JqZWN0KTtcclxuICAgICAgICBjb25zdCB0ZXJtaW5hbEZvckZpbGUxQSA9IGZhY3RvcnkuZ2V0VGVybWluYWxTZXJ2aWNlKGZpbGUxQSk7XHJcbiAgICAgICAgY29uc3QgdGVybWluYWxGb3JGaWxlMkEgPSBmYWN0b3J5LmdldFRlcm1pbmFsU2VydmljZShmaWxlMkEpO1xyXG4gICAgICAgIGNvbnN0IHRlcm1pbmFsRm9yRmlsZUIgPSBmYWN0b3J5LmdldFRlcm1pbmFsU2VydmljZShmaWxlQik7XHJcbiAgICAgICAgY29uc3QgdGVybWluYWxzQXJlU2FtZUZvcldvcmtzcGFjZUEgPSB0ZXJtaW5hbEZvckZpbGUxQSA9PT0gdGVybWluYWxGb3JGaWxlMkE7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdCh0ZXJtaW5hbHNBcmVTYW1lRm9yV29ya3NwYWNlQSkudG8uZXF1YWwodHJ1ZSwgJ0luc3RhbmNlcyBhcmUgbm90IHRoZSBzYW1lIGZvciBXb3Jrc3BhY2UgQScpO1xyXG4gICAgICAgIGNvbnN0IHRlcm1pbmFsc0ZvcldvcmtzcGFjZUFCQXJlRGlmZmVyZW50ID0gdGVybWluYWxGb3JGaWxlMUEgPT09IHRlcm1pbmFsRm9yRmlsZUI7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdCh0ZXJtaW5hbHNGb3JXb3Jrc3BhY2VBQkFyZURpZmZlcmVudCkudG8uZXF1YWwoZmFsc2UsICdJbnN0YW5jZXMgc2hvdWxkIGJlIGRpZmZlcmVudCBmb3IgZGlmZmVyZW50IHdvcmtzcGFjZXMnKTtcclxuICAgIH0pO1xyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjdG9yeS51bml0LnRlc3QuanMubWFwIl19