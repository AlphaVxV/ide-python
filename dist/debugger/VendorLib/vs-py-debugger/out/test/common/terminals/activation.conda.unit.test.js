"use strict"; // Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : new P(function (resolve) {
        resolve(result.value);
      }).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

Object.defineProperty(exports, "__esModule", {
  value: true
}); // tslint:disable:max-func-body-length no-any

const chai_1 = require("chai");

const path = require("path");

const semver_1 = require("semver");

const TypeMoq = require("typemoq");

require("../../../client/common/extensions");

const types_1 = require("../../../client/common/platform/types");

const types_2 = require("../../../client/common/process/types");

const condaActivationProvider_1 = require("../../../client/common/terminal/environmentActivationProviders/condaActivationProvider");

const helper_1 = require("../../../client/common/terminal/helper");

const types_3 = require("../../../client/common/terminal/types");

const types_4 = require("../../../client/common/types");

const enum_1 = require("../../../client/common/utils/enum");

const contracts_1 = require("../../../client/interpreter/contracts");

suite('Terminal Environment Activation conda', () => {
  let terminalHelper;
  let disposables = [];
  let terminalSettings;
  let platformService;
  let fileSystem;
  let pythonSettings;
  let serviceContainer;
  let processService;
  let procServiceFactory;
  let condaService;
  let conda;
  setup(() => {
    conda = 'conda';
    serviceContainer = TypeMoq.Mock.ofType();
    disposables = [];
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_4.IDisposableRegistry), TypeMoq.It.isAny())).returns(() => disposables);
    fileSystem = TypeMoq.Mock.ofType();
    platformService = TypeMoq.Mock.ofType();
    processService = TypeMoq.Mock.ofType();
    condaService = TypeMoq.Mock.ofType();
    condaService.setup(c => c.getCondaFile()).returns(() => Promise.resolve(conda));
    processService.setup(x => x.then).returns(() => undefined);
    procServiceFactory = TypeMoq.Mock.ofType();
    procServiceFactory.setup(p => p.create(TypeMoq.It.isAny())).returns(() => Promise.resolve(processService.object));
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_1.IPlatformService), TypeMoq.It.isAny())).returns(() => platformService.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_1.IFileSystem), TypeMoq.It.isAny())).returns(() => fileSystem.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_2.IProcessServiceFactory), TypeMoq.It.isAny())).returns(() => procServiceFactory.object);
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(contracts_1.ICondaService), TypeMoq.It.isAny())).returns(() => condaService.object);
    const configService = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.get(TypeMoq.It.isValue(types_4.IConfigurationService))).returns(() => configService.object);
    pythonSettings = TypeMoq.Mock.ofType();
    configService.setup(c => c.getSettings(TypeMoq.It.isAny())).returns(() => pythonSettings.object);
    terminalSettings = TypeMoq.Mock.ofType();
    pythonSettings.setup(s => s.terminal).returns(() => terminalSettings.object);
    terminalHelper = new helper_1.TerminalHelper(serviceContainer.object);
  });
  teardown(() => {
    disposables.forEach(disposable => {
      if (disposable) {
        disposable.dispose();
      }
    });
  });
  test('Ensure no activation commands are returned if the feature is disabled', () => __awaiter(void 0, void 0, void 0, function* () {
    terminalSettings.setup(t => t.activateEnvironment).returns(() => false);
    const activationCommands = yield terminalHelper.getEnvironmentActivationCommands(types_3.TerminalShellType.bash, undefined);
    chai_1.expect(activationCommands).to.equal(undefined, 'Activation commands should be undefined');
  }));
  test('Conda activation for fish escapes spaces in conda filename', () => __awaiter(void 0, void 0, void 0, function* () {
    conda = 'path to conda';
    const envName = 'EnvA';
    const pythonPath = 'python3';
    platformService.setup(p => p.isWindows).returns(() => false);
    condaService.setup(c => c.getCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve({
      name: envName,
      path: path.dirname(pythonPath)
    }));
    const expected = ['"path to conda" activate EnvA'];
    const provider = new condaActivationProvider_1.CondaActivationCommandProvider(serviceContainer.object);
    const activationCommands = yield provider.getActivationCommands(undefined, types_3.TerminalShellType.fish);
    chai_1.expect(activationCommands).to.deep.equal(expected, 'Incorrect Activation command');
  }));
  test('Conda activation on bash uses "source" before 4.4.0', () => __awaiter(void 0, void 0, void 0, function* () {
    const envName = 'EnvA';
    const pythonPath = 'python3';
    const condaPath = path.join('a', 'b', 'c', 'conda');
    platformService.setup(p => p.isWindows).returns(() => false);
    condaService.reset();
    condaService.setup(c => c.getCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve({
      name: envName,
      path: path.dirname(pythonPath)
    }));
    condaService.setup(c => c.getCondaFile()).returns(() => Promise.resolve(condaPath));
    condaService.setup(c => c.getCondaVersion()).returns(() => Promise.resolve(semver_1.parse('4.3.1', true)));
    const expected = [`source ${path.join(path.dirname(condaPath), 'activate').fileToCommandArgument()} EnvA`];
    const provider = new condaActivationProvider_1.CondaActivationCommandProvider(serviceContainer.object);
    const activationCommands = yield provider.getActivationCommands(undefined, types_3.TerminalShellType.bash);
    chai_1.expect(activationCommands).to.deep.equal(expected, 'Incorrect Activation command');
  }));
  test('Conda activation on bash uses "conda" after 4.4.0', () => __awaiter(void 0, void 0, void 0, function* () {
    const envName = 'EnvA';
    const pythonPath = 'python3';
    const condaPath = path.join('a', 'b', 'c', 'conda');
    platformService.setup(p => p.isWindows).returns(() => false);
    condaService.reset();
    condaService.setup(c => c.getCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve({
      name: envName,
      path: path.dirname(pythonPath)
    }));
    condaService.setup(c => c.getCondaFile()).returns(() => Promise.resolve(condaPath));
    condaService.setup(c => c.getCondaVersion()).returns(() => Promise.resolve(semver_1.parse('4.4.0', true)));
    const expected = [`source ${path.join(path.dirname(condaPath), 'activate').fileToCommandArgument()} EnvA`];
    const provider = new condaActivationProvider_1.CondaActivationCommandProvider(serviceContainer.object);
    const activationCommands = yield provider.getActivationCommands(undefined, types_3.TerminalShellType.bash);
    chai_1.expect(activationCommands).to.deep.equal(expected, 'Incorrect Activation command');
  }));

  function expectNoCondaActivationCommandForPowershell(isWindows, isOsx, isLinux, pythonPath, shellType, hasSpaceInEnvironmentName = false) {
    return __awaiter(this, void 0, void 0, function* () {
      terminalSettings.setup(t => t.activateEnvironment).returns(() => true);
      platformService.setup(p => p.isLinux).returns(() => isLinux);
      platformService.setup(p => p.isWindows).returns(() => isWindows);
      platformService.setup(p => p.isMac).returns(() => isOsx);
      condaService.setup(c => c.isCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve(true));
      pythonSettings.setup(s => s.pythonPath).returns(() => pythonPath);
      const envName = hasSpaceInEnvironmentName ? 'EnvA' : 'Env A';
      condaService.setup(c => c.getCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve({
        name: envName,
        path: path.dirname(pythonPath)
      }));
      const activationCommands = yield new condaActivationProvider_1.CondaActivationCommandProvider(serviceContainer.object).getActivationCommands(undefined, shellType);
      let expectedActivationCommamnd;

      switch (shellType) {
        case types_3.TerminalShellType.powershell:
        case types_3.TerminalShellType.powershellCore:
          {
            expectedActivationCommamnd = undefined;
            break;
          }

        case types_3.TerminalShellType.fish:
          {
            expectedActivationCommamnd = [`conda activate ${envName.toCommandArgument()}`];
            break;
          }

        default:
          {
            expectedActivationCommamnd = isWindows ? [`activate ${envName.toCommandArgument()}`] : [`source activate ${envName.toCommandArgument()}`];
            break;
          }
      }

      if (expectedActivationCommamnd) {
        chai_1.expect(activationCommands).to.deep.equal(expectedActivationCommamnd, 'Incorrect Activation command');
      } else {
        chai_1.expect(activationCommands).to.equal(undefined, 'Incorrect Activation command');
      }
    });
  }

  enum_1.getNamesAndValues(types_3.TerminalShellType).forEach(shellType => {
    test(`Conda activation command for shell ${shellType.name} on (windows)`, () => __awaiter(void 0, void 0, void 0, function* () {
      const pythonPath = path.join('c', 'users', 'xyz', '.conda', 'envs', 'enva', 'python.exe');
      yield expectNoCondaActivationCommandForPowershell(true, false, false, pythonPath, shellType.value);
    }));
    test(`Conda activation command for shell ${shellType.name} on (linux)`, () => __awaiter(void 0, void 0, void 0, function* () {
      const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'bin', 'python');
      yield expectNoCondaActivationCommandForPowershell(false, false, true, pythonPath, shellType.value);
    }));
    test(`Conda activation command for shell ${shellType.name} on (mac)`, () => __awaiter(void 0, void 0, void 0, function* () {
      const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'bin', 'python');
      yield expectNoCondaActivationCommandForPowershell(false, true, false, pythonPath, shellType.value);
    }));
  });
  enum_1.getNamesAndValues(types_3.TerminalShellType).forEach(shellType => {
    test(`Conda activation command for shell ${shellType.name} on (windows), containing spaces in environment name`, () => __awaiter(void 0, void 0, void 0, function* () {
      const pythonPath = path.join('c', 'users', 'xyz', '.conda', 'envs', 'enva', 'python.exe');
      yield expectNoCondaActivationCommandForPowershell(true, false, false, pythonPath, shellType.value, true);
    }));
    test(`Conda activation command for shell ${shellType.name} on (linux), containing spaces in environment name`, () => __awaiter(void 0, void 0, void 0, function* () {
      const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'bin', 'python');
      yield expectNoCondaActivationCommandForPowershell(false, false, true, pythonPath, shellType.value, true);
    }));
    test(`Conda activation command for shell ${shellType.name} on (mac), containing spaces in environment name`, () => __awaiter(void 0, void 0, void 0, function* () {
      const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'bin', 'python');
      yield expectNoCondaActivationCommandForPowershell(false, true, false, pythonPath, shellType.value, true);
    }));
  });

  function expectCondaActivationCommand(isWindows, isOsx, isLinux, pythonPath) {
    return __awaiter(this, void 0, void 0, function* () {
      terminalSettings.setup(t => t.activateEnvironment).returns(() => true);
      platformService.setup(p => p.isLinux).returns(() => isLinux);
      platformService.setup(p => p.isWindows).returns(() => isWindows);
      platformService.setup(p => p.isMac).returns(() => isOsx);
      condaService.setup(c => c.isCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve(true));
      pythonSettings.setup(s => s.pythonPath).returns(() => pythonPath);
      condaService.setup(c => c.getCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve({
        name: 'EnvA',
        path: path.dirname(pythonPath)
      }));
      const expectedActivationCommand = isWindows ? ['activate EnvA'] : ['source activate EnvA'];
      const activationCommands = yield terminalHelper.getEnvironmentActivationCommands(types_3.TerminalShellType.bash, undefined);
      chai_1.expect(activationCommands).to.deep.equal(expectedActivationCommand, 'Incorrect Activation command');
    });
  }

  test('If environment is a conda environment, ensure conda activation command is sent (windows)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('c', 'users', 'xyz', '.conda', 'envs', 'enva', 'python.exe');
    fileSystem.setup(f => f.directoryExists(TypeMoq.It.isValue(path.join(path.dirname(pythonPath), 'conda-meta')))).returns(() => Promise.resolve(true));
    yield expectCondaActivationCommand(true, false, false, pythonPath);
  }));
  test('If environment is a conda environment, ensure conda activation command is sent (linux)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'bin', 'python');
    fileSystem.setup(f => f.directoryExists(TypeMoq.It.isValue(path.join(path.dirname(pythonPath), '..', 'conda-meta')))).returns(() => Promise.resolve(true));
    yield expectCondaActivationCommand(false, false, true, pythonPath);
  }));
  test('If environment is a conda environment, ensure conda activation command is sent (osx)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'bin', 'python');
    fileSystem.setup(f => f.directoryExists(TypeMoq.It.isValue(path.join(path.dirname(pythonPath), '..', 'conda-meta')))).returns(() => Promise.resolve(true));
    yield expectCondaActivationCommand(false, true, false, pythonPath);
  }));
  test('Get activation script command if environment is not a conda environment', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'bin', 'python');
    terminalSettings.setup(t => t.activateEnvironment).returns(() => true);
    condaService.setup(c => c.isCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve(false));
    pythonSettings.setup(s => s.pythonPath).returns(() => pythonPath);
    const mockProvider = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.getAll(TypeMoq.It.isValue(types_3.ITerminalActivationCommandProvider), TypeMoq.It.isAny())).returns(() => [mockProvider.object]);
    mockProvider.setup(p => p.isShellSupported(TypeMoq.It.isAny())).returns(() => true);
    mockProvider.setup(p => p.getActivationCommands(TypeMoq.It.isAny(), TypeMoq.It.isAny())).returns(() => Promise.resolve(['mock command']));
    const expectedActivationCommand = ['mock command'];
    const activationCommands = yield terminalHelper.getEnvironmentActivationCommands(types_3.TerminalShellType.bash, undefined);
    chai_1.expect(activationCommands).to.deep.equal(expectedActivationCommand, 'Incorrect Activation command');
  }));

  function expectActivationCommandIfCondaDetectionFails(isWindows, isOsx, isLinux, pythonPath, condaEnvsPath) {
    return __awaiter(this, void 0, void 0, function* () {
      terminalSettings.setup(t => t.activateEnvironment).returns(() => true);
      platformService.setup(p => p.isLinux).returns(() => isLinux);
      platformService.setup(p => p.isWindows).returns(() => isWindows);
      platformService.setup(p => p.isMac).returns(() => isOsx);
      condaService.setup(c => c.isCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve(true));
      condaService.setup(c => c.isCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve(false));
      pythonSettings.setup(s => s.pythonPath).returns(() => pythonPath);
      const mockProvider = TypeMoq.Mock.ofType();
      serviceContainer.setup(c => c.getAll(TypeMoq.It.isValue(types_3.ITerminalActivationCommandProvider), TypeMoq.It.isAny())).returns(() => [mockProvider.object]);
      mockProvider.setup(p => p.isShellSupported(TypeMoq.It.isAny())).returns(() => true);
      mockProvider.setup(p => p.getActivationCommands(TypeMoq.It.isAny(), TypeMoq.It.isAny())).returns(() => Promise.resolve(['mock command']));
      const expectedActivationCommand = ['mock command'];
      const activationCommands = yield terminalHelper.getEnvironmentActivationCommands(types_3.TerminalShellType.bash, undefined);
      chai_1.expect(activationCommands).to.deep.equal(expectedActivationCommand, 'Incorrect Activation command');
    });
  }

  test('If environment is a conda environment and environment detection fails, ensure activatino of script is sent (windows)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('c', 'users', 'xyz', '.conda', 'envs', 'enva', 'python.exe');
    const condaEnvDir = path.join('c', 'users', 'xyz', '.conda', 'envs');
    fileSystem.setup(f => f.directoryExists(TypeMoq.It.isValue(path.join(path.dirname(pythonPath), 'conda-meta')))).returns(() => Promise.resolve(true));
    yield expectActivationCommandIfCondaDetectionFails(true, false, false, pythonPath, condaEnvDir);
  }));
  test('If environment is a conda environment and environment detection fails, ensure activatino of script is sent (osx)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'python');
    const condaEnvDir = path.join('users', 'xyz', '.conda', 'envs');
    fileSystem.setup(f => f.directoryExists(TypeMoq.It.isValue(path.join(path.dirname(pythonPath), '..', 'conda-meta')))).returns(() => Promise.resolve(true));
    yield expectActivationCommandIfCondaDetectionFails(false, true, false, pythonPath, condaEnvDir);
  }));
  test('If environment is a conda environment and environment detection fails, ensure activatino of script is sent (linux)', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('users', 'xyz', '.conda', 'envs', 'enva', 'python');
    const condaEnvDir = path.join('users', 'xyz', '.conda', 'envs');
    fileSystem.setup(f => f.directoryExists(TypeMoq.It.isValue(path.join(path.dirname(pythonPath), '..', 'conda-meta')))).returns(() => Promise.resolve(true));
    yield expectActivationCommandIfCondaDetectionFails(false, false, true, pythonPath, condaEnvDir);
  }));
  test('Return undefined if unable to get activation command', () => __awaiter(void 0, void 0, void 0, function* () {
    const pythonPath = path.join('c', 'users', 'xyz', '.conda', 'envs', 'enva', 'python.exe');
    terminalSettings.setup(t => t.activateEnvironment).returns(() => true);
    condaService.setup(c => c.isCondaEnvironment(TypeMoq.It.isAny())).returns(() => Promise.resolve(false));
    pythonSettings.setup(s => s.pythonPath).returns(() => pythonPath);
    const mockProvider = TypeMoq.Mock.ofType();
    serviceContainer.setup(c => c.getAll(TypeMoq.It.isValue(types_3.ITerminalActivationCommandProvider), TypeMoq.It.isAny())).returns(() => [mockProvider.object]);
    mockProvider.setup(p => p.isShellSupported(TypeMoq.It.isAny())).returns(() => true);
    mockProvider.setup(p => p.getActivationCommands(TypeMoq.It.isAny(), TypeMoq.It.isAny())).returns(() => Promise.resolve(undefined));
    const activationCommands = yield terminalHelper.getEnvironmentActivationCommands(types_3.TerminalShellType.bash, undefined);
    chai_1.expect(activationCommands).to.equal(undefined, 'Incorrect Activation command');
  }));
  const windowsTestPath = 'C:\\path\\to';
  const windowsTestPathSpaces = 'C:\\the path\\to the command';
  const testsForWindowsActivation = [{
    testName: 'Activation uses full path on windows for powershell',
    basePath: windowsTestPath,
    envName: 'TesterEnv',
    expectedResult: undefined,
    expectedRawCmd: `${path.join(windowsTestPath, 'activate')}`,
    terminalKind: types_3.TerminalShellType.powershell
  }, {
    testName: 'Activation uses full path with spaces on windows for powershell',
    basePath: windowsTestPathSpaces,
    envName: 'TesterEnv',
    expectedResult: undefined,
    expectedRawCmd: `"${path.join(windowsTestPathSpaces, 'activate')}"`,
    terminalKind: types_3.TerminalShellType.powershell
  }, {
    testName: 'Activation uses full path on windows under powershell, environment name has spaces',
    basePath: windowsTestPath,
    envName: 'The Tester Environment',
    expectedResult: undefined,
    expectedRawCmd: `${path.join(windowsTestPath, 'activate')}`,
    terminalKind: types_3.TerminalShellType.powershell
  }, {
    testName: 'Activation uses full path on windows for powershell-core',
    basePath: windowsTestPath,
    envName: 'TesterEnv',
    expectedResult: undefined,
    expectedRawCmd: `${path.join(windowsTestPath, 'activate')}`,
    terminalKind: types_3.TerminalShellType.powershellCore
  }, {
    testName: 'Activation uses full path with spaces on windows for powershell-core',
    basePath: windowsTestPathSpaces,
    envName: 'TesterEnv',
    expectedResult: undefined,
    expectedRawCmd: `"${path.join(windowsTestPathSpaces, 'activate')}"`,
    terminalKind: types_3.TerminalShellType.powershellCore
  }, {
    testName: 'Activation uses full path on windows for powershell-core, environment name has spaces',
    basePath: windowsTestPath,
    envName: 'The Tester Environment',
    expectedResult: undefined,
    expectedRawCmd: `${path.join(windowsTestPath, 'activate')}`,
    terminalKind: types_3.TerminalShellType.powershellCore
  }, {
    testName: 'Activation uses full path on windows for cmd.exe',
    basePath: windowsTestPath,
    envName: 'TesterEnv',
    expectedResult: [`${path.join(windowsTestPath, 'activate')} TesterEnv`],
    expectedRawCmd: `${path.join(windowsTestPath, 'activate')}`,
    terminalKind: types_3.TerminalShellType.commandPrompt
  }, {
    testName: 'Activation uses full path with spaces on windows for cmd.exe',
    basePath: windowsTestPathSpaces,
    envName: 'TesterEnv',
    expectedResult: [`"${path.join(windowsTestPathSpaces, 'activate')}" TesterEnv`],
    expectedRawCmd: `"${path.join(windowsTestPathSpaces, 'activate')}"`,
    terminalKind: types_3.TerminalShellType.commandPrompt
  }, {
    testName: 'Activation uses full path on windows for cmd.exe, environment name has spaces',
    basePath: windowsTestPath,
    envName: 'The Tester Environment',
    expectedResult: [`${path.join(windowsTestPath, 'activate')} "The Tester Environment"`],
    expectedRawCmd: `${path.join(windowsTestPath, 'activate')}`,
    terminalKind: types_3.TerminalShellType.commandPrompt
  }];
  testsForWindowsActivation.forEach(testParams => {
    test(testParams.testName, () => __awaiter(void 0, void 0, void 0, function* () {
      // each test simply tests the base windows activate command,
      // and then the specific result from the terminal selected.
      const servCnt = TypeMoq.Mock.ofType();
      const condaSrv = TypeMoq.Mock.ofType();
      condaSrv.setup(c => c.getCondaFile()).returns(() => __awaiter(this, void 0, void 0, function* () {
        return path.join(testParams.basePath, 'conda.exe');
      }));
      servCnt.setup(s => s.get(TypeMoq.It.isValue(contracts_1.ICondaService), TypeMoq.It.isAny())).returns(() => condaSrv.object);
      const tstCmdProvider = new condaActivationProvider_1.CondaActivationCommandProvider(servCnt.object);
      let result;

      if (testParams.terminalKind === types_3.TerminalShellType.commandPrompt) {
        result = yield tstCmdProvider.getWindowsCommands(testParams.envName);
      } else {
        result = yield tstCmdProvider.getPowershellCommands(testParams.envName, testParams.terminalKind);
      }

      chai_1.expect(result).to.deep.equal(testParams.expectedResult, 'Specific terminal command is incorrect.');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdGl2YXRpb24uY29uZGEudW5pdC50ZXN0LmpzIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJjaGFpXzEiLCJyZXF1aXJlIiwicGF0aCIsInNlbXZlcl8xIiwiVHlwZU1vcSIsInR5cGVzXzEiLCJ0eXBlc18yIiwiY29uZGFBY3RpdmF0aW9uUHJvdmlkZXJfMSIsImhlbHBlcl8xIiwidHlwZXNfMyIsInR5cGVzXzQiLCJlbnVtXzEiLCJjb250cmFjdHNfMSIsInN1aXRlIiwidGVybWluYWxIZWxwZXIiLCJkaXNwb3NhYmxlcyIsInRlcm1pbmFsU2V0dGluZ3MiLCJwbGF0Zm9ybVNlcnZpY2UiLCJmaWxlU3lzdGVtIiwicHl0aG9uU2V0dGluZ3MiLCJzZXJ2aWNlQ29udGFpbmVyIiwicHJvY2Vzc1NlcnZpY2UiLCJwcm9jU2VydmljZUZhY3RvcnkiLCJjb25kYVNlcnZpY2UiLCJjb25kYSIsInNldHVwIiwiTW9jayIsIm9mVHlwZSIsImMiLCJnZXQiLCJJdCIsImlzVmFsdWUiLCJJRGlzcG9zYWJsZVJlZ2lzdHJ5IiwiaXNBbnkiLCJyZXR1cm5zIiwiZ2V0Q29uZGFGaWxlIiwieCIsInVuZGVmaW5lZCIsInAiLCJjcmVhdGUiLCJvYmplY3QiLCJJUGxhdGZvcm1TZXJ2aWNlIiwiSUZpbGVTeXN0ZW0iLCJJUHJvY2Vzc1NlcnZpY2VGYWN0b3J5IiwiSUNvbmRhU2VydmljZSIsImNvbmZpZ1NlcnZpY2UiLCJJQ29uZmlndXJhdGlvblNlcnZpY2UiLCJnZXRTZXR0aW5ncyIsInMiLCJ0ZXJtaW5hbCIsIlRlcm1pbmFsSGVscGVyIiwidGVhcmRvd24iLCJmb3JFYWNoIiwiZGlzcG9zYWJsZSIsImRpc3Bvc2UiLCJ0ZXN0IiwidCIsImFjdGl2YXRlRW52aXJvbm1lbnQiLCJhY3RpdmF0aW9uQ29tbWFuZHMiLCJnZXRFbnZpcm9ubWVudEFjdGl2YXRpb25Db21tYW5kcyIsIlRlcm1pbmFsU2hlbGxUeXBlIiwiYmFzaCIsImV4cGVjdCIsInRvIiwiZXF1YWwiLCJlbnZOYW1lIiwicHl0aG9uUGF0aCIsImlzV2luZG93cyIsImdldENvbmRhRW52aXJvbm1lbnQiLCJuYW1lIiwiZGlybmFtZSIsImV4cGVjdGVkIiwicHJvdmlkZXIiLCJDb25kYUFjdGl2YXRpb25Db21tYW5kUHJvdmlkZXIiLCJnZXRBY3RpdmF0aW9uQ29tbWFuZHMiLCJmaXNoIiwiZGVlcCIsImNvbmRhUGF0aCIsImpvaW4iLCJyZXNldCIsImdldENvbmRhVmVyc2lvbiIsInBhcnNlIiwiZmlsZVRvQ29tbWFuZEFyZ3VtZW50IiwiZXhwZWN0Tm9Db25kYUFjdGl2YXRpb25Db21tYW5kRm9yUG93ZXJzaGVsbCIsImlzT3N4IiwiaXNMaW51eCIsInNoZWxsVHlwZSIsImhhc1NwYWNlSW5FbnZpcm9ubWVudE5hbWUiLCJpc01hYyIsImlzQ29uZGFFbnZpcm9ubWVudCIsImV4cGVjdGVkQWN0aXZhdGlvbkNvbW1hbW5kIiwicG93ZXJzaGVsbCIsInBvd2Vyc2hlbGxDb3JlIiwidG9Db21tYW5kQXJndW1lbnQiLCJnZXROYW1lc0FuZFZhbHVlcyIsImV4cGVjdENvbmRhQWN0aXZhdGlvbkNvbW1hbmQiLCJleHBlY3RlZEFjdGl2YXRpb25Db21tYW5kIiwiZiIsImRpcmVjdG9yeUV4aXN0cyIsIm1vY2tQcm92aWRlciIsImdldEFsbCIsIklUZXJtaW5hbEFjdGl2YXRpb25Db21tYW5kUHJvdmlkZXIiLCJpc1NoZWxsU3VwcG9ydGVkIiwiZXhwZWN0QWN0aXZhdGlvbkNvbW1hbmRJZkNvbmRhRGV0ZWN0aW9uRmFpbHMiLCJjb25kYUVudnNQYXRoIiwiY29uZGFFbnZEaXIiLCJ3aW5kb3dzVGVzdFBhdGgiLCJ3aW5kb3dzVGVzdFBhdGhTcGFjZXMiLCJ0ZXN0c0ZvcldpbmRvd3NBY3RpdmF0aW9uIiwidGVzdE5hbWUiLCJiYXNlUGF0aCIsImV4cGVjdGVkUmVzdWx0IiwiZXhwZWN0ZWRSYXdDbWQiLCJ0ZXJtaW5hbEtpbmQiLCJjb21tYW5kUHJvbXB0IiwidGVzdFBhcmFtcyIsInNlcnZDbnQiLCJjb25kYVNydiIsInRzdENtZFByb3ZpZGVyIiwiZ2V0V2luZG93c0NvbW1hbmRzIiwiZ2V0UG93ZXJzaGVsbENvbW1hbmRzIl0sIm1hcHBpbmdzIjoiQUFBQSxhLENBQ0E7QUFDQTs7QUFDQSxJQUFJQSxTQUFTLEdBQUksVUFBUSxTQUFLQSxTQUFkLElBQTRCLFVBQVVDLE9BQVYsRUFBbUJDLFVBQW5CLEVBQStCQyxDQUEvQixFQUFrQ0MsU0FBbEMsRUFBNkM7QUFDckYsU0FBTyxLQUFLRCxDQUFDLEtBQUtBLENBQUMsR0FBR0UsT0FBVCxDQUFOLEVBQXlCLFVBQVVDLE9BQVYsRUFBbUJDLE1BQW5CLEVBQTJCO0FBQ3ZELGFBQVNDLFNBQVQsQ0FBbUJDLEtBQW5CLEVBQTBCO0FBQUUsVUFBSTtBQUFFQyxRQUFBQSxJQUFJLENBQUNOLFNBQVMsQ0FBQ08sSUFBVixDQUFlRixLQUFmLENBQUQsQ0FBSjtBQUE4QixPQUFwQyxDQUFxQyxPQUFPRyxDQUFQLEVBQVU7QUFBRUwsUUFBQUEsTUFBTSxDQUFDSyxDQUFELENBQU47QUFBWTtBQUFFOztBQUMzRixhQUFTQyxRQUFULENBQWtCSixLQUFsQixFQUF5QjtBQUFFLFVBQUk7QUFBRUMsUUFBQUEsSUFBSSxDQUFDTixTQUFTLENBQUMsT0FBRCxDQUFULENBQW1CSyxLQUFuQixDQUFELENBQUo7QUFBa0MsT0FBeEMsQ0FBeUMsT0FBT0csQ0FBUCxFQUFVO0FBQUVMLFFBQUFBLE1BQU0sQ0FBQ0ssQ0FBRCxDQUFOO0FBQVk7QUFBRTs7QUFDOUYsYUFBU0YsSUFBVCxDQUFjSSxNQUFkLEVBQXNCO0FBQUVBLE1BQUFBLE1BQU0sQ0FBQ0MsSUFBUCxH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QTZEMkMsT0FBTyxDQUFDNUUsTUFBckUsQ0FBdkI7QUFDQSxVQUFJL0MsTUFBSjs7QUFDQSxVQUFJMEgsVUFBVSxDQUFDRixZQUFYLEtBQTRCeEcsT0FBTyxDQUFDbUQsaUJBQVIsQ0FBMEJzRCxhQUExRCxFQUF5RTtBQUNyRXpILFFBQUFBLE1BQU0sR0FBRyxNQUFNNkgsY0FBYyxDQUFDQyxrQkFBZixDQUFrQ0osVUFBVSxDQUFDbEQsT0FBN0MsQ0FBZjtBQUNILE9BRkQsTUFHSztBQUNEeEUsUUFBQUEsTUFBTSxHQUFHLE1BQU02SCxjQUFjLENBQUNFLHFCQUFmLENBQXFDTCxVQUFVLENBQUNsRCxPQUFoRCxFQUF5RGtELFVBQVUsQ0FBQ0YsWUFBcEUsQ0FBZjtBQUNIOztBQUNEakgsTUFBQUEsTUFBTSxDQUFDOEQsTUFBUCxDQUFjckUsTUFBZCxFQUFzQnNFLEVBQXRCLENBQXlCYSxJQUF6QixDQUE4QlosS0FBOUIsQ0FBb0NtRCxVQUFVLENBQUNKLGNBQS9DLEVBQStELHlDQUEvRDtBQUNILEtBcEJ3QyxDQUFyQyxDQUFKO0FBcUJILEdBdEJEO0FBdUJILENBaFdJLENBQUwiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZTptYXgtZnVuYy1ib2R5LWxlbmd0aCBuby1hbnlcclxuY29uc3QgY2hhaV8xID0gcmVxdWlyZShcImNoYWlcIik7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuY29uc3Qgc2VtdmVyXzEgPSByZXF1aXJlKFwic2VtdmVyXCIpO1xyXG5jb25zdCBUeXBlTW9xID0gcmVxdWlyZShcInR5cGVtb3FcIik7XHJcbnJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvY29tbW9uL2V4dGVuc2lvbnNcIik7XHJcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L2NvbW1vbi9wbGF0Zm9ybS90eXBlc1wiKTtcclxuY29uc3QgdHlwZXNfMiA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvY29tbW9uL3Byb2Nlc3MvdHlwZXNcIik7XHJcbmNvbnN0IGNvbmRhQWN0aXZhdGlvblByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L2NvbW1vbi90ZXJtaW5hbC9lbnZpcm9ubWVudEFjdGl2YXRpb25Qcm92aWRlcnMvY29uZGFBY3RpdmF0aW9uUHJvdmlkZXJcIik7XHJcbmNvbnN0IGhlbHBlcl8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NsaWVudC9jb21tb24vdGVybWluYWwvaGVscGVyXCIpO1xyXG5jb25zdCB0eXBlc18zID0gcmVxdWlyZShcIi4uLy4uLy4uL2NsaWVudC9jb21tb24vdGVybWluYWwvdHlwZXNcIik7XHJcbmNvbnN0IHR5cGVzXzQgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L2NvbW1vbi90eXBlc1wiKTtcclxuY29uc3QgZW51bV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NsaWVudC9jb21tb24vdXRpbHMvZW51bVwiKTtcclxuY29uc3QgY29udHJhY3RzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L2ludGVycHJldGVyL2NvbnRyYWN0c1wiKTtcclxuc3VpdGUoJ1Rlcm1pbmFsIEVudmlyb25tZW50IEFjdGl2YXRpb24gY29uZGEnLCAoKSA9PiB7XHJcbiAgICBsZXQgdGVybWluYWxIZWxwZXI7XHJcbiAgICBsZXQgZGlzcG9zYWJsZXMgPSBbXTtcclxuICAgIGxldCB0ZXJtaW5hbFNldHRpbmdzO1xyXG4gICAgbGV0IHBsYXRmb3JtU2VydmljZTtcclxuICAgIGxldCBmaWxlU3lzdGVtO1xyXG4gICAgbGV0IHB5dGhvblNldHRpbmdzO1xyXG4gICAgbGV0IHNlcnZpY2VDb250YWluZXI7XHJcbiAgICBsZXQgcHJvY2Vzc1NlcnZpY2U7XHJcbiAgICBsZXQgcHJvY1NlcnZpY2VGYWN0b3J5O1xyXG4gICAgbGV0IGNvbmRhU2VydmljZTtcclxuICAgIGxldCBjb25kYTtcclxuICAgIHNldHVwKCgpID0+IHtcclxuICAgICAgICBjb25kYSA9ICdjb25kYSc7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBkaXNwb3NhYmxlcyA9IFtdO1xyXG4gICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldChUeXBlTW9xLkl0LmlzVmFsdWUodHlwZXNfNC5JRGlzcG9zYWJsZVJlZ2lzdHJ5KSwgVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBkaXNwb3NhYmxlcyk7XHJcbiAgICAgICAgZmlsZVN5c3RlbSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBwbGF0Zm9ybVNlcnZpY2UgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgcHJvY2Vzc1NlcnZpY2UgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgY29uZGFTZXJ2aWNlID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGNvbmRhU2VydmljZS5zZXR1cChjID0+IGMuZ2V0Q29uZGFGaWxlKCkpLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGNvbmRhKSk7XHJcbiAgICAgICAgcHJvY2Vzc1NlcnZpY2Uuc2V0dXAoKHgpID0+IHgudGhlbikucmV0dXJucygoKSA9PiB1bmRlZmluZWQpO1xyXG4gICAgICAgIHByb2NTZXJ2aWNlRmFjdG9yeSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBwcm9jU2VydmljZUZhY3Rvcnkuc2V0dXAocCA9PiBwLmNyZWF0ZShUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShwcm9jZXNzU2VydmljZS5vYmplY3QpKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzEuSVBsYXRmb3JtU2VydmljZSksIFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gcGxhdGZvcm1TZXJ2aWNlLm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18xLklGaWxlU3lzdGVtKSwgVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBmaWxlU3lzdGVtLm9iamVjdCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0KFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18yLklQcm9jZXNzU2VydmljZUZhY3RvcnkpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IHByb2NTZXJ2aWNlRmFjdG9yeS5vYmplY3QpO1xyXG4gICAgICAgIHNlcnZpY2VDb250YWluZXIuc2V0dXAoYyA9PiBjLmdldChUeXBlTW9xLkl0LmlzVmFsdWUoY29udHJhY3RzXzEuSUNvbmRhU2VydmljZSksIFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gY29uZGFTZXJ2aWNlLm9iamVjdCk7XHJcbiAgICAgICAgY29uc3QgY29uZmlnU2VydmljZSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzQuSUNvbmZpZ3VyYXRpb25TZXJ2aWNlKSkpLnJldHVybnMoKCkgPT4gY29uZmlnU2VydmljZS5vYmplY3QpO1xyXG4gICAgICAgIHB5dGhvblNldHRpbmdzID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIGNvbmZpZ1NlcnZpY2Uuc2V0dXAoYyA9PiBjLmdldFNldHRpbmdzKFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gcHl0aG9uU2V0dGluZ3Mub2JqZWN0KTtcclxuICAgICAgICB0ZXJtaW5hbFNldHRpbmdzID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgIHB5dGhvblNldHRpbmdzLnNldHVwKHMgPT4gcy50ZXJtaW5hbCkucmV0dXJucygoKSA9PiB0ZXJtaW5hbFNldHRpbmdzLm9iamVjdCk7XHJcbiAgICAgICAgdGVybWluYWxIZWxwZXIgPSBuZXcgaGVscGVyXzEuVGVybWluYWxIZWxwZXIoc2VydmljZUNvbnRhaW5lci5vYmplY3QpO1xyXG4gICAgfSk7XHJcbiAgICB0ZWFyZG93bigoKSA9PiB7XHJcbiAgICAgICAgZGlzcG9zYWJsZXMuZm9yRWFjaChkaXNwb3NhYmxlID0+IHtcclxuICAgICAgICAgICAgaWYgKGRpc3Bvc2FibGUpIHtcclxuICAgICAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ0Vuc3VyZSBubyBhY3RpdmF0aW9uIGNvbW1hbmRzIGFyZSByZXR1cm5lZCBpZiB0aGUgZmVhdHVyZSBpcyBkaXNhYmxlZCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5hY3RpdmF0ZUVudmlyb25tZW50KS5yZXR1cm5zKCgpID0+IGZhbHNlKTtcclxuICAgICAgICBjb25zdCBhY3RpdmF0aW9uQ29tbWFuZHMgPSB5aWVsZCB0ZXJtaW5hbEhlbHBlci5nZXRFbnZpcm9ubWVudEFjdGl2YXRpb25Db21tYW5kcyh0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLmJhc2gsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChhY3RpdmF0aW9uQ29tbWFuZHMpLnRvLmVxdWFsKHVuZGVmaW5lZCwgJ0FjdGl2YXRpb24gY29tbWFuZHMgc2hvdWxkIGJlIHVuZGVmaW5lZCcpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnQ29uZGEgYWN0aXZhdGlvbiBmb3IgZmlzaCBlc2NhcGVzIHNwYWNlcyBpbiBjb25kYSBmaWxlbmFtZScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25kYSA9ICdwYXRoIHRvIGNvbmRhJztcclxuICAgICAgICBjb25zdCBlbnZOYW1lID0gJ0VudkEnO1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSAncHl0aG9uMyc7XHJcbiAgICAgICAgcGxhdGZvcm1TZXJ2aWNlLnNldHVwKHAgPT4gcC5pc1dpbmRvd3MpLnJldHVybnMoKCkgPT4gZmFsc2UpO1xyXG4gICAgICAgIGNvbmRhU2VydmljZS5zZXR1cChjID0+IGMuZ2V0Q29uZGFFbnZpcm9ubWVudChUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh7IG5hbWU6IGVudk5hbWUsIHBhdGg6IHBhdGguZGlybmFtZShweXRob25QYXRoKSB9KSk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBbJ1wicGF0aCB0byBjb25kYVwiIGFjdGl2YXRlIEVudkEnXTtcclxuICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBjb25kYUFjdGl2YXRpb25Qcm92aWRlcl8xLkNvbmRhQWN0aXZhdGlvbkNvbW1hbmRQcm92aWRlcihzZXJ2aWNlQ29udGFpbmVyLm9iamVjdCk7XHJcbiAgICAgICAgY29uc3QgYWN0aXZhdGlvbkNvbW1hbmRzID0geWllbGQgcHJvdmlkZXIuZ2V0QWN0aXZhdGlvbkNvbW1hbmRzKHVuZGVmaW5lZCwgdHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZS5maXNoKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGFjdGl2YXRpb25Db21tYW5kcykudG8uZGVlcC5lcXVhbChleHBlY3RlZCwgJ0luY29ycmVjdCBBY3RpdmF0aW9uIGNvbW1hbmQnKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0NvbmRhIGFjdGl2YXRpb24gb24gYmFzaCB1c2VzIFwic291cmNlXCIgYmVmb3JlIDQuNC4wJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IGVudk5hbWUgPSAnRW52QSc7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9ICdweXRob24zJztcclxuICAgICAgICBjb25zdCBjb25kYVBhdGggPSBwYXRoLmpvaW4oJ2EnLCAnYicsICdjJywgJ2NvbmRhJyk7XHJcbiAgICAgICAgcGxhdGZvcm1TZXJ2aWNlLnNldHVwKHAgPT4gcC5pc1dpbmRvd3MpLnJldHVybnMoKCkgPT4gZmFsc2UpO1xyXG4gICAgICAgIGNvbmRhU2VydmljZS5yZXNldCgpO1xyXG4gICAgICAgIGNvbmRhU2VydmljZS5zZXR1cChjID0+IGMuZ2V0Q29uZGFFbnZpcm9ubWVudChUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgICAgICBuYW1lOiBlbnZOYW1lLFxyXG4gICAgICAgICAgICBwYXRoOiBwYXRoLmRpcm5hbWUocHl0aG9uUGF0aClcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5nZXRDb25kYUZpbGUoKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGNvbmRhUGF0aCkpO1xyXG4gICAgICAgIGNvbmRhU2VydmljZS5zZXR1cChjID0+IGMuZ2V0Q29uZGFWZXJzaW9uKCkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShzZW12ZXJfMS5wYXJzZSgnNC4zLjEnLCB0cnVlKSkpO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkID0gW2Bzb3VyY2UgJHtwYXRoLmpvaW4ocGF0aC5kaXJuYW1lKGNvbmRhUGF0aCksICdhY3RpdmF0ZScpLmZpbGVUb0NvbW1hbmRBcmd1bWVudCgpfSBFbnZBYF07XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgY29uZGFBY3RpdmF0aW9uUHJvdmlkZXJfMS5Db25kYUFjdGl2YXRpb25Db21tYW5kUHJvdmlkZXIoc2VydmljZUNvbnRhaW5lci5vYmplY3QpO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2YXRpb25Db21tYW5kcyA9IHlpZWxkIHByb3ZpZGVyLmdldEFjdGl2YXRpb25Db21tYW5kcyh1bmRlZmluZWQsIHR5cGVzXzMuVGVybWluYWxTaGVsbFR5cGUuYmFzaCk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChhY3RpdmF0aW9uQ29tbWFuZHMpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWQsICdJbmNvcnJlY3QgQWN0aXZhdGlvbiBjb21tYW5kJyk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdDb25kYSBhY3RpdmF0aW9uIG9uIGJhc2ggdXNlcyBcImNvbmRhXCIgYWZ0ZXIgNC40LjAnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgZW52TmFtZSA9ICdFbnZBJztcclxuICAgICAgICBjb25zdCBweXRob25QYXRoID0gJ3B5dGhvbjMnO1xyXG4gICAgICAgIGNvbnN0IGNvbmRhUGF0aCA9IHBhdGguam9pbignYScsICdiJywgJ2MnLCAnY29uZGEnKTtcclxuICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzV2luZG93cykucmV0dXJucygoKSA9PiBmYWxzZSk7XHJcbiAgICAgICAgY29uZGFTZXJ2aWNlLnJlc2V0KCk7XHJcbiAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5nZXRDb25kYUVudmlyb25tZW50KFR5cGVNb3EuSXQuaXNBbnkoKSkpXHJcbiAgICAgICAgICAgIC5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgIG5hbWU6IGVudk5hbWUsXHJcbiAgICAgICAgICAgIHBhdGg6IHBhdGguZGlybmFtZShweXRob25QYXRoKVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBjb25kYVNlcnZpY2Uuc2V0dXAoYyA9PiBjLmdldENvbmRhRmlsZSgpKVxyXG4gICAgICAgICAgICAucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUoY29uZGFQYXRoKSk7XHJcbiAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5nZXRDb25kYVZlcnNpb24oKSlcclxuICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHNlbXZlcl8xLnBhcnNlKCc0LjQuMCcsIHRydWUpKSk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBbYHNvdXJjZSAke3BhdGguam9pbihwYXRoLmRpcm5hbWUoY29uZGFQYXRoKSwgJ2FjdGl2YXRlJykuZmlsZVRvQ29tbWFuZEFyZ3VtZW50KCl9IEVudkFgXTtcclxuICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBjb25kYUFjdGl2YXRpb25Qcm92aWRlcl8xLkNvbmRhQWN0aXZhdGlvbkNvbW1hbmRQcm92aWRlcihzZXJ2aWNlQ29udGFpbmVyLm9iamVjdCk7XHJcbiAgICAgICAgY29uc3QgYWN0aXZhdGlvbkNvbW1hbmRzID0geWllbGQgcHJvdmlkZXIuZ2V0QWN0aXZhdGlvbkNvbW1hbmRzKHVuZGVmaW5lZCwgdHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZS5iYXNoKTtcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGFjdGl2YXRpb25Db21tYW5kcykudG8uZGVlcC5lcXVhbChleHBlY3RlZCwgJ0luY29ycmVjdCBBY3RpdmF0aW9uIGNvbW1hbmQnKTtcclxuICAgIH0pKTtcclxuICAgIGZ1bmN0aW9uIGV4cGVjdE5vQ29uZGFBY3RpdmF0aW9uQ29tbWFuZEZvclBvd2Vyc2hlbGwoaXNXaW5kb3dzLCBpc09zeCwgaXNMaW51eCwgcHl0aG9uUGF0aCwgc2hlbGxUeXBlLCBoYXNTcGFjZUluRW52aXJvbm1lbnROYW1lID0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5hY3RpdmF0ZUVudmlyb25tZW50KS5yZXR1cm5zKCgpID0+IHRydWUpO1xyXG4gICAgICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzTGludXgpLnJldHVybnMoKCkgPT4gaXNMaW51eCk7XHJcbiAgICAgICAgICAgIHBsYXRmb3JtU2VydmljZS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGlzV2luZG93cyk7XHJcbiAgICAgICAgICAgIHBsYXRmb3JtU2VydmljZS5zZXR1cChwID0+IHAuaXNNYWMpLnJldHVybnMoKCkgPT4gaXNPc3gpO1xyXG4gICAgICAgICAgICBjb25kYVNlcnZpY2Uuc2V0dXAoYyA9PiBjLmlzQ29uZGFFbnZpcm9ubWVudChUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSk7XHJcbiAgICAgICAgICAgIHB5dGhvblNldHRpbmdzLnNldHVwKHMgPT4gcy5weXRob25QYXRoKS5yZXR1cm5zKCgpID0+IHB5dGhvblBhdGgpO1xyXG4gICAgICAgICAgICBjb25zdCBlbnZOYW1lID0gaGFzU3BhY2VJbkVudmlyb25tZW50TmFtZSA/ICdFbnZBJyA6ICdFbnYgQSc7XHJcbiAgICAgICAgICAgIGNvbmRhU2VydmljZS5zZXR1cChjID0+IGMuZ2V0Q29uZGFFbnZpcm9ubWVudChUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh7IG5hbWU6IGVudk5hbWUsIHBhdGg6IHBhdGguZGlybmFtZShweXRob25QYXRoKSB9KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2YXRpb25Db21tYW5kcyA9IHlpZWxkIG5ldyBjb25kYUFjdGl2YXRpb25Qcm92aWRlcl8xLkNvbmRhQWN0aXZhdGlvbkNvbW1hbmRQcm92aWRlcihzZXJ2aWNlQ29udGFpbmVyLm9iamVjdCkuZ2V0QWN0aXZhdGlvbkNvbW1hbmRzKHVuZGVmaW5lZCwgc2hlbGxUeXBlKTtcclxuICAgICAgICAgICAgbGV0IGV4cGVjdGVkQWN0aXZhdGlvbkNvbW1hbW5kO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHNoZWxsVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSB0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLnBvd2Vyc2hlbGw6XHJcbiAgICAgICAgICAgICAgICBjYXNlIHR5cGVzXzMuVGVybWluYWxTaGVsbFR5cGUucG93ZXJzaGVsbENvcmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZEFjdGl2YXRpb25Db21tYW1uZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgdHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZS5maXNoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRBY3RpdmF0aW9uQ29tbWFtbmQgPSBbYGNvbmRhIGFjdGl2YXRlICR7ZW52TmFtZS50b0NvbW1hbmRBcmd1bWVudCgpfWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkQWN0aXZhdGlvbkNvbW1hbW5kID0gaXNXaW5kb3dzID8gW2BhY3RpdmF0ZSAke2Vudk5hbWUudG9Db21tYW5kQXJndW1lbnQoKX1gXSA6IFtgc291cmNlIGFjdGl2YXRlICR7ZW52TmFtZS50b0NvbW1hbmRBcmd1bWVudCgpfWBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChleHBlY3RlZEFjdGl2YXRpb25Db21tYW1uZCkge1xyXG4gICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChhY3RpdmF0aW9uQ29tbWFuZHMpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWRBY3RpdmF0aW9uQ29tbWFtbmQsICdJbmNvcnJlY3QgQWN0aXZhdGlvbiBjb21tYW5kJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGFjdGl2YXRpb25Db21tYW5kcykudG8uZXF1YWwodW5kZWZpbmVkLCAnSW5jb3JyZWN0IEFjdGl2YXRpb24gY29tbWFuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbnVtXzEuZ2V0TmFtZXNBbmRWYWx1ZXModHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZSkuZm9yRWFjaChzaGVsbFR5cGUgPT4ge1xyXG4gICAgICAgIHRlc3QoYENvbmRhIGFjdGl2YXRpb24gY29tbWFuZCBmb3Igc2hlbGwgJHtzaGVsbFR5cGUubmFtZX0gb24gKHdpbmRvd3MpYCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gcGF0aC5qb2luKCdjJywgJ3VzZXJzJywgJ3h5eicsICcuY29uZGEnLCAnZW52cycsICdlbnZhJywgJ3B5dGhvbi5leGUnKTtcclxuICAgICAgICAgICAgeWllbGQgZXhwZWN0Tm9Db25kYUFjdGl2YXRpb25Db21tYW5kRm9yUG93ZXJzaGVsbCh0cnVlLCBmYWxzZSwgZmFsc2UsIHB5dGhvblBhdGgsIHNoZWxsVHlwZS52YWx1ZSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRlc3QoYENvbmRhIGFjdGl2YXRpb24gY29tbWFuZCBmb3Igc2hlbGwgJHtzaGVsbFR5cGUubmFtZX0gb24gKGxpbnV4KWAsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbigndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAnYmluJywgJ3B5dGhvbicpO1xyXG4gICAgICAgICAgICB5aWVsZCBleHBlY3ROb0NvbmRhQWN0aXZhdGlvbkNvbW1hbmRGb3JQb3dlcnNoZWxsKGZhbHNlLCBmYWxzZSwgdHJ1ZSwgcHl0aG9uUGF0aCwgc2hlbGxUeXBlLnZhbHVlKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGVzdChgQ29uZGEgYWN0aXZhdGlvbiBjb21tYW5kIGZvciBzaGVsbCAke3NoZWxsVHlwZS5uYW1lfSBvbiAobWFjKWAsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbigndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAnYmluJywgJ3B5dGhvbicpO1xyXG4gICAgICAgICAgICB5aWVsZCBleHBlY3ROb0NvbmRhQWN0aXZhdGlvbkNvbW1hbmRGb3JQb3dlcnNoZWxsKGZhbHNlLCB0cnVlLCBmYWxzZSwgcHl0aG9uUGF0aCwgc2hlbGxUeXBlLnZhbHVlKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9KTtcclxuICAgIGVudW1fMS5nZXROYW1lc0FuZFZhbHVlcyh0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlKS5mb3JFYWNoKHNoZWxsVHlwZSA9PiB7XHJcbiAgICAgICAgdGVzdChgQ29uZGEgYWN0aXZhdGlvbiBjb21tYW5kIGZvciBzaGVsbCAke3NoZWxsVHlwZS5uYW1lfSBvbiAod2luZG93cyksIGNvbnRhaW5pbmcgc3BhY2VzIGluIGVudmlyb25tZW50IG5hbWVgLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBwYXRoLmpvaW4oJ2MnLCAndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAncHl0aG9uLmV4ZScpO1xyXG4gICAgICAgICAgICB5aWVsZCBleHBlY3ROb0NvbmRhQWN0aXZhdGlvbkNvbW1hbmRGb3JQb3dlcnNoZWxsKHRydWUsIGZhbHNlLCBmYWxzZSwgcHl0aG9uUGF0aCwgc2hlbGxUeXBlLnZhbHVlLCB0cnVlKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgdGVzdChgQ29uZGEgYWN0aXZhdGlvbiBjb21tYW5kIGZvciBzaGVsbCAke3NoZWxsVHlwZS5uYW1lfSBvbiAobGludXgpLCBjb250YWluaW5nIHNwYWNlcyBpbiBlbnZpcm9ubWVudCBuYW1lYCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gcGF0aC5qb2luKCd1c2VycycsICd4eXonLCAnLmNvbmRhJywgJ2VudnMnLCAnZW52YScsICdiaW4nLCAncHl0aG9uJyk7XHJcbiAgICAgICAgICAgIHlpZWxkIGV4cGVjdE5vQ29uZGFBY3RpdmF0aW9uQ29tbWFuZEZvclBvd2Vyc2hlbGwoZmFsc2UsIGZhbHNlLCB0cnVlLCBweXRob25QYXRoLCBzaGVsbFR5cGUudmFsdWUsIHRydWUpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICB0ZXN0KGBDb25kYSBhY3RpdmF0aW9uIGNvbW1hbmQgZm9yIHNoZWxsICR7c2hlbGxUeXBlLm5hbWV9IG9uIChtYWMpLCBjb250YWluaW5nIHNwYWNlcyBpbiBlbnZpcm9ubWVudCBuYW1lYCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gcGF0aC5qb2luKCd1c2VycycsICd4eXonLCAnLmNvbmRhJywgJ2VudnMnLCAnZW52YScsICdiaW4nLCAncHl0aG9uJyk7XHJcbiAgICAgICAgICAgIHlpZWxkIGV4cGVjdE5vQ29uZGFBY3RpdmF0aW9uQ29tbWFuZEZvclBvd2Vyc2hlbGwoZmFsc2UsIHRydWUsIGZhbHNlLCBweXRob25QYXRoLCBzaGVsbFR5cGUudmFsdWUsIHRydWUpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH0pO1xyXG4gICAgZnVuY3Rpb24gZXhwZWN0Q29uZGFBY3RpdmF0aW9uQ29tbWFuZChpc1dpbmRvd3MsIGlzT3N4LCBpc0xpbnV4LCBweXRob25QYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQuYWN0aXZhdGVFbnZpcm9ubWVudCkucmV0dXJucygoKSA9PiB0cnVlKTtcclxuICAgICAgICAgICAgcGxhdGZvcm1TZXJ2aWNlLnNldHVwKHAgPT4gcC5pc0xpbnV4KS5yZXR1cm5zKCgpID0+IGlzTGludXgpO1xyXG4gICAgICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzV2luZG93cykucmV0dXJucygoKSA9PiBpc1dpbmRvd3MpO1xyXG4gICAgICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzTWFjKS5yZXR1cm5zKCgpID0+IGlzT3N4KTtcclxuICAgICAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5pc0NvbmRhRW52aXJvbm1lbnQoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUodHJ1ZSkpO1xyXG4gICAgICAgICAgICBweXRob25TZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBweXRob25QYXRoKTtcclxuICAgICAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5nZXRDb25kYUVudmlyb25tZW50KFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgbmFtZTogJ0VudkEnLCBwYXRoOiBwYXRoLmRpcm5hbWUocHl0aG9uUGF0aCkgfSkpO1xyXG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZEFjdGl2YXRpb25Db21tYW5kID0gaXNXaW5kb3dzID8gWydhY3RpdmF0ZSBFbnZBJ10gOiBbJ3NvdXJjZSBhY3RpdmF0ZSBFbnZBJ107XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2YXRpb25Db21tYW5kcyA9IHlpZWxkIHRlcm1pbmFsSGVscGVyLmdldEVudmlyb25tZW50QWN0aXZhdGlvbkNvbW1hbmRzKHR5cGVzXzMuVGVybWluYWxTaGVsbFR5cGUuYmFzaCwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChhY3RpdmF0aW9uQ29tbWFuZHMpLnRvLmRlZXAuZXF1YWwoZXhwZWN0ZWRBY3RpdmF0aW9uQ29tbWFuZCwgJ0luY29ycmVjdCBBY3RpdmF0aW9uIGNvbW1hbmQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRlc3QoJ0lmIGVudmlyb25tZW50IGlzIGEgY29uZGEgZW52aXJvbm1lbnQsIGVuc3VyZSBjb25kYSBhY3RpdmF0aW9uIGNvbW1hbmQgaXMgc2VudCAod2luZG93cyknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbignYycsICd1c2VycycsICd4eXonLCAnLmNvbmRhJywgJ2VudnMnLCAnZW52YScsICdweXRob24uZXhlJyk7XHJcbiAgICAgICAgZmlsZVN5c3RlbS5zZXR1cChmID0+IGYuZGlyZWN0b3J5RXhpc3RzKFR5cGVNb3EuSXQuaXNWYWx1ZShwYXRoLmpvaW4ocGF0aC5kaXJuYW1lKHB5dGhvblBhdGgpLCAnY29uZGEtbWV0YScpKSkpLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRydWUpKTtcclxuICAgICAgICB5aWVsZCBleHBlY3RDb25kYUFjdGl2YXRpb25Db21tYW5kKHRydWUsIGZhbHNlLCBmYWxzZSwgcHl0aG9uUGF0aCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdJZiBlbnZpcm9ubWVudCBpcyBhIGNvbmRhIGVudmlyb25tZW50LCBlbnN1cmUgY29uZGEgYWN0aXZhdGlvbiBjb21tYW5kIGlzIHNlbnQgKGxpbnV4KScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCBweXRob25QYXRoID0gcGF0aC5qb2luKCd1c2VycycsICd4eXonLCAnLmNvbmRhJywgJ2VudnMnLCAnZW52YScsICdiaW4nLCAncHl0aG9uJyk7XHJcbiAgICAgICAgZmlsZVN5c3RlbS5zZXR1cChmID0+IGYuZGlyZWN0b3J5RXhpc3RzKFR5cGVNb3EuSXQuaXNWYWx1ZShwYXRoLmpvaW4ocGF0aC5kaXJuYW1lKHB5dGhvblBhdGgpLCAnLi4nLCAnY29uZGEtbWV0YScpKSkpLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRydWUpKTtcclxuICAgICAgICB5aWVsZCBleHBlY3RDb25kYUFjdGl2YXRpb25Db21tYW5kKGZhbHNlLCBmYWxzZSwgdHJ1ZSwgcHl0aG9uUGF0aCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdJZiBlbnZpcm9ubWVudCBpcyBhIGNvbmRhIGVudmlyb25tZW50LCBlbnN1cmUgY29uZGEgYWN0aXZhdGlvbiBjb21tYW5kIGlzIHNlbnQgKG9zeCknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbigndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAnYmluJywgJ3B5dGhvbicpO1xyXG4gICAgICAgIGZpbGVTeXN0ZW0uc2V0dXAoZiA9PiBmLmRpcmVjdG9yeUV4aXN0cyhUeXBlTW9xLkl0LmlzVmFsdWUocGF0aC5qb2luKHBhdGguZGlybmFtZShweXRob25QYXRoKSwgJy4uJywgJ2NvbmRhLW1ldGEnKSkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSk7XHJcbiAgICAgICAgeWllbGQgZXhwZWN0Q29uZGFBY3RpdmF0aW9uQ29tbWFuZChmYWxzZSwgdHJ1ZSwgZmFsc2UsIHB5dGhvblBhdGgpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnR2V0IGFjdGl2YXRpb24gc2NyaXB0IGNvbW1hbmQgaWYgZW52aXJvbm1lbnQgaXMgbm90IGEgY29uZGEgZW52aXJvbm1lbnQnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbigndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAnYmluJywgJ3B5dGhvbicpO1xyXG4gICAgICAgIHRlcm1pbmFsU2V0dGluZ3Muc2V0dXAodCA9PiB0LmFjdGl2YXRlRW52aXJvbm1lbnQpLnJldHVybnMoKCkgPT4gdHJ1ZSk7XHJcbiAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5pc0NvbmRhRW52aXJvbm1lbnQoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUoZmFsc2UpKTtcclxuICAgICAgICBweXRob25TZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBweXRob25QYXRoKTtcclxuICAgICAgICBjb25zdCBtb2NrUHJvdmlkZXIgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0QWxsKFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18zLklUZXJtaW5hbEFjdGl2YXRpb25Db21tYW5kUHJvdmlkZXIpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFttb2NrUHJvdmlkZXIub2JqZWN0XSk7XHJcbiAgICAgICAgbW9ja1Byb3ZpZGVyLnNldHVwKHAgPT4gcC5pc1NoZWxsU3VwcG9ydGVkKFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gdHJ1ZSk7XHJcbiAgICAgICAgbW9ja1Byb3ZpZGVyLnNldHVwKHAgPT4gcC5nZXRBY3RpdmF0aW9uQ29tbWFuZHMoVHlwZU1vcS5JdC5pc0FueSgpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShbJ21vY2sgY29tbWFuZCddKSk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRBY3RpdmF0aW9uQ29tbWFuZCA9IFsnbW9jayBjb21tYW5kJ107XHJcbiAgICAgICAgY29uc3QgYWN0aXZhdGlvbkNvbW1hbmRzID0geWllbGQgdGVybWluYWxIZWxwZXIuZ2V0RW52aXJvbm1lbnRBY3RpdmF0aW9uQ29tbWFuZHModHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZS5iYXNoLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoYWN0aXZhdGlvbkNvbW1hbmRzKS50by5kZWVwLmVxdWFsKGV4cGVjdGVkQWN0aXZhdGlvbkNvbW1hbmQsICdJbmNvcnJlY3QgQWN0aXZhdGlvbiBjb21tYW5kJyk7XHJcbiAgICB9KSk7XHJcbiAgICBmdW5jdGlvbiBleHBlY3RBY3RpdmF0aW9uQ29tbWFuZElmQ29uZGFEZXRlY3Rpb25GYWlscyhpc1dpbmRvd3MsIGlzT3N4LCBpc0xpbnV4LCBweXRob25QYXRoLCBjb25kYUVudnNQYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQuYWN0aXZhdGVFbnZpcm9ubWVudCkucmV0dXJucygoKSA9PiB0cnVlKTtcclxuICAgICAgICAgICAgcGxhdGZvcm1TZXJ2aWNlLnNldHVwKHAgPT4gcC5pc0xpbnV4KS5yZXR1cm5zKCgpID0+IGlzTGludXgpO1xyXG4gICAgICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzV2luZG93cykucmV0dXJucygoKSA9PiBpc1dpbmRvd3MpO1xyXG4gICAgICAgICAgICBwbGF0Zm9ybVNlcnZpY2Uuc2V0dXAocCA9PiBwLmlzTWFjKS5yZXR1cm5zKCgpID0+IGlzT3N4KTtcclxuICAgICAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5pc0NvbmRhRW52aXJvbm1lbnQoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUodHJ1ZSkpO1xyXG4gICAgICAgICAgICBjb25kYVNlcnZpY2Uuc2V0dXAoYyA9PiBjLmlzQ29uZGFFbnZpcm9ubWVudChUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZShmYWxzZSkpO1xyXG4gICAgICAgICAgICBweXRob25TZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBweXRob25QYXRoKTtcclxuICAgICAgICAgICAgY29uc3QgbW9ja1Byb3ZpZGVyID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICBzZXJ2aWNlQ29udGFpbmVyLnNldHVwKGMgPT4gYy5nZXRBbGwoVHlwZU1vcS5JdC5pc1ZhbHVlKHR5cGVzXzMuSVRlcm1pbmFsQWN0aXZhdGlvbkNvbW1hbmRQcm92aWRlciksIFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gW21vY2tQcm92aWRlci5vYmplY3RdKTtcclxuICAgICAgICAgICAgbW9ja1Byb3ZpZGVyLnNldHVwKHAgPT4gcC5pc1NoZWxsU3VwcG9ydGVkKFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gdHJ1ZSk7XHJcbiAgICAgICAgICAgIG1vY2tQcm92aWRlci5zZXR1cChwID0+IHAuZ2V0QWN0aXZhdGlvbkNvbW1hbmRzKFR5cGVNb3EuSXQuaXNBbnkoKSwgVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUoWydtb2NrIGNvbW1hbmQnXSkpO1xyXG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZEFjdGl2YXRpb25Db21tYW5kID0gWydtb2NrIGNvbW1hbmQnXTtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZhdGlvbkNvbW1hbmRzID0geWllbGQgdGVybWluYWxIZWxwZXIuZ2V0RW52aXJvbm1lbnRBY3RpdmF0aW9uQ29tbWFuZHModHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZS5iYXNoLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGFjdGl2YXRpb25Db21tYW5kcykudG8uZGVlcC5lcXVhbChleHBlY3RlZEFjdGl2YXRpb25Db21tYW5kLCAnSW5jb3JyZWN0IEFjdGl2YXRpb24gY29tbWFuZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGVzdCgnSWYgZW52aXJvbm1lbnQgaXMgYSBjb25kYSBlbnZpcm9ubWVudCBhbmQgZW52aXJvbm1lbnQgZGV0ZWN0aW9uIGZhaWxzLCBlbnN1cmUgYWN0aXZhdGlubyBvZiBzY3JpcHQgaXMgc2VudCAod2luZG93cyknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbignYycsICd1c2VycycsICd4eXonLCAnLmNvbmRhJywgJ2VudnMnLCAnZW52YScsICdweXRob24uZXhlJyk7XHJcbiAgICAgICAgY29uc3QgY29uZGFFbnZEaXIgPSBwYXRoLmpvaW4oJ2MnLCAndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJyk7XHJcbiAgICAgICAgZmlsZVN5c3RlbS5zZXR1cChmID0+IGYuZGlyZWN0b3J5RXhpc3RzKFR5cGVNb3EuSXQuaXNWYWx1ZShwYXRoLmpvaW4ocGF0aC5kaXJuYW1lKHB5dGhvblBhdGgpLCAnY29uZGEtbWV0YScpKSkpLnJldHVybnMoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRydWUpKTtcclxuICAgICAgICB5aWVsZCBleHBlY3RBY3RpdmF0aW9uQ29tbWFuZElmQ29uZGFEZXRlY3Rpb25GYWlscyh0cnVlLCBmYWxzZSwgZmFsc2UsIHB5dGhvblBhdGgsIGNvbmRhRW52RGlyKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0lmIGVudmlyb25tZW50IGlzIGEgY29uZGEgZW52aXJvbm1lbnQgYW5kIGVudmlyb25tZW50IGRldGVjdGlvbiBmYWlscywgZW5zdXJlIGFjdGl2YXRpbm8gb2Ygc2NyaXB0IGlzIHNlbnQgKG9zeCknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbigndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAncHl0aG9uJyk7XHJcbiAgICAgICAgY29uc3QgY29uZGFFbnZEaXIgPSBwYXRoLmpvaW4oJ3VzZXJzJywgJ3h5eicsICcuY29uZGEnLCAnZW52cycpO1xyXG4gICAgICAgIGZpbGVTeXN0ZW0uc2V0dXAoZiA9PiBmLmRpcmVjdG9yeUV4aXN0cyhUeXBlTW9xLkl0LmlzVmFsdWUocGF0aC5qb2luKHBhdGguZGlybmFtZShweXRob25QYXRoKSwgJy4uJywgJ2NvbmRhLW1ldGEnKSkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSk7XHJcbiAgICAgICAgeWllbGQgZXhwZWN0QWN0aXZhdGlvbkNvbW1hbmRJZkNvbmRhRGV0ZWN0aW9uRmFpbHMoZmFsc2UsIHRydWUsIGZhbHNlLCBweXRob25QYXRoLCBjb25kYUVudkRpcik7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdJZiBlbnZpcm9ubWVudCBpcyBhIGNvbmRhIGVudmlyb25tZW50IGFuZCBlbnZpcm9ubWVudCBkZXRlY3Rpb24gZmFpbHMsIGVuc3VyZSBhY3RpdmF0aW5vIG9mIHNjcmlwdCBpcyBzZW50IChsaW51eCknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9IHBhdGguam9pbigndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAncHl0aG9uJyk7XHJcbiAgICAgICAgY29uc3QgY29uZGFFbnZEaXIgPSBwYXRoLmpvaW4oJ3VzZXJzJywgJ3h5eicsICcuY29uZGEnLCAnZW52cycpO1xyXG4gICAgICAgIGZpbGVTeXN0ZW0uc2V0dXAoZiA9PiBmLmRpcmVjdG9yeUV4aXN0cyhUeXBlTW9xLkl0LmlzVmFsdWUocGF0aC5qb2luKHBhdGguZGlybmFtZShweXRob25QYXRoKSwgJy4uJywgJ2NvbmRhLW1ldGEnKSkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSk7XHJcbiAgICAgICAgeWllbGQgZXhwZWN0QWN0aXZhdGlvbkNvbW1hbmRJZkNvbmRhRGV0ZWN0aW9uRmFpbHMoZmFsc2UsIGZhbHNlLCB0cnVlLCBweXRob25QYXRoLCBjb25kYUVudkRpcik7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdSZXR1cm4gdW5kZWZpbmVkIGlmIHVuYWJsZSB0byBnZXQgYWN0aXZhdGlvbiBjb21tYW5kJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBwYXRoLmpvaW4oJ2MnLCAndXNlcnMnLCAneHl6JywgJy5jb25kYScsICdlbnZzJywgJ2VudmEnLCAncHl0aG9uLmV4ZScpO1xyXG4gICAgICAgIHRlcm1pbmFsU2V0dGluZ3Muc2V0dXAodCA9PiB0LmFjdGl2YXRlRW52aXJvbm1lbnQpLnJldHVybnMoKCkgPT4gdHJ1ZSk7XHJcbiAgICAgICAgY29uZGFTZXJ2aWNlLnNldHVwKGMgPT4gYy5pc0NvbmRhRW52aXJvbm1lbnQoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiBQcm9taXNlLnJlc29sdmUoZmFsc2UpKTtcclxuICAgICAgICBweXRob25TZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBweXRob25QYXRoKTtcclxuICAgICAgICBjb25zdCBtb2NrUHJvdmlkZXIgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgc2VydmljZUNvbnRhaW5lci5zZXR1cChjID0+IGMuZ2V0QWxsKFR5cGVNb3EuSXQuaXNWYWx1ZSh0eXBlc18zLklUZXJtaW5hbEFjdGl2YXRpb25Db21tYW5kUHJvdmlkZXIpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFttb2NrUHJvdmlkZXIub2JqZWN0XSk7XHJcbiAgICAgICAgbW9ja1Byb3ZpZGVyLnNldHVwKHAgPT4gcC5pc1NoZWxsU3VwcG9ydGVkKFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gdHJ1ZSk7XHJcbiAgICAgICAgbW9ja1Byb3ZpZGVyLnNldHVwKHAgPT4gcC5nZXRBY3RpdmF0aW9uQ29tbWFuZHMoVHlwZU1vcS5JdC5pc0FueSgpLCBUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpKTtcclxuICAgICAgICBjb25zdCBhY3RpdmF0aW9uQ29tbWFuZHMgPSB5aWVsZCB0ZXJtaW5hbEhlbHBlci5nZXRFbnZpcm9ubWVudEFjdGl2YXRpb25Db21tYW5kcyh0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLmJhc2gsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChhY3RpdmF0aW9uQ29tbWFuZHMpLnRvLmVxdWFsKHVuZGVmaW5lZCwgJ0luY29ycmVjdCBBY3RpdmF0aW9uIGNvbW1hbmQnKTtcclxuICAgIH0pKTtcclxuICAgIGNvbnN0IHdpbmRvd3NUZXN0UGF0aCA9ICdDOlxcXFxwYXRoXFxcXHRvJztcclxuICAgIGNvbnN0IHdpbmRvd3NUZXN0UGF0aFNwYWNlcyA9ICdDOlxcXFx0aGUgcGF0aFxcXFx0byB0aGUgY29tbWFuZCc7XHJcbiAgICBjb25zdCB0ZXN0c0ZvcldpbmRvd3NBY3RpdmF0aW9uID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVzdE5hbWU6ICdBY3RpdmF0aW9uIHVzZXMgZnVsbCBwYXRoIG9uIHdpbmRvd3MgZm9yIHBvd2Vyc2hlbGwnLFxyXG4gICAgICAgICAgICBiYXNlUGF0aDogd2luZG93c1Rlc3RQYXRoLFxyXG4gICAgICAgICAgICBlbnZOYW1lOiAnVGVzdGVyRW52JyxcclxuICAgICAgICAgICAgZXhwZWN0ZWRSZXN1bHQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgZXhwZWN0ZWRSYXdDbWQ6IGAke3BhdGguam9pbih3aW5kb3dzVGVzdFBhdGgsICdhY3RpdmF0ZScpfWAsXHJcbiAgICAgICAgICAgIHRlcm1pbmFsS2luZDogdHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZS5wb3dlcnNoZWxsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRlc3ROYW1lOiAnQWN0aXZhdGlvbiB1c2VzIGZ1bGwgcGF0aCB3aXRoIHNwYWNlcyBvbiB3aW5kb3dzIGZvciBwb3dlcnNoZWxsJyxcclxuICAgICAgICAgICAgYmFzZVBhdGg6IHdpbmRvd3NUZXN0UGF0aFNwYWNlcyxcclxuICAgICAgICAgICAgZW52TmFtZTogJ1Rlc3RlckVudicsXHJcbiAgICAgICAgICAgIGV4cGVjdGVkUmVzdWx0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGV4cGVjdGVkUmF3Q21kOiBgXCIke3BhdGguam9pbih3aW5kb3dzVGVzdFBhdGhTcGFjZXMsICdhY3RpdmF0ZScpfVwiYCxcclxuICAgICAgICAgICAgdGVybWluYWxLaW5kOiB0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLnBvd2Vyc2hlbGxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVzdE5hbWU6ICdBY3RpdmF0aW9uIHVzZXMgZnVsbCBwYXRoIG9uIHdpbmRvd3MgdW5kZXIgcG93ZXJzaGVsbCwgZW52aXJvbm1lbnQgbmFtZSBoYXMgc3BhY2VzJyxcclxuICAgICAgICAgICAgYmFzZVBhdGg6IHdpbmRvd3NUZXN0UGF0aCxcclxuICAgICAgICAgICAgZW52TmFtZTogJ1RoZSBUZXN0ZXIgRW52aXJvbm1lbnQnLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJlc3VsdDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJhd0NtZDogYCR7cGF0aC5qb2luKHdpbmRvd3NUZXN0UGF0aCwgJ2FjdGl2YXRlJyl9YCxcclxuICAgICAgICAgICAgdGVybWluYWxLaW5kOiB0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLnBvd2Vyc2hlbGxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVzdE5hbWU6ICdBY3RpdmF0aW9uIHVzZXMgZnVsbCBwYXRoIG9uIHdpbmRvd3MgZm9yIHBvd2Vyc2hlbGwtY29yZScsXHJcbiAgICAgICAgICAgIGJhc2VQYXRoOiB3aW5kb3dzVGVzdFBhdGgsXHJcbiAgICAgICAgICAgIGVudk5hbWU6ICdUZXN0ZXJFbnYnLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJlc3VsdDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJhd0NtZDogYCR7cGF0aC5qb2luKHdpbmRvd3NUZXN0UGF0aCwgJ2FjdGl2YXRlJyl9YCxcclxuICAgICAgICAgICAgdGVybWluYWxLaW5kOiB0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLnBvd2Vyc2hlbGxDb3JlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRlc3ROYW1lOiAnQWN0aXZhdGlvbiB1c2VzIGZ1bGwgcGF0aCB3aXRoIHNwYWNlcyBvbiB3aW5kb3dzIGZvciBwb3dlcnNoZWxsLWNvcmUnLFxyXG4gICAgICAgICAgICBiYXNlUGF0aDogd2luZG93c1Rlc3RQYXRoU3BhY2VzLFxyXG4gICAgICAgICAgICBlbnZOYW1lOiAnVGVzdGVyRW52JyxcclxuICAgICAgICAgICAgZXhwZWN0ZWRSZXN1bHQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgZXhwZWN0ZWRSYXdDbWQ6IGBcIiR7cGF0aC5qb2luKHdpbmRvd3NUZXN0UGF0aFNwYWNlcywgJ2FjdGl2YXRlJyl9XCJgLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbEtpbmQ6IHR5cGVzXzMuVGVybWluYWxTaGVsbFR5cGUucG93ZXJzaGVsbENvcmVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVzdE5hbWU6ICdBY3RpdmF0aW9uIHVzZXMgZnVsbCBwYXRoIG9uIHdpbmRvd3MgZm9yIHBvd2Vyc2hlbGwtY29yZSwgZW52aXJvbm1lbnQgbmFtZSBoYXMgc3BhY2VzJyxcclxuICAgICAgICAgICAgYmFzZVBhdGg6IHdpbmRvd3NUZXN0UGF0aCxcclxuICAgICAgICAgICAgZW52TmFtZTogJ1RoZSBUZXN0ZXIgRW52aXJvbm1lbnQnLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJlc3VsdDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJhd0NtZDogYCR7cGF0aC5qb2luKHdpbmRvd3NUZXN0UGF0aCwgJ2FjdGl2YXRlJyl9YCxcclxuICAgICAgICAgICAgdGVybWluYWxLaW5kOiB0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLnBvd2Vyc2hlbGxDb3JlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRlc3ROYW1lOiAnQWN0aXZhdGlvbiB1c2VzIGZ1bGwgcGF0aCBvbiB3aW5kb3dzIGZvciBjbWQuZXhlJyxcclxuICAgICAgICAgICAgYmFzZVBhdGg6IHdpbmRvd3NUZXN0UGF0aCxcclxuICAgICAgICAgICAgZW52TmFtZTogJ1Rlc3RlckVudicsXHJcbiAgICAgICAgICAgIGV4cGVjdGVkUmVzdWx0OiBbYCR7cGF0aC5qb2luKHdpbmRvd3NUZXN0UGF0aCwgJ2FjdGl2YXRlJyl9IFRlc3RlckVudmBdLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJhd0NtZDogYCR7cGF0aC5qb2luKHdpbmRvd3NUZXN0UGF0aCwgJ2FjdGl2YXRlJyl9YCxcclxuICAgICAgICAgICAgdGVybWluYWxLaW5kOiB0eXBlc18zLlRlcm1pbmFsU2hlbGxUeXBlLmNvbW1hbmRQcm9tcHRcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVzdE5hbWU6ICdBY3RpdmF0aW9uIHVzZXMgZnVsbCBwYXRoIHdpdGggc3BhY2VzIG9uIHdpbmRvd3MgZm9yIGNtZC5leGUnLFxyXG4gICAgICAgICAgICBiYXNlUGF0aDogd2luZG93c1Rlc3RQYXRoU3BhY2VzLFxyXG4gICAgICAgICAgICBlbnZOYW1lOiAnVGVzdGVyRW52JyxcclxuICAgICAgICAgICAgZXhwZWN0ZWRSZXN1bHQ6IFtgXCIke3BhdGguam9pbih3aW5kb3dzVGVzdFBhdGhTcGFjZXMsICdhY3RpdmF0ZScpfVwiIFRlc3RlckVudmBdLFxyXG4gICAgICAgICAgICBleHBlY3RlZFJhd0NtZDogYFwiJHtwYXRoLmpvaW4od2luZG93c1Rlc3RQYXRoU3BhY2VzLCAnYWN0aXZhdGUnKX1cImAsXHJcbiAgICAgICAgICAgIHRlcm1pbmFsS2luZDogdHlwZXNfMy5UZXJtaW5hbFNoZWxsVHlwZS5jb21tYW5kUHJvbXB0XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRlc3ROYW1lOiAnQWN0aXZhdGlvbiB1c2VzIGZ1bGwgcGF0aCBvbiB3aW5kb3dzIGZvciBjbWQuZXhlLCBlbnZpcm9ubWVudCBuYW1lIGhhcyBzcGFjZXMnLFxyXG4gICAgICAgICAgICBiYXNlUGF0aDogd2luZG93c1Rlc3RQYXRoLFxyXG4gICAgICAgICAgICBlbnZOYW1lOiAnVGhlIFRlc3RlciBFbnZpcm9ubWVudCcsXHJcbiAgICAgICAgICAgIGV4cGVjdGVkUmVzdWx0OiBbYCR7cGF0aC5qb2luKHdpbmRvd3NUZXN0UGF0aCwgJ2FjdGl2YXRlJyl9IFwiVGhlIFRlc3RlciBFbnZpcm9ubWVudFwiYF0sXHJcbiAgICAgICAgICAgIGV4cGVjdGVkUmF3Q21kOiBgJHtwYXRoLmpvaW4od2luZG93c1Rlc3RQYXRoLCAnYWN0aXZhdGUnKX1gLFxyXG4gICAgICAgICAgICB0ZXJtaW5hbEtpbmQ6IHR5cGVzXzMuVGVybWluYWxTaGVsbFR5cGUuY29tbWFuZFByb21wdFxyXG4gICAgICAgIH1cclxuICAgIF07XHJcbiAgICB0ZXN0c0ZvcldpbmRvd3NBY3RpdmF0aW9uLmZvckVhY2goKHRlc3RQYXJhbXMpID0+IHtcclxuICAgICAgICB0ZXN0KHRlc3RQYXJhbXMudGVzdE5hbWUsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgLy8gZWFjaCB0ZXN0IHNpbXBseSB0ZXN0cyB0aGUgYmFzZSB3aW5kb3dzIGFjdGl2YXRlIGNvbW1hbmQsXHJcbiAgICAgICAgICAgIC8vIGFuZCB0aGVuIHRoZSBzcGVjaWZpYyByZXN1bHQgZnJvbSB0aGUgdGVybWluYWwgc2VsZWN0ZWQuXHJcbiAgICAgICAgICAgIGNvbnN0IHNlcnZDbnQgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmRhU3J2ID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICBjb25kYVNydi5zZXR1cChjID0+IGMuZ2V0Q29uZGFGaWxlKCkpXHJcbiAgICAgICAgICAgICAgICAucmV0dXJucygoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5qb2luKHRlc3RQYXJhbXMuYmFzZVBhdGgsICdjb25kYS5leGUnKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBzZXJ2Q250LnNldHVwKHMgPT4gcy5nZXQoVHlwZU1vcS5JdC5pc1ZhbHVlKGNvbnRyYWN0c18xLklDb25kYVNlcnZpY2UpLCBUeXBlTW9xLkl0LmlzQW55KCkpKVxyXG4gICAgICAgICAgICAgICAgLnJldHVybnMoKCkgPT4gY29uZGFTcnYub2JqZWN0KTtcclxuICAgICAgICAgICAgY29uc3QgdHN0Q21kUHJvdmlkZXIgPSBuZXcgY29uZGFBY3RpdmF0aW9uUHJvdmlkZXJfMS5Db25kYUFjdGl2YXRpb25Db21tYW5kUHJvdmlkZXIoc2VydkNudC5vYmplY3QpO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAodGVzdFBhcmFtcy50ZXJtaW5hbEtpbmQgPT09IHR5cGVzXzMuVGVybWluYWxTaGVsbFR5cGUuY29tbWFuZFByb21wdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0geWllbGQgdHN0Q21kUHJvdmlkZXIuZ2V0V2luZG93c0NvbW1hbmRzKHRlc3RQYXJhbXMuZW52TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB5aWVsZCB0c3RDbWRQcm92aWRlci5nZXRQb3dlcnNoZWxsQ29tbWFuZHModGVzdFBhcmFtcy5lbnZOYW1lLCB0ZXN0UGFyYW1zLnRlcm1pbmFsS2luZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChyZXN1bHQpLnRvLmRlZXAuZXF1YWwodGVzdFBhcmFtcy5leHBlY3RlZFJlc3VsdCwgJ1NwZWNpZmljIHRlcm1pbmFsIGNvbW1hbmQgaXMgaW5jb3JyZWN0LicpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH0pO1xyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWN0aXZhdGlvbi5jb25kYS51bml0LnRlc3QuanMubWFwIl19