"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

const chai_1 = require("chai");

require("../../client/common/extensions"); // Defines a Mocha test suite to group tests of similar kind together


suite('String Extensions', () => {
  test('Should return empty string for empty arg', () => {
    const argTotest = '';
    chai_1.expect(argTotest.toCommandArgument()).to.be.equal('');
  });
  test('Should quote an empty space', () => {
    const argTotest = ' ';
    chai_1.expect(argTotest.toCommandArgument()).to.be.equal('" "');
  });
  test('Should not quote command arguments without spaces', () => {
    const argTotest = 'one.two.three';
    chai_1.expect(argTotest.toCommandArgument()).to.be.equal(argTotest);
  });
  test('Should quote command arguments with spaces', () => {
    const argTotest = 'one two three';
    chai_1.expect(argTotest.toCommandArgument()).to.be.equal(`"${argTotest}"`);
  });
  test('Should return empty string for empty path', () => {
    const fileToTest = '';
    chai_1.expect(fileToTest.fileToCommandArgument()).to.be.equal('');
  });
  test('Should not quote file argument without spaces', () => {
    const fileToTest = 'users/test/one';
    chai_1.expect(fileToTest.fileToCommandArgument()).to.be.equal(fileToTest);
  });
  test('Should quote file argument with spaces', () => {
    const fileToTest = 'one two three';
    chai_1.expect(fileToTest.fileToCommandArgument()).to.be.equal(`"${fileToTest}"`);
  });
  test('Should replace all back slashes with forward slashes (irrespective of OS)', () => {
    const fileToTest = 'c:\\users\\user\\conda\\scripts\\python.exe';
    chai_1.expect(fileToTest.fileToCommandArgument()).to.be.equal(fileToTest.replace(/\\/g, '/'));
  });
  test('Should replace all back slashes with forward slashes (irrespective of OS) and quoted when file has spaces', () => {
    const fileToTest = 'c:\\users\\user namne\\conda path\\scripts\\python.exe';
    chai_1.expect(fileToTest.fileToCommandArgument()).to.be.equal(`"${fileToTest.replace(/\\/g, '/')}"`);
  });
  test('Should replace all back slashes with forward slashes (irrespective of OS) and quoted when file has spaces', () => {
    const fileToTest = 'c:\\users\\user namne\\conda path\\scripts\\python.exe';
    chai_1.expect(fileToTest.fileToCommandArgument()).to.be.equal(`"${fileToTest.replace(/\\/g, '/')}"`);
  });
  test('Should leave string unchanged', () => {
    chai_1.expect('something {0}'.format()).to.be.equal('something {0}');
  });
  test('String should be formatted to contain first argument', () => {
    const formatString = 'something {0}';
    const expectedString = 'something one';
    chai_1.expect(formatString.format('one')).to.be.equal(expectedString);
  });
  test('String should be formatted to contain first argument even with too many args', () => {
    const formatString = 'something {0}';
    const expectedString = 'something one';
    chai_1.expect(formatString.format('one', 'two')).to.be.equal(expectedString);
  });
  test('String should be formatted to contain second argument', () => {
    const formatString = 'something {1}';
    const expectedString = 'something two';
    chai_1.expect(formatString.format('one', 'two')).to.be.equal(expectedString);
  });
  test('String should be formatted to contain second argument even with too many args', () => {
    const formatString = 'something {1}';
    const expectedString = 'something two';
    chai_1.expect(formatString.format('one', 'two', 'three')).to.be.equal(expectedString);
  });
  test('String should be formatted with multiple args', () => {
    const formatString = 'something {1}, {0}';
    const expectedString = 'something two, one';
    chai_1.expect(formatString.format('one', 'two', 'three')).to.be.equal(expectedString);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVuc2lvbnMudW5pdC50ZXN0LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY2hhaV8xIiwicmVxdWlyZSIsInN1aXRlIiwidGVzdCIsImFyZ1RvdGVzdCIsImV4cGVjdCIsInRvQ29tbWFuZEFyZ3VtZW50IiwidG8iLCJiZSIsImVxdWFsIiwiZmlsZVRvVGVzdCIsImZpbGVUb0NvbW1hbmRBcmd1bWVudCIsInJlcGxhY2UiLCJmb3JtYXQiLCJmb3JtYXRTdHJpbmciLCJleHBlY3RlZFN0cmluZyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUF0Qjs7QUFDQUEsT0FBTyxDQUFDLGdDQUFELENBQVAsQyxDQUNBOzs7QUFDQUMsS0FBSyxDQUFDLG1CQUFELEVBQXNCLE1BQU07QUFDN0JDLEVBQUFBLElBQUksQ0FBQywwQ0FBRCxFQUE2QyxNQUFNO0FBQ25ELFVBQU1DLFNBQVMsR0FBRyxFQUFsQjtBQUNBSixJQUFBQSxNQUFNLENBQUNLLE1BQVAsQ0FBY0QsU0FBUyxDQUFDRSxpQkFBVixFQUFkLEVBQTZDQyxFQUE3QyxDQUFnREMsRUFBaEQsQ0FBbURDLEtBQW5ELENBQXlELEVBQXpEO0FBQ0gsR0FIRyxDQUFKO0FBSUFOLEVBQUFBLElBQUksQ0FBQyw2QkFBRCxFQUFnQyxNQUFNO0FBQ3RDLFVBQU1DLFNBQVMsR0FBRyxHQUFsQjtBQUNBSixJQUFBQSxNQUFNLENBQUNLLE1BQVAsQ0FBY0QsU0FBUyxDQUFDRSxpQkFBVixFQUFkLEVBQTZDQyxFQUE3QyxDQUFnREMsRUFBaEQsQ0FBbURDLEtBQW5ELENBQXlELEtBQXpEO0FBQ0gsR0FIRyxDQUFKO0FBSUFOLEVBQUFBLElBQUks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QixFQUFrQyxPQUFsQyxDQUFkLEVBQTBETixFQUExRCxDQUE2REMsRUFBN0QsQ0FBZ0VDLEtBQWhFLENBQXNFTSxjQUF0RTtBQUNILEdBSkcsQ0FBSjtBQUtBWixFQUFBQSxJQUFJLENBQUMsK0NBQUQsRUFBa0QsTUFBTTtBQUN4RCxVQUFNVyxZQUFZLEdBQUcsb0JBQXJCO0FBQ0EsVUFBTUMsY0FBYyxHQUFHLG9CQUF2QjtBQUNBZixJQUFBQSxNQUFNLENBQUNLLE1BQVAsQ0FBY1MsWUFBWSxDQUFDRCxNQUFiLENBQW9CLEtBQXBCLEVBQTJCLEtBQTNCLEVBQWtDLE9BQWxDLENBQWQsRUFBMEROLEVBQTFELENBQTZEQyxFQUE3RCxDQUFnRUMsS0FBaEUsQ0FBc0VNLGNBQXRFO0FBQ0gsR0FKRyxDQUFKO0FBS0gsQ0FyRUksQ0FBTCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNoYWlfMSA9IHJlcXVpcmUoXCJjaGFpXCIpO1xyXG5yZXF1aXJlKFwiLi4vLi4vY2xpZW50L2NvbW1vbi9leHRlbnNpb25zXCIpO1xyXG4vLyBEZWZpbmVzIGEgTW9jaGEgdGVzdCBzdWl0ZSB0byBncm91cCB0ZXN0cyBvZiBzaW1pbGFyIGtpbmQgdG9nZXRoZXJcclxuc3VpdGUoJ1N0cmluZyBFeHRlbnNpb25zJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnU2hvdWxkIHJldHVybiBlbXB0eSBzdHJpbmcgZm9yIGVtcHR5IGFyZycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBhcmdUb3Rlc3QgPSAnJztcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGFyZ1RvdGVzdC50b0NvbW1hbmRBcmd1bWVudCgpKS50by5iZS5lcXVhbCgnJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ1Nob3VsZCBxdW90ZSBhbiBlbXB0eSBzcGFjZScsICgpID0+IHtcclxuICAgICAgICBjb25zdCBhcmdUb3Rlc3QgPSAnICc7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChhcmdUb3Rlc3QudG9Db21tYW5kQXJndW1lbnQoKSkudG8uYmUuZXF1YWwoJ1wiIFwiJyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ1Nob3VsZCBub3QgcXVvdGUgY29tbWFuZCBhcmd1bWVudHMgd2l0aG91dCBzcGFjZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYXJnVG90ZXN0ID0gJ29uZS50d28udGhyZWUnO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoYXJnVG90ZXN0LnRvQ29tbWFuZEFyZ3VtZW50KCkpLnRvLmJlLmVxdWFsKGFyZ1RvdGVzdCk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ1Nob3VsZCBxdW90ZSBjb21tYW5kIGFyZ3VtZW50cyB3aXRoIHNwYWNlcycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBhcmdUb3Rlc3QgPSAnb25lIHR3byB0aHJlZSc7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChhcmdUb3Rlc3QudG9Db21tYW5kQXJndW1lbnQoKSkudG8uYmUuZXF1YWwoYFwiJHthcmdUb3Rlc3R9XCJgKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnU2hvdWxkIHJldHVybiBlbXB0eSBzdHJpbmcgZm9yIGVtcHR5IHBhdGgnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZVRvVGVzdCA9ICcnO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZmlsZVRvVGVzdC5maWxlVG9Db21tYW5kQXJndW1lbnQoKSkudG8uYmUuZXF1YWwoJycpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdTaG91bGQgbm90IHF1b3RlIGZpbGUgYXJndW1lbnQgd2l0aG91dCBzcGFjZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZVRvVGVzdCA9ICd1c2Vycy90ZXN0L29uZSc7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChmaWxlVG9UZXN0LmZpbGVUb0NvbW1hbmRBcmd1bWVudCgpKS50by5iZS5lcXVhbChmaWxlVG9UZXN0KTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnU2hvdWxkIHF1b3RlIGZpbGUgYXJndW1lbnQgd2l0aCBzcGFjZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZVRvVGVzdCA9ICdvbmUgdHdvIHRocmVlJztcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGZpbGVUb1Rlc3QuZmlsZVRvQ29tbWFuZEFyZ3VtZW50KCkpLnRvLmJlLmVxdWFsKGBcIiR7ZmlsZVRvVGVzdH1cImApO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdTaG91bGQgcmVwbGFjZSBhbGwgYmFjayBzbGFzaGVzIHdpdGggZm9yd2FyZCBzbGFzaGVzIChpcnJlc3BlY3RpdmUgb2YgT1MpJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVUb1Rlc3QgPSAnYzpcXFxcdXNlcnNcXFxcdXNlclxcXFxjb25kYVxcXFxzY3JpcHRzXFxcXHB5dGhvbi5leGUnO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZmlsZVRvVGVzdC5maWxlVG9Db21tYW5kQXJndW1lbnQoKSkudG8uYmUuZXF1YWwoZmlsZVRvVGVzdC5yZXBsYWNlKC9cXFxcL2csICcvJykpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdTaG91bGQgcmVwbGFjZSBhbGwgYmFjayBzbGFzaGVzIHdpdGggZm9yd2FyZCBzbGFzaGVzIChpcnJlc3BlY3RpdmUgb2YgT1MpIGFuZCBxdW90ZWQgd2hlbiBmaWxlIGhhcyBzcGFjZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZVRvVGVzdCA9ICdjOlxcXFx1c2Vyc1xcXFx1c2VyIG5hbW5lXFxcXGNvbmRhIHBhdGhcXFxcc2NyaXB0c1xcXFxweXRob24uZXhlJztcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGZpbGVUb1Rlc3QuZmlsZVRvQ29tbWFuZEFyZ3VtZW50KCkpLnRvLmJlLmVxdWFsKGBcIiR7ZmlsZVRvVGVzdC5yZXBsYWNlKC9cXFxcL2csICcvJyl9XCJgKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnU2hvdWxkIHJlcGxhY2UgYWxsIGJhY2sgc2xhc2hlcyB3aXRoIGZvcndhcmQgc2xhc2hlcyAoaXJyZXNwZWN0aXZlIG9mIE9TKSBhbmQgcXVvdGVkIHdoZW4gZmlsZSBoYXMgc3BhY2VzJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVUb1Rlc3QgPSAnYzpcXFxcdXNlcnNcXFxcdXNlciBuYW1uZVxcXFxjb25kYSBwYXRoXFxcXHNjcmlwdHNcXFxccHl0aG9uLmV4ZSc7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChmaWxlVG9UZXN0LmZpbGVUb0NvbW1hbmRBcmd1bWVudCgpKS50by5iZS5lcXVhbChgXCIke2ZpbGVUb1Rlc3QucmVwbGFjZSgvXFxcXC9nLCAnLycpfVwiYCk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ1Nob3VsZCBsZWF2ZSBzdHJpbmcgdW5jaGFuZ2VkJywgKCkgPT4ge1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoJ3NvbWV0aGluZyB7MH0nLmZvcm1hdCgpKS50by5iZS5lcXVhbCgnc29tZXRoaW5nIHswfScpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdTdHJpbmcgc2hvdWxkIGJlIGZvcm1hdHRlZCB0byBjb250YWluIGZpcnN0IGFyZ3VtZW50JywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdFN0cmluZyA9ICdzb21ldGhpbmcgezB9JztcclxuICAgICAgICBjb25zdCBleHBlY3RlZFN0cmluZyA9ICdzb21ldGhpbmcgb25lJztcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGZvcm1hdFN0cmluZy5mb3JtYXQoJ29uZScpKS50by5iZS5lcXVhbChleHBlY3RlZFN0cmluZyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ1N0cmluZyBzaG91bGQgYmUgZm9ybWF0dGVkIHRvIGNvbnRhaW4gZmlyc3QgYXJndW1lbnQgZXZlbiB3aXRoIHRvbyBtYW55IGFyZ3MnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0U3RyaW5nID0gJ3NvbWV0aGluZyB7MH0nO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkU3RyaW5nID0gJ3NvbWV0aGluZyBvbmUnO1xyXG4gICAgICAgIGNoYWlfMS5leHBlY3QoZm9ybWF0U3RyaW5nLmZvcm1hdCgnb25lJywgJ3R3bycpKS50by5iZS5lcXVhbChleHBlY3RlZFN0cmluZyk7XHJcbiAgICB9KTtcclxuICAgIHRlc3QoJ1N0cmluZyBzaG91bGQgYmUgZm9ybWF0dGVkIHRvIGNvbnRhaW4gc2Vjb25kIGFyZ3VtZW50JywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdFN0cmluZyA9ICdzb21ldGhpbmcgezF9JztcclxuICAgICAgICBjb25zdCBleHBlY3RlZFN0cmluZyA9ICdzb21ldGhpbmcgdHdvJztcclxuICAgICAgICBjaGFpXzEuZXhwZWN0KGZvcm1hdFN0cmluZy5mb3JtYXQoJ29uZScsICd0d28nKSkudG8uYmUuZXF1YWwoZXhwZWN0ZWRTdHJpbmcpO1xyXG4gICAgfSk7XHJcbiAgICB0ZXN0KCdTdHJpbmcgc2hvdWxkIGJlIGZvcm1hdHRlZCB0byBjb250YWluIHNlY29uZCBhcmd1bWVudCBldmVuIHdpdGggdG9vIG1hbnkgYXJncycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBmb3JtYXRTdHJpbmcgPSAnc29tZXRoaW5nIHsxfSc7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRTdHJpbmcgPSAnc29tZXRoaW5nIHR3byc7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChmb3JtYXRTdHJpbmcuZm9ybWF0KCdvbmUnLCAndHdvJywgJ3RocmVlJykpLnRvLmJlLmVxdWFsKGV4cGVjdGVkU3RyaW5nKTtcclxuICAgIH0pO1xyXG4gICAgdGVzdCgnU3RyaW5nIHNob3VsZCBiZSBmb3JtYXR0ZWQgd2l0aCBtdWx0aXBsZSBhcmdzJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdFN0cmluZyA9ICdzb21ldGhpbmcgezF9LCB7MH0nO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkU3RyaW5nID0gJ3NvbWV0aGluZyB0d28sIG9uZSc7XHJcbiAgICAgICAgY2hhaV8xLmV4cGVjdChmb3JtYXRTdHJpbmcuZm9ybWF0KCdvbmUnLCAndHdvJywgJ3RocmVlJykpLnRvLmJlLmVxdWFsKGV4cGVjdGVkU3RyaW5nKTtcclxuICAgIH0pO1xyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0ZW5zaW9ucy51bml0LnRlc3QuanMubWFwIl19