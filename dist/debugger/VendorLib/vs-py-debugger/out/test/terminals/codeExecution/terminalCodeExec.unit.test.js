"use strict"; // Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : new P(function (resolve) {
        resolve(result.value);
      }).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

Object.defineProperty(exports, "__esModule", {
  value: true
}); // tslint:disable:no-multiline-string no-trailing-whitespace max-func-body-length

const chai_1 = require("chai");

const path = require("path");

const TypeMoq = require("typemoq");

const vscode_1 = require("vscode");

const misc_1 = require("../../../client/common/utils/misc");

const djangoShellCodeExecution_1 = require("../../../client/terminals/codeExecution/djangoShellCodeExecution");

const repl_1 = require("../../../client/terminals/codeExecution/repl");

const terminalCodeExecution_1 = require("../../../client/terminals/codeExecution/terminalCodeExecution");

const common_1 = require("../../common");

suite('Terminal - Code Execution', () => {
  ['Terminal Execution', 'Repl Execution', 'Django Execution'].forEach(testSuiteName => {
    let terminalSettings;
    let terminalService;
    let workspace;
    let platform;
    let workspaceFolder;
    let settings;
    let disposables = [];
    let executor;
    let expectedTerminalTitle;
    let terminalFactory;
    let documentManager;
    let commandManager;
    let fileSystem;
    let isDjangoRepl;
    teardown(() => {
      disposables.forEach(disposable => {
        if (disposable) {
          disposable.dispose();
        }
      });
      disposables = [];
    });
    setup(() => {
      terminalFactory = TypeMoq.Mock.ofType();
      terminalSettings = TypeMoq.Mock.ofType();
      terminalService = TypeMoq.Mock.ofType();
      const configService = TypeMoq.Mock.ofType();
      workspace = TypeMoq.Mock.ofType();
      platform = TypeMoq.Mock.ofType();
      workspaceFolder = TypeMoq.Mock.ofType();
      documentManager = TypeMoq.Mock.ofType();
      commandManager = TypeMoq.Mock.ofType();
      fileSystem = TypeMoq.Mock.ofType();
      settings = TypeMoq.Mock.ofType();
      settings.setup(s => s.terminal).returns(() => terminalSettings.object);
      configService.setup(c => c.getSettings(TypeMoq.It.isAny())).returns(() => settings.object);

      switch (testSuiteName) {
        case 'Terminal Execution':
          {
            executor = new terminalCodeExecution_1.TerminalCodeExecutionProvider(terminalFactory.object, configService.object, workspace.object, disposables, platform.object);
            break;
          }

        case 'Repl Execution':
          {
            executor = new repl_1.ReplProvider(terminalFactory.object, configService.object, workspace.object, disposables, platform.object);
            expectedTerminalTitle = 'REPL';
            break;
          }

        case 'Django Execution':
          {
            isDjangoRepl = true;
            workspace.setup(w => w.onDidChangeWorkspaceFolders(TypeMoq.It.isAny(), TypeMoq.It.isAny(), TypeMoq.It.isAny())).returns(() => {
              return {
                dispose: misc_1.noop
              };
            });
            executor = new djangoShellCodeExecution_1.DjangoShellCodeExecutionProvider(terminalFactory.object, configService.object, workspace.object, documentManager.object, platform.object, commandManager.object, fileSystem.object, disposables);
            expectedTerminalTitle = 'Django Shell';
            break;
          }

        default:
          {
            break;
          }
      }
    });
    suite(`${testSuiteName} (validation of title)`, () => {
      setup(() => {
        terminalFactory.setup(f => f.getTerminalService(TypeMoq.It.isAny(), TypeMoq.It.isValue(expectedTerminalTitle))).returns(() => terminalService.object);
      });

      function ensureTerminalIsCreatedUponInvokingInitializeRepl(isWindows, isOsx, isLinux) {
        return __awaiter(this, void 0, void 0, function* () {
          platform.setup(p => p.isWindows).returns(() => isWindows);
          platform.setup(p => p.isMac).returns(() => isOsx);
          platform.setup(p => p.isLinux).returns(() => isLinux);
          settings.setup(s => s.pythonPath).returns(() => common_1.PYTHON_PATH);
          terminalSettings.setup(t => t.launchArgs).returns(() => []);
          yield executor.initializeRepl();
        });
      }

      test('Ensure terminal is created upon invoking initializeRepl (windows)', () => __awaiter(void 0, void 0, void 0, function* () {
        yield ensureTerminalIsCreatedUponInvokingInitializeRepl(true, false, false);
      }));
      test('Ensure terminal is created upon invoking initializeRepl (osx)', () => __awaiter(void 0, void 0, void 0, function* () {
        yield ensureTerminalIsCreatedUponInvokingInitializeRepl(false, true, false);
      }));
      test('Ensure terminal is created upon invoking initializeRepl (linux)', () => __awaiter(void 0, void 0, void 0, function* () {
        yield ensureTerminalIsCreatedUponInvokingInitializeRepl(false, false, true);
      }));
    });
    suite(testSuiteName, function () {
      return __awaiter(this, void 0, void 0, function* () {
        // tslint:disable-next-line:no-invalid-this
        this.timeout(5000); // Activation of terminals take some time (there's a delay in the code to account for VSC Terminal issues).

        setup(() => {
          terminalFactory.setup(f => f.getTerminalService(TypeMoq.It.isAny(), TypeMoq.It.isAny())).returns(() => terminalService.object);
        });

        function ensureWeSetCurrentDirectoryBeforeExecutingAFile(isWindows) {
          return __awaiter(this, void 0, void 0, function* () {
            const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file', 'one.py'));
            terminalSettings.setup(t => t.executeInFileDir).returns(() => true);
            workspace.setup(w => w.getWorkspaceFolder(TypeMoq.It.isAny())).returns(() => workspaceFolder.object);
            workspaceFolder.setup(w => w.uri).returns(() => vscode_1.Uri.file(path.join('c', 'path', 'to')));
            platform.setup(p => p.isWindows).returns(() => false);
            settings.setup(s => s.pythonPath).returns(() => common_1.PYTHON_PATH);
            terminalSettings.setup(t => t.launchArgs).returns(() => []);
            yield executor.executeFile(file);
            terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
              return t.sendText(TypeMoq.It.isValue(`cd ${path.dirname(file.fsPath).fileToCommandArgument()}`));
            }), TypeMoq.Times.once());
          });
        }

        test('Ensure we set current directory before executing file (non windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeSetCurrentDirectoryBeforeExecutingAFile(false);
        }));
        test('Ensure we set current directory before executing file (windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeSetCurrentDirectoryBeforeExecutingAFile(true);
        }));

        function ensureWeWetCurrentDirectoryAndQuoteBeforeExecutingFile(isWindows) {
          return __awaiter(this, void 0, void 0, function* () {
            const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file with spaces in path', 'one.py'));
            terminalSettings.setup(t => t.executeInFileDir).returns(() => true);
            workspace.setup(w => w.getWorkspaceFolder(TypeMoq.It.isAny())).returns(() => workspaceFolder.object);
            workspaceFolder.setup(w => w.uri).returns(() => vscode_1.Uri.file(path.join('c', 'path', 'to')));
            platform.setup(p => p.isWindows).returns(() => isWindows);
            settings.setup(s => s.pythonPath).returns(() => common_1.PYTHON_PATH);
            terminalSettings.setup(t => t.launchArgs).returns(() => []);
            yield executor.executeFile(file);
            const dir = path.dirname(file.fsPath).fileToCommandArgument();
            terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
              return t.sendText(TypeMoq.It.isValue(`cd ${dir}`));
            }), TypeMoq.Times.once());
          });
        }

        test('Ensure we set current directory (and quote it when containing spaces) before executing file (non windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeWetCurrentDirectoryAndQuoteBeforeExecutingFile(false);
        }));
        test('Ensure we set current directory (and quote it when containing spaces) before executing file (windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeWetCurrentDirectoryAndQuoteBeforeExecutingFile(true);
        }));

        function ensureWeDoNotSetCurrentDirectoryBeforeExecutingFileInSameDirectory(isWindows) {
          return __awaiter(this, void 0, void 0, function* () {
            const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file with spaces in path', 'one.py'));
            terminalSettings.setup(t => t.executeInFileDir).returns(() => true);
            workspace.setup(w => w.getWorkspaceFolder(TypeMoq.It.isAny())).returns(() => workspaceFolder.object);
            workspaceFolder.setup(w => w.uri).returns(() => vscode_1.Uri.file(path.join('c', 'path', 'to', 'file with spaces in path')));
            platform.setup(p => p.isWindows).returns(() => isWindows);
            settings.setup(s => s.pythonPath).returns(() => common_1.PYTHON_PATH);
            terminalSettings.setup(t => t.launchArgs).returns(() => []);
            yield executor.executeFile(file);
            terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
              return t.sendText(TypeMoq.It.isAny());
            }), TypeMoq.Times.never());
          });
        }

        test('Ensure we do not set current directory before executing file if in the same directory (non windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeDoNotSetCurrentDirectoryBeforeExecutingFileInSameDirectory(false);
        }));
        test('Ensure we do not set current directory before executing file if in the same directory (windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeDoNotSetCurrentDirectoryBeforeExecutingFileInSameDirectory(true);
        }));

        function ensureWeDoNotSetCurrentDirectoryBeforeExecutingFileNotInSameDirectory(isWindows) {
          return __awaiter(this, void 0, void 0, function* () {
            const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file with spaces in path', 'one.py'));
            terminalSettings.setup(t => t.executeInFileDir).returns(() => true);
            workspace.setup(w => w.getWorkspaceFolder(TypeMoq.It.isAny())).returns(() => undefined);
            platform.setup(p => p.isWindows).returns(() => isWindows);
            settings.setup(s => s.pythonPath).returns(() => common_1.PYTHON_PATH);
            terminalSettings.setup(t => t.launchArgs).returns(() => []);
            yield executor.executeFile(file);
            terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
              return t.sendText(TypeMoq.It.isAny());
            }), TypeMoq.Times.never());
          });
        }

        test('Ensure we do not set current directory before executing file if file is not in a workspace (non windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeDoNotSetCurrentDirectoryBeforeExecutingFileNotInSameDirectory(false);
        }));
        test('Ensure we do not set current directory before executing file if file is not in a workspace (windows)', () => __awaiter(this, void 0, void 0, function* () {
          yield ensureWeDoNotSetCurrentDirectoryBeforeExecutingFileNotInSameDirectory(true);
        }));

        function testFileExecution(isWindows, pythonPath, terminalArgs, file) {
          return __awaiter(this, void 0, void 0, function* () {
            platform.setup(p => p.isWindows).returns(() => isWindows);
            settings.setup(s => s.pythonPath).returns(() => pythonPath);
            terminalSettings.setup(t => t.launchArgs).returns(() => terminalArgs);
            terminalSettings.setup(t => t.executeInFileDir).returns(() => false);
            workspace.setup(w => w.getWorkspaceFolder(TypeMoq.It.isAny())).returns(() => undefined);
            yield executor.executeFile(file);
            const expectedPythonPath = isWindows ? pythonPath.replace(/\\/g, '/') : pythonPath;
            const expectedArgs = terminalArgs.concat(file.fsPath.fileToCommandArgument());
            terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
              return t.sendCommand(TypeMoq.It.isValue(expectedPythonPath), TypeMoq.It.isValue(expectedArgs));
            }), TypeMoq.Times.once());
          });
        }

        test('Ensure python file execution script is sent to terminal on windows', () => __awaiter(this, void 0, void 0, function* () {
          const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file with spaces in path', 'one.py'));
          yield testFileExecution(true, common_1.PYTHON_PATH, [], file);
        }));
        test('Ensure python file execution script is sent to terminal on windows with fully qualified python path', () => __awaiter(this, void 0, void 0, function* () {
          const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file with spaces in path', 'one.py'));
          yield testFileExecution(true, 'c:\\program files\\python', [], file);
        }));
        test('Ensure python file execution script is not quoted when no spaces in file path', () => __awaiter(this, void 0, void 0, function* () {
          const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file', 'one.py'));
          yield testFileExecution(true, common_1.PYTHON_PATH, [], file);
        }));
        test('Ensure python file execution script supports custom python arguments', () => __awaiter(this, void 0, void 0, function* () {
          const file = vscode_1.Uri.file(path.join('c', 'path', 'to', 'file', 'one.py'));
          yield testFileExecution(false, common_1.PYTHON_PATH, ['-a', '-b', '-c'], file);
        }));

        function testReplCommandArguments(isWindows, pythonPath, expectedPythonPath, terminalArgs) {
          platform.setup(p => p.isWindows).returns(() => isWindows);
          settings.setup(s => s.pythonPath).returns(() => pythonPath);
          terminalSettings.setup(t => t.launchArgs).returns(() => terminalArgs);
          const expectedTerminalArgs = isDjangoRepl ? terminalArgs.concat(['manage.py', 'shell']) : terminalArgs;
          const replCommandArgs = executor.getReplCommandArgs();
          chai_1.expect(replCommandArgs).not.to.be.an('undefined', 'Command args is undefined');
          chai_1.expect(replCommandArgs.command).to.be.equal(expectedPythonPath, 'Incorrect python path');
          chai_1.expect(replCommandArgs.args).to.be.deep.equal(expectedTerminalArgs, 'Incorrect arguments');
        }

        test('Ensure fully qualified python path is escaped when building repl args on Windows', () => {
          const pythonPath = 'c:\\program files\\python\\python.exe';
          const terminalArgs = ['-a', 'b', 'c'];
          testReplCommandArguments(true, pythonPath, 'c:/program files/python/python.exe', terminalArgs);
        });
        test('Ensure fully qualified python path is returned as is, when building repl args on Windows', () => {
          const pythonPath = 'c:/program files/python/python.exe';
          const terminalArgs = ['-a', 'b', 'c'];
          testReplCommandArguments(true, pythonPath, pythonPath, terminalArgs);
        });
        test('Ensure python path is returned as is, when building repl args on Windows', () => {
          const pythonPath = common_1.PYTHON_PATH;
          const terminalArgs = ['-a', 'b', 'c'];
          testReplCommandArguments(true, pythonPath, pythonPath, terminalArgs);
        });
        test('Ensure fully qualified python path is returned as is, on non Windows', () => {
          const pythonPath = 'usr/bin/python';
          const terminalArgs = ['-a', 'b', 'c'];
          testReplCommandArguments(false, pythonPath, pythonPath, terminalArgs);
        });
        test('Ensure python path is returned as is, on non Windows', () => {
          const pythonPath = common_1.PYTHON_PATH;
          const terminalArgs = ['-a', 'b', 'c'];
          testReplCommandArguments(false, pythonPath, pythonPath, terminalArgs);
        });
        test('Ensure nothing happens when blank text is sent to the terminal', () => __awaiter(this, void 0, void 0, function* () {
          yield executor.execute('');
          yield executor.execute('   '); // tslint:disable-next-line:no-any

          yield executor.execute(undefined);
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendCommand(TypeMoq.It.isAny(), TypeMoq.It.isAny());
          }), TypeMoq.Times.never());
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendText(TypeMoq.It.isAny());
          }), TypeMoq.Times.never());
        }));
        test('Ensure repl is initialized once before sending text to the repl', () => __awaiter(this, void 0, void 0, function* () {
          const pythonPath = 'usr/bin/python1234';
          const terminalArgs = ['-a', 'b', 'c'];
          platform.setup(p => p.isWindows).returns(() => false);
          settings.setup(s => s.pythonPath).returns(() => pythonPath);
          terminalSettings.setup(t => t.launchArgs).returns(() => terminalArgs);
          yield executor.execute('cmd1');
          yield executor.execute('cmd2');
          yield executor.execute('cmd3');
          const expectedTerminalArgs = isDjangoRepl ? terminalArgs.concat(['manage.py', 'shell']) : terminalArgs;
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendCommand(TypeMoq.It.isValue(pythonPath), TypeMoq.It.isValue(expectedTerminalArgs));
          }), TypeMoq.Times.once());
        }));
        test('Ensure repl is re-initialized when terminal is closed', () => __awaiter(this, void 0, void 0, function* () {
          const pythonPath = 'usr/bin/python1234';
          const terminalArgs = ['-a', 'b', 'c'];
          platform.setup(p => p.isWindows).returns(() => false);
          settings.setup(s => s.pythonPath).returns(() => pythonPath);
          terminalSettings.setup(t => t.launchArgs).returns(() => terminalArgs);
          let closeTerminalCallback;
          terminalService.setup(t => t.onDidCloseTerminal(TypeMoq.It.isAny(), TypeMoq.It.isAny(), TypeMoq.It.isAny())).returns(callback => {
            closeTerminalCallback = callback;
            return {
              dispose: misc_1.noop
            };
          });
          yield executor.execute('cmd1');
          yield executor.execute('cmd2');
          yield executor.execute('cmd3');
          const expectedTerminalArgs = isDjangoRepl ? terminalArgs.concat(['manage.py', 'shell']) : terminalArgs;
          chai_1.expect(closeTerminalCallback).not.to.be.an('undefined', 'Callback not initialized');
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendCommand(TypeMoq.It.isValue(pythonPath), TypeMoq.It.isValue(expectedTerminalArgs));
          }), TypeMoq.Times.once());
          closeTerminalCallback.call(terminalService.object);
          yield executor.execute('cmd4');
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendCommand(TypeMoq.It.isValue(pythonPath), TypeMoq.It.isValue(expectedTerminalArgs));
          }), TypeMoq.Times.exactly(2));
          closeTerminalCallback.call(terminalService.object);
          yield executor.execute('cmd5');
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendCommand(TypeMoq.It.isValue(pythonPath), TypeMoq.It.isValue(expectedTerminalArgs));
          }), TypeMoq.Times.exactly(3));
        }));
        test('Ensure code is sent to terminal', () => __awaiter(this, void 0, void 0, function* () {
          const pythonPath = 'usr/bin/python1234';
          const terminalArgs = ['-a', 'b', 'c'];
          platform.setup(p => p.isWindows).returns(() => false);
          settings.setup(s => s.pythonPath).returns(() => pythonPath);
          terminalSettings.setup(t => t.launchArgs).returns(() => terminalArgs);
          yield executor.execute('cmd1');
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendText('cmd1');
          }), TypeMoq.Times.once());
          yield executor.execute('cmd2');
          terminalService.verify(t => __awaiter(this, void 0, void 0, function* () {
            return t.sendText('cmd2');
          }), TypeMoq.Times.once());
        }));
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlcm1pbmFsQ29kZUV4ZWMudW5pdC50ZXN0LmpzIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJjaGFpXzEiLCJyZXF1aXJlIiwicGF0aCIsIlR5cGVNb3EiLCJ2c2NvZGVfMSIsIm1pc2NfMSIsImRqYW5nb1NoZWxsQ29kZUV4ZWN1dGlvbl8xIiwicmVwbF8xIiwidGVybWluYWxDb2RlRXhlY3V0aW9uXzEiLCJjb21tb25fMSIsInN1aXRlIiwiZm9yRWFjaCIsInRlc3RTdWl0ZU5hbWUiLCJ0ZXJtaW5hbFNldHRpbmdzIiwidGVybWluYWxTZXJ2aWNlIiwid29ya3NwYWNlIiwicGxhdGZvcm0iLCJ3b3Jrc3BhY2VGb2xkZXIiLCJzZXR0aW5ncyIsImRpc3Bvc2FibGVzIiwiZXhlY3V0b3IiLCJleHBlY3RlZFRlcm1pbmFsVGl0bGUiLCJ0ZXJtaW5hbEZhY3RvcnkiLCJkb2N1bWVudE1hbmFnZXIiLCJjb21tYW5kTWFuYWdlciIsImZpbGVTeXN0ZW0iLCJpc0RqYW5nb1JlcGwiLCJ0ZWFyZG93biIsImRpc3Bvc2FibGUiLCJkaXNwb3NlIiwic2V0dXAiLCJNb2NrIiwib2ZUeXBlIiwiY29uZmlnU2VydmljZSIsInMiLCJ0ZXJtaW5hbCIsInJldHVybnMiLCJvYmplY3QiLCJjIiwiZ2V0U2V0dGluZ3MiLCJJdCIsImlzQW55IiwiVGVybWluYWxDb2RlRXhlY3V0aW9uUHJvdmlkZXIiLCJSZXBsUHJvdmlkZXIiLCJ3Iiwib25EaWRDaGFuZ2VXb3Jrc3BhY2VGb2xkZXJzIiwibm9vcCIsIkRqYW5nb1NoZWxsQ29kZUV4ZWN1dGlvblByb3ZpZGVyIiwiZiIsImdldFRlcm1pbmFsU2VydmljZSIsImlzVmFsdWUiLCJlbnN1cmVUZXJtaW5hbElzQ3JlYXRlZFVwb25JbnZva2luZ0luaXRpYWxpemVSZXBsIiwiaXNXaW5kb3dzIiwiaXNPc3giLCJpc0xpbnV4IiwicCIsImlzTWFjIiwicHl0aG9uUGF0aCIsIlBZVEhPTl9QQVRIIiwidCIsImxhdW5jaEFyZ3MiLCJpbml0aWFsaXplUmVwbCIsInRlc3QiLCJ0aW1lb3V0IiwiZW5zdXJlV2VTZXRDdXJyZW50RGlyZWN0b3J5QmVmb3JlRXhlY3V0aW5nQUZpbGUiLCJmaWxlIiwiVXJpIiwiam9pbiIsImV4ZWN1dGVJbkZpbGVEaXIiLCJnZXRXb3Jrc3BhY2VGb2xkZXIiLCJ1cmkiLCJleGVjdXRlRmlsZSIsInZlcmlmeSIsInNlbmRUZXh0IiwiZGlybmFtZSIsImZzUGF0aCIsImZpbGVUb0NvbW1hbmRBcmd1bWVudCIsIlRpbWVzIiwib25jZSIsImVuc3VyZVdlV2V0Q3VycmVudERpcmVjdG9yeUFuZFF1b3RlQmVmb3JlRXhlY3V0aW5nRmlsZSIsImRpciIsImVuc3VyZVdlRG9Ob3RTZXRDdXJyZW50RGlyZWN0b3J5QmVmb3JlRXhlY3V0aW5nRmlsZUluU2FtZURpcmVjdG9yeSIsIm5ldmVyIiwiZW5zdXJlV2VEb05vdFNldEN1cnJlbnREaXJlY3RvcnlCZWZvcmVFeGVjdXRpbmdGaWxlTm90SW5TYW1lRGlyZWN0b3J5IiwidW5kZWZpbmVkIiwidGVzdEZpbGVFeGVjdXRpb24iLCJ0ZXJtaW5hbEFyZ3MiLCJleHBlY3RlZFB5dGhvblBhdGgiLCJyZXBsYWNlIiwiZXhwZWN0ZWRBcmdzIiwiY29uY2F0Iiwic2VuZENvbW1hbmQiLCJ0ZXN0UmVwbENvbW1hbmRBcmd1bWVudHMiLCJleHBlY3RlZFRlcm1pbmFsQXJncyIsInJlcGxDb21tYW5kQXJncyIsImdldFJlcGxDb21tYW5kQXJncyIsImV4cGVjdCIsIm5vdCIsInRvIiwiYmUiLCJhbiIsImNvbW1hbmQiLCJlcXVhbCIsImFyZ3MiLCJkZWVwIiwiZXhlY3V0ZSIsImNsb3NlVGVybWluYWxDYWxsYmFjayIsIm9uRGlkQ2xvc2VUZXJtaW5hbCIsImNhbGxiYWNrIiwiY2FsbCIsImV4YWN0bHkiXSwibWFwcGluZ3MiOiJBQUFBLGEsQ0FDQTtBQUNBOztBQUNBLElBQUlBLFNBQVMsR0FBSSxVQUFRLFNBQUtBLFNBQWQsSUFBNEIsVUFBVUMsT0FBVixFQUFtQkMsVUFBbkIsRUFBK0JDLENBQS9CLEVBQWtDQyxTQUFsQyxFQUE2QztBQUNyRixTQUFPLEtBQUtELENBQUMsS0FBS0EsQ0FBQyxHQUFHRSxPQUFULENBQU4sRUFBeUIsVUFBVUMsT0FBVixFQUFtQkMsTUFBbkIsRUFBMkI7QUFDdkQsYUFBU0MsU0FBVCxDQUFtQkMsS0FBbkIsRUFBMEI7QUFBRSxVQUFJO0FBQUVDLFFBQUFBLElBQUksQ0FBQ04sU0FBUyxDQUFDTyxJQUFWLENBQWVGLEtBQWYsQ0FBRCxDQUFKO0FBQThCLE9BQXBDLENBQXFDLE9BQU9HLENBQVAsRUFBVTtBQUFFTCxRQUFBQSxNQUFNLENBQUNLLENBQUQsQ0FBTjtBQUFZO0FBQUU7O0FBQzNGLGFBQVNDLFFBQVQsQ0FBa0JKLEtBQWxCLEVBQXlCO0FBQUUsVUFBSTtBQUFFQyxRQUFBQSxJQUFJLENBQUNOLFNBQVMsQ0FBQyxPQUFELENBQVQsQ0FBbUJLLEtBQW5CLENBQUQsQ0FBSjtBQUFrQyxPQUF4QyxDQUF5QyxPQUFPRyxDQUFQLEVBQVU7QUFBRUwsUUFBQUEsTUFBTSxDQUFDSyxDQUFELENBQU47QUFBWTtBQUFFOztBQUM5RixhQUFTRixJQUFULENBQWNJLE1BQWQsRUFBc0I7QUFBRUEsTUFBQUEsTUFBTSxDQUFDQyxJQUFQLEdBQWNULE9BQU8sQ0FBQ1EsTUFBTSxDQUFDTCxLQUFSLENBQXJCLEdBQXNDLElBQUlOLENBQUosQ0FBTSxVQUFVRyxPQUFWLEVBQW1CO0FBQUVBLFFBQUFBLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDTCxLQUFSLENBQVA7QUFBd0IsT0FBbkQsRUFBcURPLElBQXJELENBQTBEUixTQUExRCxFQUFx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V0FBbEUsQ0FBdkMsRUFBNEd0RSxPQUFPLENBQUMwRSxLQUFSLENBQWNDLElBQWQsRUFBNUc7QUFDSCxTQVZzRCxDQUFuRCxDQUFKO0FBV0gsT0EzTWUsQ0FBaEI7QUE0TUgsS0E3TUksQ0FBTDtBQThNSCxHQW5TRDtBQW9TSCxDQXJTSSxDQUFMIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gdHNsaW50OmRpc2FibGU6bm8tbXVsdGlsaW5lLXN0cmluZyBuby10cmFpbGluZy13aGl0ZXNwYWNlIG1heC1mdW5jLWJvZHktbGVuZ3RoXHJcbmNvbnN0IGNoYWlfMSA9IHJlcXVpcmUoXCJjaGFpXCIpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XHJcbmNvbnN0IFR5cGVNb3EgPSByZXF1aXJlKFwidHlwZW1vcVwiKTtcclxuY29uc3QgdnNjb2RlXzEgPSByZXF1aXJlKFwidnNjb2RlXCIpO1xyXG5jb25zdCBtaXNjXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L2NvbW1vbi91dGlscy9taXNjXCIpO1xyXG5jb25zdCBkamFuZ29TaGVsbENvZGVFeGVjdXRpb25fMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jbGllbnQvdGVybWluYWxzL2NvZGVFeGVjdXRpb24vZGphbmdvU2hlbGxDb2RlRXhlY3V0aW9uXCIpO1xyXG5jb25zdCByZXBsXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY2xpZW50L3Rlcm1pbmFscy9jb2RlRXhlY3V0aW9uL3JlcGxcIik7XHJcbmNvbnN0IHRlcm1pbmFsQ29kZUV4ZWN1dGlvbl8xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NsaWVudC90ZXJtaW5hbHMvY29kZUV4ZWN1dGlvbi90ZXJtaW5hbENvZGVFeGVjdXRpb25cIik7XHJcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vblwiKTtcclxuc3VpdGUoJ1Rlcm1pbmFsIC0gQ29kZSBFeGVjdXRpb24nLCAoKSA9PiB7XHJcbiAgICBbJ1Rlcm1pbmFsIEV4ZWN1dGlvbicsICdSZXBsIEV4ZWN1dGlvbicsICdEamFuZ28gRXhlY3V0aW9uJ10uZm9yRWFjaCh0ZXN0U3VpdGVOYW1lID0+IHtcclxuICAgICAgICBsZXQgdGVybWluYWxTZXR0aW5ncztcclxuICAgICAgICBsZXQgdGVybWluYWxTZXJ2aWNlO1xyXG4gICAgICAgIGxldCB3b3Jrc3BhY2U7XHJcbiAgICAgICAgbGV0IHBsYXRmb3JtO1xyXG4gICAgICAgIGxldCB3b3Jrc3BhY2VGb2xkZXI7XHJcbiAgICAgICAgbGV0IHNldHRpbmdzO1xyXG4gICAgICAgIGxldCBkaXNwb3NhYmxlcyA9IFtdO1xyXG4gICAgICAgIGxldCBleGVjdXRvcjtcclxuICAgICAgICBsZXQgZXhwZWN0ZWRUZXJtaW5hbFRpdGxlO1xyXG4gICAgICAgIGxldCB0ZXJtaW5hbEZhY3Rvcnk7XHJcbiAgICAgICAgbGV0IGRvY3VtZW50TWFuYWdlcjtcclxuICAgICAgICBsZXQgY29tbWFuZE1hbmFnZXI7XHJcbiAgICAgICAgbGV0IGZpbGVTeXN0ZW07XHJcbiAgICAgICAgbGV0IGlzRGphbmdvUmVwbDtcclxuICAgICAgICB0ZWFyZG93bigoKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2FibGVzLmZvckVhY2goZGlzcG9zYWJsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzcG9zYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGlzcG9zYWJsZXMgPSBbXTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXR1cCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRlcm1pbmFsRmFjdG9yeSA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncyA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgdGVybWluYWxTZXJ2aWNlID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWdTZXJ2aWNlID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICB3b3Jrc3BhY2UgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgICAgIHBsYXRmb3JtID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICB3b3Jrc3BhY2VGb2xkZXIgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50TWFuYWdlciA9IFR5cGVNb3EuTW9jay5vZlR5cGUoKTtcclxuICAgICAgICAgICAgY29tbWFuZE1hbmFnZXIgPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgICAgIGZpbGVTeXN0ZW0gPSBUeXBlTW9xLk1vY2sub2ZUeXBlKCk7XHJcbiAgICAgICAgICAgIHNldHRpbmdzID0gVHlwZU1vcS5Nb2NrLm9mVHlwZSgpO1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5zZXR1cChzID0+IHMudGVybWluYWwpLnJldHVybnMoKCkgPT4gdGVybWluYWxTZXR0aW5ncy5vYmplY3QpO1xyXG4gICAgICAgICAgICBjb25maWdTZXJ2aWNlLnNldHVwKGMgPT4gYy5nZXRTZXR0aW5ncyhUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IHNldHRpbmdzLm9iamVjdCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGVzdFN1aXRlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnVGVybWluYWwgRXhlY3V0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dG9yID0gbmV3IHRlcm1pbmFsQ29kZUV4ZWN1dGlvbl8xLlRlcm1pbmFsQ29kZUV4ZWN1dGlvblByb3ZpZGVyKHRlcm1pbmFsRmFjdG9yeS5vYmplY3QsIGNvbmZpZ1NlcnZpY2Uub2JqZWN0LCB3b3Jrc3BhY2Uub2JqZWN0LCBkaXNwb3NhYmxlcywgcGxhdGZvcm0ub2JqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgJ1JlcGwgRXhlY3V0aW9uJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dG9yID0gbmV3IHJlcGxfMS5SZXBsUHJvdmlkZXIodGVybWluYWxGYWN0b3J5Lm9iamVjdCwgY29uZmlnU2VydmljZS5vYmplY3QsIHdvcmtzcGFjZS5vYmplY3QsIGRpc3Bvc2FibGVzLCBwbGF0Zm9ybS5vYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkVGVybWluYWxUaXRsZSA9ICdSRVBMJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgJ0RqYW5nbyBFeGVjdXRpb24nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNEamFuZ29SZXBsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2Uuc2V0dXAodyA9PiB3Lm9uRGlkQ2hhbmdlV29ya3NwYWNlRm9sZGVycyhUeXBlTW9xLkl0LmlzQW55KCksIFR5cGVNb3EuSXQuaXNBbnkoKSwgVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRpc3Bvc2U6IG1pc2NfMS5ub29wIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0b3IgPSBuZXcgZGphbmdvU2hlbGxDb2RlRXhlY3V0aW9uXzEuRGphbmdvU2hlbGxDb2RlRXhlY3V0aW9uUHJvdmlkZXIodGVybWluYWxGYWN0b3J5Lm9iamVjdCwgY29uZmlnU2VydmljZS5vYmplY3QsIHdvcmtzcGFjZS5vYmplY3QsIGRvY3VtZW50TWFuYWdlci5vYmplY3QsIHBsYXRmb3JtLm9iamVjdCwgY29tbWFuZE1hbmFnZXIub2JqZWN0LCBmaWxlU3lzdGVtLm9iamVjdCwgZGlzcG9zYWJsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkVGVybWluYWxUaXRsZSA9ICdEamFuZ28gU2hlbGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3VpdGUoYCR7dGVzdFN1aXRlTmFtZX0gKHZhbGlkYXRpb24gb2YgdGl0bGUpYCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXR1cCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbEZhY3Rvcnkuc2V0dXAoZiA9PiBmLmdldFRlcm1pbmFsU2VydmljZShUeXBlTW9xLkl0LmlzQW55KCksIFR5cGVNb3EuSXQuaXNWYWx1ZShleHBlY3RlZFRlcm1pbmFsVGl0bGUpKSkucmV0dXJucygoKSA9PiB0ZXJtaW5hbFNlcnZpY2Uub2JqZWN0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuc3VyZVRlcm1pbmFsSXNDcmVhdGVkVXBvbkludm9raW5nSW5pdGlhbGl6ZVJlcGwoaXNXaW5kb3dzLCBpc09zeCwgaXNMaW51eCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGlzV2luZG93cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm0uc2V0dXAocCA9PiBwLmlzTWFjKS5yZXR1cm5zKCgpID0+IGlzT3N4KTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybS5zZXR1cChwID0+IHAuaXNMaW51eCkucmV0dXJucygoKSA9PiBpc0xpbnV4KTtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBjb21tb25fMS5QWVRIT05fUEFUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQubGF1bmNoQXJncykucmV0dXJucygoKSA9PiBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZXhlY3V0b3IuaW5pdGlhbGl6ZVJlcGwoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSB0ZXJtaW5hbCBpcyBjcmVhdGVkIHVwb24gaW52b2tpbmcgaW5pdGlhbGl6ZVJlcGwgKHdpbmRvd3MpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgeWllbGQgZW5zdXJlVGVybWluYWxJc0NyZWF0ZWRVcG9uSW52b2tpbmdJbml0aWFsaXplUmVwbCh0cnVlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSB0ZXJtaW5hbCBpcyBjcmVhdGVkIHVwb24gaW52b2tpbmcgaW5pdGlhbGl6ZVJlcGwgKG9zeCknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCBlbnN1cmVUZXJtaW5hbElzQ3JlYXRlZFVwb25JbnZva2luZ0luaXRpYWxpemVSZXBsKGZhbHNlLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgdGVzdCgnRW5zdXJlIHRlcm1pbmFsIGlzIGNyZWF0ZWQgdXBvbiBpbnZva2luZyBpbml0aWFsaXplUmVwbCAobGludXgpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgeWllbGQgZW5zdXJlVGVybWluYWxJc0NyZWF0ZWRVcG9uSW52b2tpbmdJbml0aWFsaXplUmVwbChmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3VpdGUodGVzdFN1aXRlTmFtZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWludmFsaWQtdGhpc1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0KDUwMDApOyAvLyBBY3RpdmF0aW9uIG9mIHRlcm1pbmFscyB0YWtlIHNvbWUgdGltZSAodGhlcmUncyBhIGRlbGF5IGluIHRoZSBjb2RlIHRvIGFjY291bnQgZm9yIFZTQyBUZXJtaW5hbCBpc3N1ZXMpLlxyXG4gICAgICAgICAgICAgICAgc2V0dXAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsRmFjdG9yeS5zZXR1cChmID0+IGYuZ2V0VGVybWluYWxTZXJ2aWNlKFR5cGVNb3EuSXQuaXNBbnkoKSwgVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiB0ZXJtaW5hbFNlcnZpY2Uub2JqZWN0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZW5zdXJlV2VTZXRDdXJyZW50RGlyZWN0b3J5QmVmb3JlRXhlY3V0aW5nQUZpbGUoaXNXaW5kb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHZzY29kZV8xLlVyaS5maWxlKHBhdGguam9pbignYycsICdwYXRoJywgJ3RvJywgJ2ZpbGUnLCAnb25lLnB5JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5leGVjdXRlSW5GaWxlRGlyKS5yZXR1cm5zKCgpID0+IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2Uuc2V0dXAodyA9PiB3LmdldFdvcmtzcGFjZUZvbGRlcihUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IHdvcmtzcGFjZUZvbGRlci5vYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2VGb2xkZXIuc2V0dXAodyA9PiB3LnVyaSkucmV0dXJucygoKSA9PiB2c2NvZGVfMS5VcmkuZmlsZShwYXRoLmpvaW4oJ2MnLCAncGF0aCcsICd0bycpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtLnNldHVwKHAgPT4gcC5pc1dpbmRvd3MpLnJldHVybnMoKCkgPT4gZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBjb21tb25fMS5QWVRIT05fUEFUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsU2V0dGluZ3Muc2V0dXAodCA9PiB0LmxhdW5jaEFyZ3MpLnJldHVybnMoKCkgPT4gW10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBleGVjdXRvci5leGVjdXRlRmlsZShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXJ2aWNlLnZlcmlmeSgodCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdC5zZW5kVGV4dChUeXBlTW9xLkl0LmlzVmFsdWUoYGNkICR7cGF0aC5kaXJuYW1lKGZpbGUuZnNQYXRoKS5maWxlVG9Db21tYW5kQXJndW1lbnQoKX1gKSk7IH0pLCBUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgd2Ugc2V0IGN1cnJlbnQgZGlyZWN0b3J5IGJlZm9yZSBleGVjdXRpbmcgZmlsZSAobm9uIHdpbmRvd3MpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGVuc3VyZVdlU2V0Q3VycmVudERpcmVjdG9yeUJlZm9yZUV4ZWN1dGluZ0FGaWxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSB3ZSBzZXQgY3VycmVudCBkaXJlY3RvcnkgYmVmb3JlIGV4ZWN1dGluZyBmaWxlICh3aW5kb3dzKScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBlbnN1cmVXZVNldEN1cnJlbnREaXJlY3RvcnlCZWZvcmVFeGVjdXRpbmdBRmlsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGVuc3VyZVdlV2V0Q3VycmVudERpcmVjdG9yeUFuZFF1b3RlQmVmb3JlRXhlY3V0aW5nRmlsZShpc1dpbmRvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gdnNjb2RlXzEuVXJpLmZpbGUocGF0aC5qb2luKCdjJywgJ3BhdGgnLCAndG8nLCAnZmlsZSB3aXRoIHNwYWNlcyBpbiBwYXRoJywgJ29uZS5weScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQuZXhlY3V0ZUluRmlsZURpcikucmV0dXJucygoKSA9PiB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLnNldHVwKHcgPT4gdy5nZXRXb3Jrc3BhY2VGb2xkZXIoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiB3b3Jrc3BhY2VGb2xkZXIub2JqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlRm9sZGVyLnNldHVwKHcgPT4gdy51cmkpLnJldHVybnMoKCkgPT4gdnNjb2RlXzEuVXJpLmZpbGUocGF0aC5qb2luKCdjJywgJ3BhdGgnLCAndG8nKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGlzV2luZG93cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnNldHVwKHMgPT4gcy5weXRob25QYXRoKS5yZXR1cm5zKCgpID0+IGNvbW1vbl8xLlBZVEhPTl9QQVRIKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQubGF1bmNoQXJncykucmV0dXJucygoKSA9PiBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGVGaWxlKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZmlsZS5mc1BhdGgpLmZpbGVUb0NvbW1hbmRBcmd1bWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNlcnZpY2UudmVyaWZ5KCh0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0LnNlbmRUZXh0KFR5cGVNb3EuSXQuaXNWYWx1ZShgY2QgJHtkaXJ9YCkpOyB9KSwgVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGVzdCgnRW5zdXJlIHdlIHNldCBjdXJyZW50IGRpcmVjdG9yeSAoYW5kIHF1b3RlIGl0IHdoZW4gY29udGFpbmluZyBzcGFjZXMpIGJlZm9yZSBleGVjdXRpbmcgZmlsZSAobm9uIHdpbmRvd3MpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGVuc3VyZVdlV2V0Q3VycmVudERpcmVjdG9yeUFuZFF1b3RlQmVmb3JlRXhlY3V0aW5nRmlsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgd2Ugc2V0IGN1cnJlbnQgZGlyZWN0b3J5IChhbmQgcXVvdGUgaXQgd2hlbiBjb250YWluaW5nIHNwYWNlcykgYmVmb3JlIGV4ZWN1dGluZyBmaWxlICh3aW5kb3dzKScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBlbnN1cmVXZVdldEN1cnJlbnREaXJlY3RvcnlBbmRRdW90ZUJlZm9yZUV4ZWN1dGluZ0ZpbGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBlbnN1cmVXZURvTm90U2V0Q3VycmVudERpcmVjdG9yeUJlZm9yZUV4ZWN1dGluZ0ZpbGVJblNhbWVEaXJlY3RvcnkoaXNXaW5kb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHZzY29kZV8xLlVyaS5maWxlKHBhdGguam9pbignYycsICdwYXRoJywgJ3RvJywgJ2ZpbGUgd2l0aCBzcGFjZXMgaW4gcGF0aCcsICdvbmUucHknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsU2V0dGluZ3Muc2V0dXAodCA9PiB0LmV4ZWN1dGVJbkZpbGVEaXIpLnJldHVybnMoKCkgPT4gdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5zZXR1cCh3ID0+IHcuZ2V0V29ya3NwYWNlRm9sZGVyKFR5cGVNb3EuSXQuaXNBbnkoKSkpLnJldHVybnMoKCkgPT4gd29ya3NwYWNlRm9sZGVyLm9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZUZvbGRlci5zZXR1cCh3ID0+IHcudXJpKS5yZXR1cm5zKCgpID0+IHZzY29kZV8xLlVyaS5maWxlKHBhdGguam9pbignYycsICdwYXRoJywgJ3RvJywgJ2ZpbGUgd2l0aCBzcGFjZXMgaW4gcGF0aCcpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtLnNldHVwKHAgPT4gcC5pc1dpbmRvd3MpLnJldHVybnMoKCkgPT4gaXNXaW5kb3dzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Muc2V0dXAocyA9PiBzLnB5dGhvblBhdGgpLnJldHVybnMoKCkgPT4gY29tbW9uXzEuUFlUSE9OX1BBVEgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5sYXVuY2hBcmdzKS5yZXR1cm5zKCgpID0+IFtdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgZXhlY3V0b3IuZXhlY3V0ZUZpbGUoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsU2VydmljZS52ZXJpZnkoKHQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHQuc2VuZFRleHQoVHlwZU1vcS5JdC5pc0FueSgpKTsgfSksIFR5cGVNb3EuVGltZXMubmV2ZXIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgd2UgZG8gbm90IHNldCBjdXJyZW50IGRpcmVjdG9yeSBiZWZvcmUgZXhlY3V0aW5nIGZpbGUgaWYgaW4gdGhlIHNhbWUgZGlyZWN0b3J5IChub24gd2luZG93cyknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZW5zdXJlV2VEb05vdFNldEN1cnJlbnREaXJlY3RvcnlCZWZvcmVFeGVjdXRpbmdGaWxlSW5TYW1lRGlyZWN0b3J5KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSB3ZSBkbyBub3Qgc2V0IGN1cnJlbnQgZGlyZWN0b3J5IGJlZm9yZSBleGVjdXRpbmcgZmlsZSBpZiBpbiB0aGUgc2FtZSBkaXJlY3RvcnkgKHdpbmRvd3MpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGVuc3VyZVdlRG9Ob3RTZXRDdXJyZW50RGlyZWN0b3J5QmVmb3JlRXhlY3V0aW5nRmlsZUluU2FtZURpcmVjdG9yeSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGVuc3VyZVdlRG9Ob3RTZXRDdXJyZW50RGlyZWN0b3J5QmVmb3JlRXhlY3V0aW5nRmlsZU5vdEluU2FtZURpcmVjdG9yeShpc1dpbmRvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gdnNjb2RlXzEuVXJpLmZpbGUocGF0aC5qb2luKCdjJywgJ3BhdGgnLCAndG8nLCAnZmlsZSB3aXRoIHNwYWNlcyBpbiBwYXRoJywgJ29uZS5weScpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQuZXhlY3V0ZUluRmlsZURpcikucmV0dXJucygoKSA9PiB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLnNldHVwKHcgPT4gdy5nZXRXb3Jrc3BhY2VGb2xkZXIoVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoKSA9PiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGlzV2luZG93cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnNldHVwKHMgPT4gcy5weXRob25QYXRoKS5yZXR1cm5zKCgpID0+IGNvbW1vbl8xLlBZVEhPTl9QQVRIKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQubGF1bmNoQXJncykucmV0dXJucygoKSA9PiBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGVGaWxlKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNlcnZpY2UudmVyaWZ5KCh0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0LnNlbmRUZXh0KFR5cGVNb3EuSXQuaXNBbnkoKSk7IH0pLCBUeXBlTW9xLlRpbWVzLm5ldmVyKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGVzdCgnRW5zdXJlIHdlIGRvIG5vdCBzZXQgY3VycmVudCBkaXJlY3RvcnkgYmVmb3JlIGV4ZWN1dGluZyBmaWxlIGlmIGZpbGUgaXMgbm90IGluIGEgd29ya3NwYWNlIChub24gd2luZG93cyknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZW5zdXJlV2VEb05vdFNldEN1cnJlbnREaXJlY3RvcnlCZWZvcmVFeGVjdXRpbmdGaWxlTm90SW5TYW1lRGlyZWN0b3J5KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSB3ZSBkbyBub3Qgc2V0IGN1cnJlbnQgZGlyZWN0b3J5IGJlZm9yZSBleGVjdXRpbmcgZmlsZSBpZiBmaWxlIGlzIG5vdCBpbiBhIHdvcmtzcGFjZSAod2luZG93cyknLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZW5zdXJlV2VEb05vdFNldEN1cnJlbnREaXJlY3RvcnlCZWZvcmVFeGVjdXRpbmdGaWxlTm90SW5TYW1lRGlyZWN0b3J5KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdGVzdEZpbGVFeGVjdXRpb24oaXNXaW5kb3dzLCBweXRob25QYXRoLCB0ZXJtaW5hbEFyZ3MsIGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGlzV2luZG93cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnNldHVwKHMgPT4gcy5weXRob25QYXRoKS5yZXR1cm5zKCgpID0+IHB5dGhvblBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5sYXVuY2hBcmdzKS5yZXR1cm5zKCgpID0+IHRlcm1pbmFsQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsU2V0dGluZ3Muc2V0dXAodCA9PiB0LmV4ZWN1dGVJbkZpbGVEaXIpLnJldHVybnMoKCkgPT4gZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2Uuc2V0dXAodyA9PiB3LmdldFdvcmtzcGFjZUZvbGRlcihUeXBlTW9xLkl0LmlzQW55KCkpKS5yZXR1cm5zKCgpID0+IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGVGaWxlKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBlY3RlZFB5dGhvblBhdGggPSBpc1dpbmRvd3MgPyBweXRob25QYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKSA6IHB5dGhvblBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkQXJncyA9IHRlcm1pbmFsQXJncy5jb25jYXQoZmlsZS5mc1BhdGguZmlsZVRvQ29tbWFuZEFyZ3VtZW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNlcnZpY2UudmVyaWZ5KCh0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0LnNlbmRDb21tYW5kKFR5cGVNb3EuSXQuaXNWYWx1ZShleHBlY3RlZFB5dGhvblBhdGgpLCBUeXBlTW9xLkl0LmlzVmFsdWUoZXhwZWN0ZWRBcmdzKSk7IH0pLCBUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgcHl0aG9uIGZpbGUgZXhlY3V0aW9uIHNjcmlwdCBpcyBzZW50IHRvIHRlcm1pbmFsIG9uIHdpbmRvd3MnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IHZzY29kZV8xLlVyaS5maWxlKHBhdGguam9pbignYycsICdwYXRoJywgJ3RvJywgJ2ZpbGUgd2l0aCBzcGFjZXMgaW4gcGF0aCcsICdvbmUucHknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgdGVzdEZpbGVFeGVjdXRpb24odHJ1ZSwgY29tbW9uXzEuUFlUSE9OX1BBVEgsIFtdLCBmaWxlKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSBweXRob24gZmlsZSBleGVjdXRpb24gc2NyaXB0IGlzIHNlbnQgdG8gdGVybWluYWwgb24gd2luZG93cyB3aXRoIGZ1bGx5IHF1YWxpZmllZCBweXRob24gcGF0aCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gdnNjb2RlXzEuVXJpLmZpbGUocGF0aC5qb2luKCdjJywgJ3BhdGgnLCAndG8nLCAnZmlsZSB3aXRoIHNwYWNlcyBpbiBwYXRoJywgJ29uZS5weScpKTtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCB0ZXN0RmlsZUV4ZWN1dGlvbih0cnVlLCAnYzpcXFxccHJvZ3JhbSBmaWxlc1xcXFxweXRob24nLCBbXSwgZmlsZSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgcHl0aG9uIGZpbGUgZXhlY3V0aW9uIHNjcmlwdCBpcyBub3QgcXVvdGVkIHdoZW4gbm8gc3BhY2VzIGluIGZpbGUgcGF0aCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gdnNjb2RlXzEuVXJpLmZpbGUocGF0aC5qb2luKCdjJywgJ3BhdGgnLCAndG8nLCAnZmlsZScsICdvbmUucHknKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgdGVzdEZpbGVFeGVjdXRpb24odHJ1ZSwgY29tbW9uXzEuUFlUSE9OX1BBVEgsIFtdLCBmaWxlKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSBweXRob24gZmlsZSBleGVjdXRpb24gc2NyaXB0IHN1cHBvcnRzIGN1c3RvbSBweXRob24gYXJndW1lbnRzJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB2c2NvZGVfMS5VcmkuZmlsZShwYXRoLmpvaW4oJ2MnLCAncGF0aCcsICd0bycsICdmaWxlJywgJ29uZS5weScpKTtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCB0ZXN0RmlsZUV4ZWN1dGlvbihmYWxzZSwgY29tbW9uXzEuUFlUSE9OX1BBVEgsIFsnLWEnLCAnLWInLCAnLWMnXSwgZmlsZSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0ZXN0UmVwbENvbW1hbmRBcmd1bWVudHMoaXNXaW5kb3dzLCBweXRob25QYXRoLCBleHBlY3RlZFB5dGhvblBhdGgsIHRlcm1pbmFsQXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtLnNldHVwKHAgPT4gcC5pc1dpbmRvd3MpLnJldHVybnMoKCkgPT4gaXNXaW5kb3dzKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBweXRob25QYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5sYXVuY2hBcmdzKS5yZXR1cm5zKCgpID0+IHRlcm1pbmFsQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRUZXJtaW5hbEFyZ3MgPSBpc0RqYW5nb1JlcGwgPyB0ZXJtaW5hbEFyZ3MuY29uY2F0KFsnbWFuYWdlLnB5JywgJ3NoZWxsJ10pIDogdGVybWluYWxBcmdzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxDb21tYW5kQXJncyA9IGV4ZWN1dG9yLmdldFJlcGxDb21tYW5kQXJncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYWlfMS5leHBlY3QocmVwbENvbW1hbmRBcmdzKS5ub3QudG8uYmUuYW4oJ3VuZGVmaW5lZCcsICdDb21tYW5kIGFyZ3MgaXMgdW5kZWZpbmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChyZXBsQ29tbWFuZEFyZ3MuY29tbWFuZCkudG8uYmUuZXF1YWwoZXhwZWN0ZWRQeXRob25QYXRoLCAnSW5jb3JyZWN0IHB5dGhvbiBwYXRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhaV8xLmV4cGVjdChyZXBsQ29tbWFuZEFyZ3MuYXJncykudG8uYmUuZGVlcC5lcXVhbChleHBlY3RlZFRlcm1pbmFsQXJncywgJ0luY29ycmVjdCBhcmd1bWVudHMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSBmdWxseSBxdWFsaWZpZWQgcHl0aG9uIHBhdGggaXMgZXNjYXBlZCB3aGVuIGJ1aWxkaW5nIHJlcGwgYXJncyBvbiBXaW5kb3dzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSAnYzpcXFxccHJvZ3JhbSBmaWxlc1xcXFxweXRob25cXFxccHl0aG9uLmV4ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWxBcmdzID0gWyctYScsICdiJywgJ2MnXTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0UmVwbENvbW1hbmRBcmd1bWVudHModHJ1ZSwgcHl0aG9uUGF0aCwgJ2M6L3Byb2dyYW0gZmlsZXMvcHl0aG9uL3B5dGhvbi5leGUnLCB0ZXJtaW5hbEFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgZnVsbHkgcXVhbGlmaWVkIHB5dGhvbiBwYXRoIGlzIHJldHVybmVkIGFzIGlzLCB3aGVuIGJ1aWxkaW5nIHJlcGwgYXJncyBvbiBXaW5kb3dzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSAnYzovcHJvZ3JhbSBmaWxlcy9weXRob24vcHl0aG9uLmV4ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWxBcmdzID0gWyctYScsICdiJywgJ2MnXTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0UmVwbENvbW1hbmRBcmd1bWVudHModHJ1ZSwgcHl0aG9uUGF0aCwgcHl0aG9uUGF0aCwgdGVybWluYWxBcmdzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVzdCgnRW5zdXJlIHB5dGhvbiBwYXRoIGlzIHJldHVybmVkIGFzIGlzLCB3aGVuIGJ1aWxkaW5nIHJlcGwgYXJncyBvbiBXaW5kb3dzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB5dGhvblBhdGggPSBjb21tb25fMS5QWVRIT05fUEFUSDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbEFyZ3MgPSBbJy1hJywgJ2InLCAnYyddO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RSZXBsQ29tbWFuZEFyZ3VtZW50cyh0cnVlLCBweXRob25QYXRoLCBweXRob25QYXRoLCB0ZXJtaW5hbEFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgZnVsbHkgcXVhbGlmaWVkIHB5dGhvbiBwYXRoIGlzIHJldHVybmVkIGFzIGlzLCBvbiBub24gV2luZG93cycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gJ3Vzci9iaW4vcHl0aG9uJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbEFyZ3MgPSBbJy1hJywgJ2InLCAnYyddO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RSZXBsQ29tbWFuZEFyZ3VtZW50cyhmYWxzZSwgcHl0aG9uUGF0aCwgcHl0aG9uUGF0aCwgdGVybWluYWxBcmdzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVzdCgnRW5zdXJlIHB5dGhvbiBwYXRoIGlzIHJldHVybmVkIGFzIGlzLCBvbiBub24gV2luZG93cycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gY29tbW9uXzEuUFlUSE9OX1BBVEg7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWxBcmdzID0gWyctYScsICdiJywgJ2MnXTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0UmVwbENvbW1hbmRBcmd1bWVudHMoZmFsc2UsIHB5dGhvblBhdGgsIHB5dGhvblBhdGgsIHRlcm1pbmFsQXJncyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRlc3QoJ0Vuc3VyZSBub3RoaW5nIGhhcHBlbnMgd2hlbiBibGFuayB0ZXh0IGlzIHNlbnQgdG8gdGhlIHRlcm1pbmFsJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGUoJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGUoJyAgICcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBleGVjdXRvci5leGVjdXRlKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXJ2aWNlLnZlcmlmeSgodCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdC5zZW5kQ29tbWFuZChUeXBlTW9xLkl0LmlzQW55KCksIFR5cGVNb3EuSXQuaXNBbnkoKSk7IH0pLCBUeXBlTW9xLlRpbWVzLm5ldmVyKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsU2VydmljZS52ZXJpZnkoKHQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHQuc2VuZFRleHQoVHlwZU1vcS5JdC5pc0FueSgpKTsgfSksIFR5cGVNb3EuVGltZXMubmV2ZXIoKSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgcmVwbCBpcyBpbml0aWFsaXplZCBvbmNlIGJlZm9yZSBzZW5kaW5nIHRleHQgdG8gdGhlIHJlcGwnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHl0aG9uUGF0aCA9ICd1c3IvYmluL3B5dGhvbjEyMzQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsQXJncyA9IFsnLWEnLCAnYicsICdjJ107XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm0uc2V0dXAocCA9PiBwLmlzV2luZG93cykucmV0dXJucygoKSA9PiBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Muc2V0dXAocyA9PiBzLnB5dGhvblBhdGgpLnJldHVybnMoKCkgPT4gcHl0aG9uUGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXR0aW5ncy5zZXR1cCh0ID0+IHQubGF1bmNoQXJncykucmV0dXJucygoKSA9PiB0ZXJtaW5hbEFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGUoJ2NtZDEnKTtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBleGVjdXRvci5leGVjdXRlKCdjbWQyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZXhlY3V0b3IuZXhlY3V0ZSgnY21kMycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVGVybWluYWxBcmdzID0gaXNEamFuZ29SZXBsID8gdGVybWluYWxBcmdzLmNvbmNhdChbJ21hbmFnZS5weScsICdzaGVsbCddKSA6IHRlcm1pbmFsQXJncztcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNlcnZpY2UudmVyaWZ5KCh0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0LnNlbmRDb21tYW5kKFR5cGVNb3EuSXQuaXNWYWx1ZShweXRob25QYXRoKSwgVHlwZU1vcS5JdC5pc1ZhbHVlKGV4cGVjdGVkVGVybWluYWxBcmdzKSk7IH0pLCBUeXBlTW9xLlRpbWVzLm9uY2UoKSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB0ZXN0KCdFbnN1cmUgcmVwbCBpcyByZS1pbml0aWFsaXplZCB3aGVuIHRlcm1pbmFsIGlzIGNsb3NlZCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gJ3Vzci9iaW4vcHl0aG9uMTIzNCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWxBcmdzID0gWyctYScsICdiJywgJ2MnXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBweXRob25QYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5sYXVuY2hBcmdzKS5yZXR1cm5zKCgpID0+IHRlcm1pbmFsQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsb3NlVGVybWluYWxDYWxsYmFjaztcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNlcnZpY2Uuc2V0dXAodCA9PiB0Lm9uRGlkQ2xvc2VUZXJtaW5hbChUeXBlTW9xLkl0LmlzQW55KCksIFR5cGVNb3EuSXQuaXNBbnkoKSwgVHlwZU1vcS5JdC5pc0FueSgpKSkucmV0dXJucygoY2FsbGJhY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZVRlcm1pbmFsQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3Bvc2U6IG1pc2NfMS5ub29wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGUoJ2NtZDEnKTtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBleGVjdXRvci5leGVjdXRlKCdjbWQyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZXhlY3V0b3IuZXhlY3V0ZSgnY21kMycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVGVybWluYWxBcmdzID0gaXNEamFuZ29SZXBsID8gdGVybWluYWxBcmdzLmNvbmNhdChbJ21hbmFnZS5weScsICdzaGVsbCddKSA6IHRlcm1pbmFsQXJncztcclxuICAgICAgICAgICAgICAgICAgICBjaGFpXzEuZXhwZWN0KGNsb3NlVGVybWluYWxDYWxsYmFjaykubm90LnRvLmJlLmFuKCd1bmRlZmluZWQnLCAnQ2FsbGJhY2sgbm90IGluaXRpYWxpemVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXJ2aWNlLnZlcmlmeSgodCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdC5zZW5kQ29tbWFuZChUeXBlTW9xLkl0LmlzVmFsdWUocHl0aG9uUGF0aCksIFR5cGVNb3EuSXQuaXNWYWx1ZShleHBlY3RlZFRlcm1pbmFsQXJncykpOyB9KSwgVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlVGVybWluYWxDYWxsYmFjay5jYWxsKHRlcm1pbmFsU2VydmljZS5vYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGUoJ2NtZDQnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNlcnZpY2UudmVyaWZ5KCh0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0LnNlbmRDb21tYW5kKFR5cGVNb3EuSXQuaXNWYWx1ZShweXRob25QYXRoKSwgVHlwZU1vcS5JdC5pc1ZhbHVlKGV4cGVjdGVkVGVybWluYWxBcmdzKSk7IH0pLCBUeXBlTW9xLlRpbWVzLmV4YWN0bHkoMikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlVGVybWluYWxDYWxsYmFjay5jYWxsKHRlcm1pbmFsU2VydmljZS5vYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dG9yLmV4ZWN1dGUoJ2NtZDUnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNlcnZpY2UudmVyaWZ5KCh0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0LnNlbmRDb21tYW5kKFR5cGVNb3EuSXQuaXNWYWx1ZShweXRob25QYXRoKSwgVHlwZU1vcS5JdC5pc1ZhbHVlKGV4cGVjdGVkVGVybWluYWxBcmdzKSk7IH0pLCBUeXBlTW9xLlRpbWVzLmV4YWN0bHkoMykpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgdGVzdCgnRW5zdXJlIGNvZGUgaXMgc2VudCB0byB0ZXJtaW5hbCcsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBweXRob25QYXRoID0gJ3Vzci9iaW4vcHl0aG9uMTIzNCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWxBcmdzID0gWyctYScsICdiJywgJ2MnXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybS5zZXR1cChwID0+IHAuaXNXaW5kb3dzKS5yZXR1cm5zKCgpID0+IGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXR1cChzID0+IHMucHl0aG9uUGF0aCkucmV0dXJucygoKSA9PiBweXRob25QYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFNldHRpbmdzLnNldHVwKHQgPT4gdC5sYXVuY2hBcmdzKS5yZXR1cm5zKCgpID0+IHRlcm1pbmFsQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgZXhlY3V0b3IuZXhlY3V0ZSgnY21kMScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsU2VydmljZS52ZXJpZnkoKHQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHQuc2VuZFRleHQoJ2NtZDEnKTsgfSksIFR5cGVNb3EuVGltZXMub25jZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBleGVjdXRvci5leGVjdXRlKCdjbWQyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVybWluYWxTZXJ2aWNlLnZlcmlmeSgodCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdC5zZW5kVGV4dCgnY21kMicpOyB9KSwgVHlwZU1vcS5UaW1lcy5vbmNlKCkpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVybWluYWxDb2RlRXhlYy51bml0LnRlc3QuanMubWFwIl19