"use strict"; // Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : new P(function (resolve) {
        resolve(result.value);
      }).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

Object.defineProperty(exports, "__esModule", {
  value: true
});

const assert = require("assert");

const path = require("path");

const vscode = require("vscode");

require("../../client/common/extensions");

const constants_1 = require("../constants");

const initialize_1 = require("../initialize");

const textUtils_1 = require("../textUtils");

const autoCompPath = path.join(__dirname, '..', '..', '..', 'src', 'test', 'pythonFiles', 'autocomp');
const hoverPath = path.join(__dirname, '..', '..', '..', 'src', 'test', 'pythonFiles', 'hover');
const fileOne = path.join(autoCompPath, 'one.py');
const fileThree = path.join(autoCompPath, 'three.py');
const fileEncoding = path.join(autoCompPath, 'four.py');
const fileEncodingUsed = path.join(autoCompPath, 'five.py');
const fileHover = path.join(autoCompPath, 'hoverTest.py');
const fileStringFormat = path.join(hoverPath, 'stringFormat.py');
let textDocument; // tslint:disable-next-line:max-func-body-length

suite('Hover Definition (Language Server)', () => {
  suiteSetup(function () {
    return __awaiter(this, void 0, void 0, function* () {
      if (!constants_1.IsLanguageServerTest()) {
        // tslint:disable-next-line:no-invalid-this
        this.skip();
      }

      yield initialize_1.initialize();
    });
  });
  setup(initialize_1.initializeTest);
  suiteTeardown(initialize_1.closeActiveWindows);
  teardown(initialize_1.closeActiveWindows);

  function openAndHover(file, line, character) {
    return __awaiter(this, void 0, void 0, function* () {
      textDocument = yield vscode.workspace.openTextDocument(file);
      yield vscode.window.showTextDocument(textDocument);
      const position = new vscode.Position(line, character);
      const result = yield vscode.commands.executeCommand('vscode.executeHoverProvider', textDocument.uri, position);
      return result ? result : [];
    });
  }

  test('Method', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileOne, 30, 5);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '30,0', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '30,11', 'End position is incorrect');
    assert.equal(def[0].contents.length, 1, 'Invalid content items');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['obj.method1:', '```python', 'method method1 of one.Class1 objects', '```', 'This is method1'];
    verifySignatureLines(actual, expected);
  }));
  test('Across files', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileThree, 1, 12);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '1,0', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '1,12', 'End position is incorrect');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['two.ct().fun:', '```python', 'method fun of two.ct objects', '```', 'This is fun'];
    verifySignatureLines(actual, expected);
  }));
  test('With Unicode Characters', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileEncoding, 25, 6);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '25,0', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '25,7', 'End position is incorrect');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['```python', 'four.Foo.bar() -> bool', 'declared in Foo', '```', '说明 - keep this line, it works', 'delete following line, it works', '如果存在需要等待审批或正在执行的任务，将不刷新页面'];
    verifySignatureLines(actual, expected);
  }));
  test('Across files with Unicode Characters', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileEncodingUsed, 1, 11);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '1,0', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '1,16', 'End position is incorrect');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['```python', 'four.showMessage()', '```', 'Кюм ут жэмпэр пошжим льаборэж, коммюны янтэрэсщэт нам ед, декта игнота ныморэ жят эи.', 'Шэа декам экшырки эи, эи зыд эррэм докэндё, векж факэтэ пэрчыквюэрёж ку.'];
    verifySignatureLines(actual, expected);
  }));
  test('Nothing for keywords (class)', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileOne, 5, 1);

    if (def.length > 0) {
      const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]);
      assert.equal(actual, '', 'Definition length is incorrect');
    }
  }));
  test('Nothing for keywords (for)', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileHover, 3, 1);

    if (def.length > 0) {
      const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]);
      assert.equal(actual, '', 'Definition length is incorrect');
    }
  }));
  test('Highlighting Class', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileHover, 11, 15);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '11,7', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '11,18', 'End position is incorrect');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['```python', 'class misc.Random(_random.Random)', '```', 'Random number generator base class used by bound module functions.', 'Used to instantiate instances of Random to get generators that don\'t', 'share state.', 'Class Random can also be subclassed if you want to use a different basic', 'generator of your own devising: in that case, override the following', 'methods: random(), seed(), getstate(), and setstate().', 'Optionally, implement a getrandbits() method so that randrange()', 'can cover arbitrarily large ranges.'];
    verifySignatureLines(actual, expected);
  }));
  test('Highlight Method', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileHover, 12, 10);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '12,0', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '12,12', 'End position is incorrect');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['rnd2.randint:', '```python', 'method randint of misc.Random objects -> int', '```', 'Return random integer in range [a, b], including both end points.'];
    verifySignatureLines(actual, expected);
  }));
  test('Highlight Function', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileHover, 8, 14);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '8,6', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '8,15', 'End position is incorrect');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['```python', 'acos(x)', '```', 'acos(x)', 'Return the arc cosine (measured in radians) of x.'];
    verifySignatureLines(actual, expected);
  }));
  test('Highlight Multiline Method Signature', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileHover, 14, 14);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(`${def[0].range.start.line},${def[0].range.start.character}`, '14,4', 'Start position is incorrect');
    assert.equal(`${def[0].range.end.line},${def[0].range.end.character}`, '14,15', 'End position is incorrect');
    const actual = textUtils_1.normalizeMarkedString(def[0].contents[0]).splitLines();
    const expected = ['```python', 'class misc.Thread(_Verbose)', '```', 'A class that represents a thread of control.', 'This class can be safely subclassed in a limited fashion.'];
    verifySignatureLines(actual, expected);
  }));
  test('Variable', () => __awaiter(void 0, void 0, void 0, function* () {
    const def = yield openAndHover(fileHover, 6, 2);
    assert.equal(def.length, 1, 'Definition length is incorrect');
    assert.equal(def[0].contents.length, 1, 'Only expected one result');
    const contents = textUtils_1.normalizeMarkedString(def[0].contents[0]);

    if (contents.indexOf('Random') === -1) {
      assert.fail(contents, '', 'Variable type is missing', 'compare');
    }
  }));
  test('format().capitalize()', function () {
    return __awaiter(this, void 0, void 0, function* () {
      // https://github.com/Microsoft/PTVS/issues/3868
      // tslint:disable-next-line:no-invalid-this
      this.skip();
      const def = yield openAndHover(fileStringFormat, 5, 41);
      assert.equal(def.length, 1, 'Definition length is incorrect');
      assert.equal(def[0].contents.length, 1, 'Only expected one result');
      const contents = textUtils_1.normalizeMarkedString(def[0].contents[0]);

      if (contents.indexOf('capitalize') === -1) {
        assert.fail(contents, '', '\'capitalize\' is missing', 'compare');
      }

      if (contents.indexOf('Return a capitalized version of S') === -1 && contents.indexOf('Return a copy of the string S with only its first character') === -1) {
        assert.fail(contents, '', '\'Return a capitalized version of S/Return a copy of the string S with only its first character\' message missing', 'compare');
      }
    });
  });

  function verifySignatureLines(actual, expected) {
    assert.equal(actual.length, expected.length, 'incorrect number of lines');

    for (let i = 0; i < actual.length; i += 1) {
      actual[i] = actual[i].replace(new RegExp('&nbsp;', 'g'), ' ');
      assert.equal(actual[i].trim(), expected[i], `signature line ${i + 1} is incorrect`);
    }
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvdmVyLmxzLnRlc3QuanMiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsImFzc2VydCIsInJlcXVpcmUiLCJwYXRoIiwidnNjb2RlIiwiY29uc3RhbnRzXzEiLCJpbml0aWFsaXplXzEiLCJ0ZXh0VXRpbHNfMSIsImF1dG9Db21wUGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJob3ZlclBhdGgiLCJmaWxlT25lIiwiZmlsZVRocmVlIiwiZmlsZUVuY29kaW5nIiwiZmlsZUVuY29kaW5nVXNlZCIsImZpbGVIb3ZlciIsImZpbGVTdHJpbmdGb3JtYXQiLCJ0ZXh0RG9jdW1lbnQiLCJzdWl0ZSIsInN1aXRlU2V0dXAiLCJJc0xhbmd1YWdlU2VydmVyVGVzdCIsInNraXAiLCJpbml0aWFsaXplIiwic2V0dXAiLCJpbml0aWFsaXplVGVzdCIsInN1aXRlVGVhcmRvd24iLCJjbG9zZUFjdGl2ZVdpbmRvd3MiLCJ0ZWFyZG93biIsIm9wZW5BbmRIb3ZlciIsImZpbGUiLCJsaW5lIiwiY2hhcmFjdGVyIiwid29ya3NwYWNlIiwib3BlblRleHREb2N1bWVudCIsIndpbmRvdyIsInNob3dUZXh0RG9jdW1lbnQiLCJwb3NpdGlvbiIsIlBvc2l0aW9uIiwiY29tbWFuZHMiLCJleGVjdXRlQ29tbWFuZCIsInVyaSIsInRlc3QiLCJkZWYiLCJlcXVhbCIsImxlbmd0aCIsInJhbmdlIiwic3RhcnQiLCJlbmQiLCJjb250ZW50cyIsImFjdHVhbCIsIm5vcm1hbGl6ZU1hcmtlZFN0cmluZyIsInNwbGl0TGluZXMiLCJleHBlY3RlZCIsInZlcmlmeVNpZ25h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OUIsRUFBc0NHLFFBQXRDLEVBQWdEO0FBQzVDcEQsSUFBQUEsTUFBTSxDQUFDMkMsS0FBUCxDQUFhTSxNQUFNLENBQUNMLE1BQXBCLEVBQTRCUSxRQUFRLENBQUNSLE1BQXJDLEVBQTZDLDJCQUE3Qzs7QUFDQSxTQUFLLElBQUlZLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdQLE1BQU0sQ0FBQ0wsTUFBM0IsRUFBbUNZLENBQUMsSUFBSSxDQUF4QyxFQUEyQztBQUN2Q1AsTUFBQUEsTUFBTSxDQUFDTyxDQUFELENBQU4sR0FBWVAsTUFBTSxDQUFDTyxDQUFELENBQU4sQ0FBVUMsT0FBVixDQUFrQixJQUFJQyxNQUFKLENBQVcsUUFBWCxFQUFxQixHQUFyQixDQUFsQixFQUE2QyxHQUE3QyxDQUFaO0FBQ0ExRCxNQUFBQSxNQUFNLENBQUMyQyxLQUFQLENBQWFNLE1BQU0sQ0FBQ08sQ0FBRCxDQUFOLENBQVVHLElBQVYsRUFBYixFQUErQlAsUUFBUSxDQUFDSSxDQUFELENBQXZDLEVBQTZDLGtCQUFpQkEsQ0FBQyxHQUFHLENBQUUsZUFBcEU7QUFDSDtBQUNKO0FBQ0osQ0F2TUksQ0FBTCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIik7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuY29uc3QgdnNjb2RlID0gcmVxdWlyZShcInZzY29kZVwiKTtcclxucmVxdWlyZShcIi4uLy4uL2NsaWVudC9jb21tb24vZXh0ZW5zaW9uc1wiKTtcclxuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xyXG5jb25zdCBpbml0aWFsaXplXzEgPSByZXF1aXJlKFwiLi4vaW5pdGlhbGl6ZVwiKTtcclxuY29uc3QgdGV4dFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdGV4dFV0aWxzXCIpO1xyXG5jb25zdCBhdXRvQ29tcFBhdGggPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nLCAnLi4nLCAnLi4nLCAnc3JjJywgJ3Rlc3QnLCAncHl0aG9uRmlsZXMnLCAnYXV0b2NvbXAnKTtcclxuY29uc3QgaG92ZXJQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJy4uJywgJy4uJywgJ3NyYycsICd0ZXN0JywgJ3B5dGhvbkZpbGVzJywgJ2hvdmVyJyk7XHJcbmNvbnN0IGZpbGVPbmUgPSBwYXRoLmpvaW4oYXV0b0NvbXBQYXRoLCAnb25lLnB5Jyk7XHJcbmNvbnN0IGZpbGVUaHJlZSA9IHBhdGguam9pbihhdXRvQ29tcFBhdGgsICd0aHJlZS5weScpO1xyXG5jb25zdCBmaWxlRW5jb2RpbmcgPSBwYXRoLmpvaW4oYXV0b0NvbXBQYXRoLCAnZm91ci5weScpO1xyXG5jb25zdCBmaWxlRW5jb2RpbmdVc2VkID0gcGF0aC5qb2luKGF1dG9Db21wUGF0aCwgJ2ZpdmUucHknKTtcclxuY29uc3QgZmlsZUhvdmVyID0gcGF0aC5qb2luKGF1dG9Db21wUGF0aCwgJ2hvdmVyVGVzdC5weScpO1xyXG5jb25zdCBmaWxlU3RyaW5nRm9ybWF0ID0gcGF0aC5qb2luKGhvdmVyUGF0aCwgJ3N0cmluZ0Zvcm1hdC5weScpO1xyXG5sZXQgdGV4dERvY3VtZW50O1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWZ1bmMtYm9keS1sZW5ndGhcclxuc3VpdGUoJ0hvdmVyIERlZmluaXRpb24gKExhbmd1YWdlIFNlcnZlciknLCAoKSA9PiB7XHJcbiAgICBzdWl0ZVNldHVwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAoIWNvbnN0YW50c18xLklzTGFuZ3VhZ2VTZXJ2ZXJUZXN0KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1pbnZhbGlkLXRoaXNcclxuICAgICAgICAgICAgICAgIHRoaXMuc2tpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHlpZWxkIGluaXRpYWxpemVfMS5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHNldHVwKGluaXRpYWxpemVfMS5pbml0aWFsaXplVGVzdCk7XHJcbiAgICBzdWl0ZVRlYXJkb3duKGluaXRpYWxpemVfMS5jbG9zZUFjdGl2ZVdpbmRvd3MpO1xyXG4gICAgdGVhcmRvd24oaW5pdGlhbGl6ZV8xLmNsb3NlQWN0aXZlV2luZG93cyk7XHJcbiAgICBmdW5jdGlvbiBvcGVuQW5kSG92ZXIoZmlsZSwgbGluZSwgY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgdGV4dERvY3VtZW50ID0geWllbGQgdnNjb2RlLndvcmtzcGFjZS5vcGVuVGV4dERvY3VtZW50KGZpbGUpO1xyXG4gICAgICAgICAgICB5aWVsZCB2c2NvZGUud2luZG93LnNob3dUZXh0RG9jdW1lbnQodGV4dERvY3VtZW50KTtcclxuICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBuZXcgdnNjb2RlLlBvc2l0aW9uKGxpbmUsIGNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkIHZzY29kZS5jb21tYW5kcy5leGVjdXRlQ29tbWFuZCgndnNjb2RlLmV4ZWN1dGVIb3ZlclByb3ZpZGVyJywgdGV4dERvY3VtZW50LnVyaSwgcG9zaXRpb24pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID8gcmVzdWx0IDogW107XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0ZXN0KCdNZXRob2QnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgZGVmID0geWllbGQgb3BlbkFuZEhvdmVyKGZpbGVPbmUsIDMwLCA1KTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoZGVmLmxlbmd0aCwgMSwgJ0RlZmluaXRpb24gbGVuZ3RoIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2Uuc3RhcnQubGluZX0sJHtkZWZbMF0ucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyfWAsICczMCwwJywgJ1N0YXJ0IHBvc2l0aW9uIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2UuZW5kLmxpbmV9LCR7ZGVmWzBdLnJhbmdlLmVuZC5jaGFyYWN0ZXJ9YCwgJzMwLDExJywgJ0VuZCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoZGVmWzBdLmNvbnRlbnRzLmxlbmd0aCwgMSwgJ0ludmFsaWQgY29udGVudCBpdGVtcycpO1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbCA9IHRleHRVdGlsc18xLm5vcm1hbGl6ZU1hcmtlZFN0cmluZyhkZWZbMF0uY29udGVudHNbMF0pLnNwbGl0TGluZXMoKTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZCA9IFtcclxuICAgICAgICAgICAgJ29iai5tZXRob2QxOicsXHJcbiAgICAgICAgICAgICdgYGBweXRob24nLFxyXG4gICAgICAgICAgICAnbWV0aG9kIG1ldGhvZDEgb2Ygb25lLkNsYXNzMSBvYmplY3RzJyxcclxuICAgICAgICAgICAgJ2BgYCcsXHJcbiAgICAgICAgICAgICdUaGlzIGlzIG1ldGhvZDEnXHJcbiAgICAgICAgXTtcclxuICAgICAgICB2ZXJpZnlTaWduYXR1cmVMaW5lcyhhY3R1YWwsIGV4cGVjdGVkKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ0Fjcm9zcyBmaWxlcycsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCBkZWYgPSB5aWVsZCBvcGVuQW5kSG92ZXIoZmlsZVRocmVlLCAxLCAxMik7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGRlZi5sZW5ndGgsIDEsICdEZWZpbml0aW9uIGxlbmd0aCBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmxpbmV9LCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmNoYXJhY3Rlcn1gLCAnMSwwJywgJ1N0YXJ0IHBvc2l0aW9uIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2UuZW5kLmxpbmV9LCR7ZGVmWzBdLnJhbmdlLmVuZC5jaGFyYWN0ZXJ9YCwgJzEsMTInLCAnRW5kIHBvc2l0aW9uIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbCA9IHRleHRVdGlsc18xLm5vcm1hbGl6ZU1hcmtlZFN0cmluZyhkZWZbMF0uY29udGVudHNbMF0pLnNwbGl0TGluZXMoKTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZCA9IFtcclxuICAgICAgICAgICAgJ3R3by5jdCgpLmZ1bjonLFxyXG4gICAgICAgICAgICAnYGBgcHl0aG9uJyxcclxuICAgICAgICAgICAgJ21ldGhvZCBmdW4gb2YgdHdvLmN0IG9iamVjdHMnLFxyXG4gICAgICAgICAgICAnYGBgJyxcclxuICAgICAgICAgICAgJ1RoaXMgaXMgZnVuJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmVyaWZ5U2lnbmF0dXJlTGluZXMoYWN0dWFsLCBleHBlY3RlZCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdXaXRoIFVuaWNvZGUgQ2hhcmFjdGVycycsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCBkZWYgPSB5aWVsZCBvcGVuQW5kSG92ZXIoZmlsZUVuY29kaW5nLCAyNSwgNik7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGRlZi5sZW5ndGgsIDEsICdEZWZpbml0aW9uIGxlbmd0aCBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmxpbmV9LCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmNoYXJhY3Rlcn1gLCAnMjUsMCcsICdTdGFydCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYCR7ZGVmWzBdLnJhbmdlLmVuZC5saW5lfSwke2RlZlswXS5yYW5nZS5lbmQuY2hhcmFjdGVyfWAsICcyNSw3JywgJ0VuZCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBjb25zdCBhY3R1YWwgPSB0ZXh0VXRpbHNfMS5ub3JtYWxpemVNYXJrZWRTdHJpbmcoZGVmWzBdLmNvbnRlbnRzWzBdKS5zcGxpdExpbmVzKCk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBbXHJcbiAgICAgICAgICAgICdgYGBweXRob24nLFxyXG4gICAgICAgICAgICAnZm91ci5Gb28uYmFyKCkgLT4gYm9vbCcsXHJcbiAgICAgICAgICAgICdkZWNsYXJlZCBpbiBGb28nLFxyXG4gICAgICAgICAgICAnYGBgJyxcclxuICAgICAgICAgICAgJ+ivtOaYjiAtIGtlZXAgdGhpcyBsaW5lLCBpdCB3b3JrcycsXHJcbiAgICAgICAgICAgICdkZWxldGUgZm9sbG93aW5nIGxpbmUsIGl0IHdvcmtzJyxcclxuICAgICAgICAgICAgJ+WmguaenOWtmOWcqOmcgOimgeetieW+heWuoeaJueaIluato+WcqOaJp+ihjOeahOS7u+WKoe+8jOWwhuS4jeWIt+aWsOmhtemdoidcclxuICAgICAgICBdO1xyXG4gICAgICAgIHZlcmlmeVNpZ25hdHVyZUxpbmVzKGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnQWNyb3NzIGZpbGVzIHdpdGggVW5pY29kZSBDaGFyYWN0ZXJzJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IGRlZiA9IHlpZWxkIG9wZW5BbmRIb3ZlcihmaWxlRW5jb2RpbmdVc2VkLCAxLCAxMSk7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGRlZi5sZW5ndGgsIDEsICdEZWZpbml0aW9uIGxlbmd0aCBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmxpbmV9LCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmNoYXJhY3Rlcn1gLCAnMSwwJywgJ1N0YXJ0IHBvc2l0aW9uIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2UuZW5kLmxpbmV9LCR7ZGVmWzBdLnJhbmdlLmVuZC5jaGFyYWN0ZXJ9YCwgJzEsMTYnLCAnRW5kIHBvc2l0aW9uIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbCA9IHRleHRVdGlsc18xLm5vcm1hbGl6ZU1hcmtlZFN0cmluZyhkZWZbMF0uY29udGVudHNbMF0pLnNwbGl0TGluZXMoKTtcclxuICAgICAgICBjb25zdCBleHBlY3RlZCA9IFtcclxuICAgICAgICAgICAgJ2BgYHB5dGhvbicsXHJcbiAgICAgICAgICAgICdmb3VyLnNob3dNZXNzYWdlKCknLFxyXG4gICAgICAgICAgICAnYGBgJyxcclxuICAgICAgICAgICAgJ9Ca0Y7QvCDRg9GCINC20Y3QvNC/0Y3RgCDQv9C+0YjQttC40Lwg0LvRjNCw0LHQvtGA0Y3Qtiwg0LrQvtC80LzRjtC90Ysg0Y/QvdGC0Y3RgNGN0YHRidGN0YIg0L3QsNC8INC10LQsINC00LXQutGC0LAg0LjQs9C90L7RgtCwINC90YvQvNC+0YDRjSDQttGP0YIg0Y3QuC4nLFxyXG4gICAgICAgICAgICAn0KjRjdCwINC00LXQutCw0Lwg0Y3QutGI0YvRgNC60Lgg0Y3QuCwg0Y3QuCDQt9GL0LQg0Y3RgNGA0Y3QvCDQtNC+0LrRjdC90LTRkSwg0LLQtdC60LYg0YTQsNC60Y3RgtGNINC/0Y3RgNGH0YvQutCy0Y7RjdGA0ZHQtiDQutGDLidcclxuICAgICAgICBdO1xyXG4gICAgICAgIHZlcmlmeVNpZ25hdHVyZUxpbmVzKGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gICAgfSkpO1xyXG4gICAgdGVzdCgnTm90aGluZyBmb3Iga2V5d29yZHMgKGNsYXNzKScsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICBjb25zdCBkZWYgPSB5aWVsZCBvcGVuQW5kSG92ZXIoZmlsZU9uZSwgNSwgMSk7XHJcbiAgICAgICAgaWYgKGRlZi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbCA9IHRleHRVdGlsc18xLm5vcm1hbGl6ZU1hcmtlZFN0cmluZyhkZWZbMF0uY29udGVudHNbMF0pO1xyXG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYWN0dWFsLCAnJywgJ0RlZmluaXRpb24gbGVuZ3RoIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ05vdGhpbmcgZm9yIGtleXdvcmRzIChmb3IpJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IGRlZiA9IHlpZWxkIG9wZW5BbmRIb3ZlcihmaWxlSG92ZXIsIDMsIDEpO1xyXG4gICAgICAgIGlmIChkZWYubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBhY3R1YWwgPSB0ZXh0VXRpbHNfMS5ub3JtYWxpemVNYXJrZWRTdHJpbmcoZGVmWzBdLmNvbnRlbnRzWzBdKTtcclxuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGFjdHVhbCwgJycsICdEZWZpbml0aW9uIGxlbmd0aCBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdIaWdobGlnaHRpbmcgQ2xhc3MnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgZGVmID0geWllbGQgb3BlbkFuZEhvdmVyKGZpbGVIb3ZlciwgMTEsIDE1KTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoZGVmLmxlbmd0aCwgMSwgJ0RlZmluaXRpb24gbGVuZ3RoIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2Uuc3RhcnQubGluZX0sJHtkZWZbMF0ucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyfWAsICcxMSw3JywgJ1N0YXJ0IHBvc2l0aW9uIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2UuZW5kLmxpbmV9LCR7ZGVmWzBdLnJhbmdlLmVuZC5jaGFyYWN0ZXJ9YCwgJzExLDE4JywgJ0VuZCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBjb25zdCBhY3R1YWwgPSB0ZXh0VXRpbHNfMS5ub3JtYWxpemVNYXJrZWRTdHJpbmcoZGVmWzBdLmNvbnRlbnRzWzBdKS5zcGxpdExpbmVzKCk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBbXHJcbiAgICAgICAgICAgICdgYGBweXRob24nLFxyXG4gICAgICAgICAgICAnY2xhc3MgbWlzYy5SYW5kb20oX3JhbmRvbS5SYW5kb20pJyxcclxuICAgICAgICAgICAgJ2BgYCcsXHJcbiAgICAgICAgICAgICdSYW5kb20gbnVtYmVyIGdlbmVyYXRvciBiYXNlIGNsYXNzIHVzZWQgYnkgYm91bmQgbW9kdWxlIGZ1bmN0aW9ucy4nLFxyXG4gICAgICAgICAgICAnVXNlZCB0byBpbnN0YW50aWF0ZSBpbnN0YW5jZXMgb2YgUmFuZG9tIHRvIGdldCBnZW5lcmF0b3JzIHRoYXQgZG9uXFwndCcsXHJcbiAgICAgICAgICAgICdzaGFyZSBzdGF0ZS4nLFxyXG4gICAgICAgICAgICAnQ2xhc3MgUmFuZG9tIGNhbiBhbHNvIGJlIHN1YmNsYXNzZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgZGlmZmVyZW50IGJhc2ljJyxcclxuICAgICAgICAgICAgJ2dlbmVyYXRvciBvZiB5b3VyIG93biBkZXZpc2luZzogaW4gdGhhdCBjYXNlLCBvdmVycmlkZSB0aGUgZm9sbG93aW5nJyxcclxuICAgICAgICAgICAgJ21ldGhvZHM6IHJhbmRvbSgpLCBzZWVkKCksIGdldHN0YXRlKCksIGFuZCBzZXRzdGF0ZSgpLicsXHJcbiAgICAgICAgICAgICdPcHRpb25hbGx5LCBpbXBsZW1lbnQgYSBnZXRyYW5kYml0cygpIG1ldGhvZCBzbyB0aGF0IHJhbmRyYW5nZSgpJyxcclxuICAgICAgICAgICAgJ2NhbiBjb3ZlciBhcmJpdHJhcmlseSBsYXJnZSByYW5nZXMuJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmVyaWZ5U2lnbmF0dXJlTGluZXMoYWN0dWFsLCBleHBlY3RlZCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdIaWdobGlnaHQgTWV0aG9kJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IGRlZiA9IHlpZWxkIG9wZW5BbmRIb3ZlcihmaWxlSG92ZXIsIDEyLCAxMCk7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGRlZi5sZW5ndGgsIDEsICdEZWZpbml0aW9uIGxlbmd0aCBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmxpbmV9LCR7ZGVmWzBdLnJhbmdlLnN0YXJ0LmNoYXJhY3Rlcn1gLCAnMTIsMCcsICdTdGFydCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYCR7ZGVmWzBdLnJhbmdlLmVuZC5saW5lfSwke2RlZlswXS5yYW5nZS5lbmQuY2hhcmFjdGVyfWAsICcxMiwxMicsICdFbmQgcG9zaXRpb24gaXMgaW5jb3JyZWN0Jyk7XHJcbiAgICAgICAgY29uc3QgYWN0dWFsID0gdGV4dFV0aWxzXzEubm9ybWFsaXplTWFya2VkU3RyaW5nKGRlZlswXS5jb250ZW50c1swXSkuc3BsaXRMaW5lcygpO1xyXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkID0gW1xyXG4gICAgICAgICAgICAncm5kMi5yYW5kaW50OicsXHJcbiAgICAgICAgICAgICdgYGBweXRob24nLFxyXG4gICAgICAgICAgICAnbWV0aG9kIHJhbmRpbnQgb2YgbWlzYy5SYW5kb20gb2JqZWN0cyAtPiBpbnQnLFxyXG4gICAgICAgICAgICAnYGBgJyxcclxuICAgICAgICAgICAgJ1JldHVybiByYW5kb20gaW50ZWdlciBpbiByYW5nZSBbYSwgYl0sIGluY2x1ZGluZyBib3RoIGVuZCBwb2ludHMuJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmVyaWZ5U2lnbmF0dXJlTGluZXMoYWN0dWFsLCBleHBlY3RlZCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdIaWdobGlnaHQgRnVuY3Rpb24nLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgZGVmID0geWllbGQgb3BlbkFuZEhvdmVyKGZpbGVIb3ZlciwgOCwgMTQpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChkZWYubGVuZ3RoLCAxLCAnRGVmaW5pdGlvbiBsZW5ndGggaXMgaW5jb3JyZWN0Jyk7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGAke2RlZlswXS5yYW5nZS5zdGFydC5saW5lfSwke2RlZlswXS5yYW5nZS5zdGFydC5jaGFyYWN0ZXJ9YCwgJzgsNicsICdTdGFydCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoYCR7ZGVmWzBdLnJhbmdlLmVuZC5saW5lfSwke2RlZlswXS5yYW5nZS5lbmQuY2hhcmFjdGVyfWAsICc4LDE1JywgJ0VuZCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBjb25zdCBhY3R1YWwgPSB0ZXh0VXRpbHNfMS5ub3JtYWxpemVNYXJrZWRTdHJpbmcoZGVmWzBdLmNvbnRlbnRzWzBdKS5zcGxpdExpbmVzKCk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBbXHJcbiAgICAgICAgICAgICdgYGBweXRob24nLFxyXG4gICAgICAgICAgICAnYWNvcyh4KScsXHJcbiAgICAgICAgICAgICdgYGAnLFxyXG4gICAgICAgICAgICAnYWNvcyh4KScsXHJcbiAgICAgICAgICAgICdSZXR1cm4gdGhlIGFyYyBjb3NpbmUgKG1lYXN1cmVkIGluIHJhZGlhbnMpIG9mIHguJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmVyaWZ5U2lnbmF0dXJlTGluZXMoYWN0dWFsLCBleHBlY3RlZCk7XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdIaWdobGlnaHQgTXVsdGlsaW5lIE1ldGhvZCBTaWduYXR1cmUnLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgZGVmID0geWllbGQgb3BlbkFuZEhvdmVyKGZpbGVIb3ZlciwgMTQsIDE0KTtcclxuICAgICAgICBhc3NlcnQuZXF1YWwoZGVmLmxlbmd0aCwgMSwgJ0RlZmluaXRpb24gbGVuZ3RoIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2Uuc3RhcnQubGluZX0sJHtkZWZbMF0ucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyfWAsICcxNCw0JywgJ1N0YXJ0IHBvc2l0aW9uIGlzIGluY29ycmVjdCcpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChgJHtkZWZbMF0ucmFuZ2UuZW5kLmxpbmV9LCR7ZGVmWzBdLnJhbmdlLmVuZC5jaGFyYWN0ZXJ9YCwgJzE0LDE1JywgJ0VuZCBwb3NpdGlvbiBpcyBpbmNvcnJlY3QnKTtcclxuICAgICAgICBjb25zdCBhY3R1YWwgPSB0ZXh0VXRpbHNfMS5ub3JtYWxpemVNYXJrZWRTdHJpbmcoZGVmWzBdLmNvbnRlbnRzWzBdKS5zcGxpdExpbmVzKCk7XHJcbiAgICAgICAgY29uc3QgZXhwZWN0ZWQgPSBbXHJcbiAgICAgICAgICAgICdgYGBweXRob24nLFxyXG4gICAgICAgICAgICAnY2xhc3MgbWlzYy5UaHJlYWQoX1ZlcmJvc2UpJyxcclxuICAgICAgICAgICAgJ2BgYCcsXHJcbiAgICAgICAgICAgICdBIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHRocmVhZCBvZiBjb250cm9sLicsXHJcbiAgICAgICAgICAgICdUaGlzIGNsYXNzIGNhbiBiZSBzYWZlbHkgc3ViY2xhc3NlZCBpbiBhIGxpbWl0ZWQgZmFzaGlvbi4nXHJcbiAgICAgICAgXTtcclxuICAgICAgICB2ZXJpZnlTaWduYXR1cmVMaW5lcyhhY3R1YWwsIGV4cGVjdGVkKTtcclxuICAgIH0pKTtcclxuICAgIHRlc3QoJ1ZhcmlhYmxlJywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgIGNvbnN0IGRlZiA9IHlpZWxkIG9wZW5BbmRIb3ZlcihmaWxlSG92ZXIsIDYsIDIpO1xyXG4gICAgICAgIGFzc2VydC5lcXVhbChkZWYubGVuZ3RoLCAxLCAnRGVmaW5pdGlvbiBsZW5ndGggaXMgaW5jb3JyZWN0Jyk7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGRlZlswXS5jb250ZW50cy5sZW5ndGgsIDEsICdPbmx5IGV4cGVjdGVkIG9uZSByZXN1bHQnKTtcclxuICAgICAgICBjb25zdCBjb250ZW50cyA9IHRleHRVdGlsc18xLm5vcm1hbGl6ZU1hcmtlZFN0cmluZyhkZWZbMF0uY29udGVudHNbMF0pO1xyXG4gICAgICAgIGlmIChjb250ZW50cy5pbmRleE9mKCdSYW5kb20nKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgYXNzZXJ0LmZhaWwoY29udGVudHMsICcnLCAnVmFyaWFibGUgdHlwZSBpcyBtaXNzaW5nJywgJ2NvbXBhcmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbiAgICB0ZXN0KCdmb3JtYXQoKS5jYXBpdGFsaXplKCknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9QVFZTL2lzc3Vlcy8zODY4XHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1pbnZhbGlkLXRoaXNcclxuICAgICAgICAgICAgdGhpcy5za2lwKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHlpZWxkIG9wZW5BbmRIb3ZlcihmaWxlU3RyaW5nRm9ybWF0LCA1LCA0MSk7XHJcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChkZWYubGVuZ3RoLCAxLCAnRGVmaW5pdGlvbiBsZW5ndGggaXMgaW5jb3JyZWN0Jyk7XHJcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChkZWZbMF0uY29udGVudHMubGVuZ3RoLCAxLCAnT25seSBleHBlY3RlZCBvbmUgcmVzdWx0Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRzID0gdGV4dFV0aWxzXzEubm9ybWFsaXplTWFya2VkU3RyaW5nKGRlZlswXS5jb250ZW50c1swXSk7XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50cy5pbmRleE9mKCdjYXBpdGFsaXplJykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZmFpbChjb250ZW50cywgJycsICdcXCdjYXBpdGFsaXplXFwnIGlzIG1pc3NpbmcnLCAnY29tcGFyZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50cy5pbmRleE9mKCdSZXR1cm4gYSBjYXBpdGFsaXplZCB2ZXJzaW9uIG9mIFMnKSA9PT0gLTEgJiZcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRzLmluZGV4T2YoJ1JldHVybiBhIGNvcHkgb2YgdGhlIHN0cmluZyBTIHdpdGggb25seSBpdHMgZmlyc3QgY2hhcmFjdGVyJykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NlcnQuZmFpbChjb250ZW50cywgJycsICdcXCdSZXR1cm4gYSBjYXBpdGFsaXplZCB2ZXJzaW9uIG9mIFMvUmV0dXJuIGEgY29weSBvZiB0aGUgc3RyaW5nIFMgd2l0aCBvbmx5IGl0cyBmaXJzdCBjaGFyYWN0ZXJcXCcgbWVzc2FnZSBtaXNzaW5nJywgJ2NvbXBhcmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmVMaW5lcyhhY3R1YWwsIGV4cGVjdGVkKSB7XHJcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGFjdHVhbC5sZW5ndGgsIGV4cGVjdGVkLmxlbmd0aCwgJ2luY29ycmVjdCBudW1iZXIgb2YgbGluZXMnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdHVhbC5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBhY3R1YWxbaV0gPSBhY3R1YWxbaV0ucmVwbGFjZShuZXcgUmVnRXhwKCcmbmJzcDsnLCAnZycpLCAnICcpO1xyXG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoYWN0dWFsW2ldLnRyaW0oKSwgZXhwZWN0ZWRbaV0sIGBzaWduYXR1cmUgbGluZSAke2kgKyAxfSBpcyBpbmNvcnJlY3RgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob3Zlci5scy50ZXN0LmpzLm1hcCJdfQ==