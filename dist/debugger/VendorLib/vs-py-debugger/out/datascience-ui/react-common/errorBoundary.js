// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

const React = require("react");

class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      hasError: false,
      errorMessage: ''
    };
  }

  componentDidCatch(error, info) {
    const stack = info.componentStack; // Display fallback UI

    this.setState({
      hasError: true,
      errorMessage: `${error} at \n  ${stack}`
    });
  }

  render() {
    if (this.state.hasError) {
      // Render our error message;
      const style = {}; // tslint:disable-next-line:no-string-literal

      style['whiteSpace'] = 'pre';
      return React.createElement("h1", {
        style: style
      }, this.state.errorMessage);
    }

    return this.props.children;
  }

}

exports.ErrorBoundary = ErrorBoundary;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yQm91bmRhcnkuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJSZWFjdCIsInJlcXVpcmUiLCJFcnJvckJvdW5kYXJ5IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiaGFzRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJjb21wb25lbnREaWRDYXRjaCIsImVycm9yIiwiaW5mbyIsInN0YWNrIiwiY29tcG9uZW50U3RhY2siLCJzZXRTdGF0ZSIsInJlbmRlciIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImNoaWxkcmVuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBQ0FBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7O0FBQ0EsTUFBTUMsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxNQUFNQyxhQUFOLFNBQTRCRixLQUFLLENBQUNHLFNBQWxDLENBQTRDO0FBQ3hDQyxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNmLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFBRUMsTUFBQUEsUUFBUSxFQUFFLEtBQVo7QUFBbUJDLE1BQUFBLFlBQVksRUFBRTtBQUFqQyxLQUFiO0FBQ0g7O0FBQ0RDLEVBQUFBLGlCQUFpQixDQUFDQyxLQUFELEVBQVFDLElBQVIsRUFBYztBQUMzQixVQUFNQyxLQUFLLEdBQUdELElBQUksQ0FBQ0UsY0FBbkIsQ0FEMkIsQ0FFM0I7O0FBQ0EsU0FBS0MsUUFBTCxDQUFjO0FBQUVQLE1BQUFBLFFBQVEsRUFBRSxJQUFaO0FBQWtCQyxNQUFBQSxZQUFZLEVBQUcsR0FBRUUsS0FBTSxXQUFVRSxLQUFNO0FBQXpELEtBQWQ7QUFDSDs7QUFDREcsRUFBQUEsTUFBTSxHQUFHO0FBQ0wsUUFBSSxLQUFLVCxLQUFMLENBQVdDLFFBQWYsRUFBeUI7QUFDckI7QUFDQSxZQUFNUyxLQUFLLEdBQUcsRUFBZCxDQUZxQixDQUdyQjs7QUFDQUEsTUFBQUEsS0FBSyxDQUFDLFlBQUQsQ0FBTCxHQUFzQixLQUF0QjtBQUNBLGFBQU9oQixLQUFLLENBQUNpQixhQUFOLENBQW9CLElBQXBCLEVBQTBCO0FBQUVELFFBQUFBLEtBQUssRUFBRUE7QUFBVCxPQUExQixFQUE0QyxLQUFLVixLQUFMLENBQVdFLFlBQXZELENBQVA7QUFDSDs7QUFDRCxXQUFPLEtBQUtILEtBQUwsQ0FBV2EsUUFBbEI7QUFDSDs7QUFuQnVDOztBQXFCNUNwQixPQUFPLENBQUNJLGFBQVIsR0FBd0JBLGFBQXhCIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuJ3VzZSBzdHJpY3QnO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IGhhc0Vycm9yOiBmYWxzZSwgZXJyb3JNZXNzYWdlOiAnJyB9O1xyXG4gICAgfVxyXG4gICAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGluZm8pIHtcclxuICAgICAgICBjb25zdCBzdGFjayA9IGluZm8uY29tcG9uZW50U3RhY2s7XHJcbiAgICAgICAgLy8gRGlzcGxheSBmYWxsYmFjayBVSVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBoYXNFcnJvcjogdHJ1ZSwgZXJyb3JNZXNzYWdlOiBgJHtlcnJvcn0gYXQgXFxuICAke3N0YWNrfWAgfSk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaGFzRXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gUmVuZGVyIG91ciBlcnJvciBtZXNzYWdlO1xyXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IHt9O1xyXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc3RyaW5nLWxpdGVyYWxcclxuICAgICAgICAgICAgc3R5bGVbJ3doaXRlU3BhY2UnXSA9ICdwcmUnO1xyXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgc3R5bGU6IHN0eWxlIH0sIHRoaXMuc3RhdGUuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5FcnJvckJvdW5kYXJ5ID0gRXJyb3JCb3VuZGFyeTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JCb3VuZGFyeS5qcy5tYXAiXX0=