// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

var __decorate = void 0 && (void 0).__decorate || function (decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
      d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var __param = void 0 && (void 0).__param || function (paramIndex, decorator) {
  return function (target, key) {
    decorator(target, key, paramIndex);
  };
};

Object.defineProperty(exports, "__esModule", {
  value: true
});

const inversify_1 = require("inversify");

const azureBlobStoreNugetRepository_1 = require("../../common/nuget/azureBlobStoreNugetRepository");

const types_1 = require("../../ioc/types");

const azureBlobStorageAccount = 'https://pvsc.blob.core.windows.net';
exports.azureCDNBlobStorageAccount = 'https://pvsc.azureedge.net';
var LanguageServerDownloadChannel;

(function (LanguageServerDownloadChannel) {
  LanguageServerDownloadChannel["stable"] = "stable";
  LanguageServerDownloadChannel["beta"] = "beta";
  LanguageServerDownloadChannel["daily"] = "daily";
})(LanguageServerDownloadChannel = exports.LanguageServerDownloadChannel || (exports.LanguageServerDownloadChannel = {}));

var LanguageServerPackageStorageContainers;

(function (LanguageServerPackageStorageContainers) {
  LanguageServerPackageStorageContainers["stable"] = "python-language-server-stable";
  LanguageServerPackageStorageContainers["beta"] = "python-language-server-beta";
  LanguageServerPackageStorageContainers["daily"] = "python-language-server-daily";
})(LanguageServerPackageStorageContainers = exports.LanguageServerPackageStorageContainers || (exports.LanguageServerPackageStorageContainers = {}));

let StableLanguageServerPackageRepository = class StableLanguageServerPackageRepository extends azureBlobStoreNugetRepository_1.AzureBlobStoreNugetRepository {
  constructor(serviceContainer) {
    super(serviceContainer, azureBlobStorageAccount, LanguageServerPackageStorageContainers.stable, exports.azureCDNBlobStorageAccount);
  }

};
StableLanguageServerPackageRepository = __decorate([inversify_1.injectable(), __param(0, inversify_1.inject(types_1.IServiceContainer))], StableLanguageServerPackageRepository);
exports.StableLanguageServerPackageRepository = StableLanguageServerPackageRepository;
let BetaLanguageServerPackageRepository = class BetaLanguageServerPackageRepository extends azureBlobStoreNugetRepository_1.AzureBlobStoreNugetRepository {
  constructor(serviceContainer) {
    super(serviceContainer, azureBlobStorageAccount, LanguageServerPackageStorageContainers.beta, exports.azureCDNBlobStorageAccount);
  }

};
BetaLanguageServerPackageRepository = __decorate([inversify_1.injectable(), __param(0, inversify_1.inject(types_1.IServiceContainer))], BetaLanguageServerPackageRepository);
exports.BetaLanguageServerPackageRepository = BetaLanguageServerPackageRepository;
let DailyLanguageServerPackageRepository = class DailyLanguageServerPackageRepository extends azureBlobStoreNugetRepository_1.AzureBlobStoreNugetRepository {
  constructor(serviceContainer) {
    super(serviceContainer, azureBlobStorageAccount, LanguageServerPackageStorageContainers.daily, exports.azureCDNBlobStorageAccount);
  }

};
DailyLanguageServerPackageRepository = __decorate([inversify_1.injectable(), __param(0, inversify_1.inject(types_1.IServiceContainer))], DailyLanguageServerPackageRepository);
exports.DailyLanguageServerPackageRepository = DailyLanguageServerPackageRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkuanMiXSwibmFtZXMiOlsiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiYyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJleHBvcnRzIiwidmFsdWUiLCJpbnZlcnNpZnlfMSIsInJlcXVpcmUiLCJhenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeV8xIiwidHlwZXNfMSIsImF6dXJlQmxvYlN0b3JhZ2VBY2NvdW50IiwiYXp1cmVDRE5CbG9iU3RvcmFnZUFjY291bnQiLCJMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbCIsIkxhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzIiwiU3RhYmxlTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSIsIkF6dXJlQmxvYlN0b3JlTnVnZXRSZXBvc2l0b3J5IiwiY29uc3RydWN0b3IiLCJzZXJ2aWNlQ29udGFpbmVyIiwic3RhYmxlIiwiaW5qZWN0YWJsZSIsImluamVjdCIsIklTZXJ2aWNlQ29udGFpbmVyIiwiQmV0YUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkiLCJiZXRhIiwiRGFpbHlMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5IiwiZGFpbHkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFDQSxJQUFJQSxVQUFVLEdBQUksVUFBUSxTQUFLQSxVQUFkLElBQTZCLFVBQVVDLFVBQVYsRUFBc0JDLE1BQXRCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDbkYsTUFBSUMsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BQWxCO0FBQUEs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Q0FBQ08sNkJBQW5GLENBQWlIO0FBQ3hKQyxFQUFBQSxXQUFXLENBQUNDLGdCQUFELEVBQW1CO0FBQzFCLFVBQU1BLGdCQUFOLEVBQXdCUCx1QkFBeEIsRUFBaURHLHNDQUFzQyxDQUFDWSxLQUF4RixFQUErRnJCLE9BQU8sQ0FBQ08sMEJBQXZHO0FBQ0g7O0FBSHVKLENBQTVKO0FBS0FhLG9DQUFvQyxHQUFHdkMsVUFBVSxDQUFDLENBQzlDcUIsV0FBVyxDQUFDYSxVQUFaLEVBRDhDLEVBRTlDbEIsT0FBTyxDQUFDLENBQUQsRUFBSUssV0FBVyxDQUFDYyxNQUFaLENBQW1CWCxPQUFPLENBQUNZLGlCQUEzQixDQUFKLENBRnVDLENBQUQsRUFHOUNHLG9DQUg4QyxDQUFqRDtBQUlBcEIsT0FBTyxDQUFDb0Isb0NBQVIsR0FBK0NBLG9DQUEvQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbid1c2Ugc3RyaWN0JztcclxudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGludmVyc2lmeV8xID0gcmVxdWlyZShcImludmVyc2lmeVwiKTtcclxuY29uc3QgYXp1cmVCbG9iU3RvcmVOdWdldFJlcG9zaXRvcnlfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vbnVnZXQvYXp1cmVCbG9iU3RvcmVOdWdldFJlcG9zaXRvcnlcIik7XHJcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vaW9jL3R5cGVzXCIpO1xyXG5jb25zdCBhenVyZUJsb2JTdG9yYWdlQWNjb3VudCA9ICdodHRwczovL3B2c2MuYmxvYi5jb3JlLndpbmRvd3MubmV0JztcclxuZXhwb3J0cy5henVyZUNETkJsb2JTdG9yYWdlQWNjb3VudCA9ICdodHRwczovL3B2c2MuYXp1cmVlZGdlLm5ldCc7XHJcbnZhciBMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbDtcclxuKGZ1bmN0aW9uIChMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbCkge1xyXG4gICAgTGFuZ3VhZ2VTZXJ2ZXJEb3dubG9hZENoYW5uZWxbXCJzdGFibGVcIl0gPSBcInN0YWJsZVwiO1xyXG4gICAgTGFuZ3VhZ2VTZXJ2ZXJEb3dubG9hZENoYW5uZWxbXCJiZXRhXCJdID0gXCJiZXRhXCI7XHJcbiAgICBMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbFtcImRhaWx5XCJdID0gXCJkYWlseVwiO1xyXG59KShMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbCA9IGV4cG9ydHMuTGFuZ3VhZ2VTZXJ2ZXJEb3dubG9hZENoYW5uZWwgfHwgKGV4cG9ydHMuTGFuZ3VhZ2VTZXJ2ZXJEb3dubG9hZENoYW5uZWwgPSB7fSkpO1xyXG52YXIgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnM7XHJcbihmdW5jdGlvbiAoTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMpIHtcclxuICAgIExhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzW1wic3RhYmxlXCJdID0gXCJweXRob24tbGFuZ3VhZ2Utc2VydmVyLXN0YWJsZVwiO1xyXG4gICAgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnNbXCJiZXRhXCJdID0gXCJweXRob24tbGFuZ3VhZ2Utc2VydmVyLWJldGFcIjtcclxuICAgIExhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzW1wiZGFpbHlcIl0gPSBcInB5dGhvbi1sYW5ndWFnZS1zZXJ2ZXItZGFpbHlcIjtcclxufSkoTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMgPSBleHBvcnRzLkxhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzIHx8IChleHBvcnRzLkxhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzID0ge30pKTtcclxubGV0IFN0YWJsZUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkgPSBjbGFzcyBTdGFibGVMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5IGV4dGVuZHMgYXp1cmVCbG9iU3RvcmVOdWdldFJlcG9zaXRvcnlfMS5BenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlQ29udGFpbmVyKSB7XHJcbiAgICAgICAgc3VwZXIoc2VydmljZUNvbnRhaW5lciwgYXp1cmVCbG9iU3RvcmFnZUFjY291bnQsIExhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzLnN0YWJsZSwgZXhwb3J0cy5henVyZUNETkJsb2JTdG9yYWdlQWNjb3VudCk7XHJcbiAgICB9XHJcbn07XHJcblN0YWJsZUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkgPSBfX2RlY29yYXRlKFtcclxuICAgIGludmVyc2lmeV8xLmluamVjdGFibGUoKSxcclxuICAgIF9fcGFyYW0oMCwgaW52ZXJzaWZ5XzEuaW5qZWN0KHR5cGVzXzEuSVNlcnZpY2VDb250YWluZXIpKVxyXG5dLCBTdGFibGVMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5KTtcclxuZXhwb3J0cy5TdGFibGVMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gU3RhYmxlTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeTtcclxubGV0IEJldGFMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gY2xhc3MgQmV0YUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkgZXh0ZW5kcyBhenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeV8xLkF6dXJlQmxvYlN0b3JlTnVnZXRSZXBvc2l0b3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VDb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcihzZXJ2aWNlQ29udGFpbmVyLCBhenVyZUJsb2JTdG9yYWdlQWNjb3VudCwgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMuYmV0YSwgZXhwb3J0cy5henVyZUNETkJsb2JTdG9yYWdlQWNjb3VudCk7XHJcbiAgICB9XHJcbn07XHJcbkJldGFMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gX19kZWNvcmF0ZShbXHJcbiAgICBpbnZlcnNpZnlfMS5pbmplY3RhYmxlKCksXHJcbiAgICBfX3BhcmFtKDAsIGludmVyc2lmeV8xLmluamVjdCh0eXBlc18xLklTZXJ2aWNlQ29udGFpbmVyKSlcclxuXSwgQmV0YUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkpO1xyXG5leHBvcnRzLkJldGFMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gQmV0YUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnk7XHJcbmxldCBEYWlseUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkgPSBjbGFzcyBEYWlseUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkgZXh0ZW5kcyBhenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeV8xLkF6dXJlQmxvYlN0b3JlTnVnZXRSZXBvc2l0b3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VDb250YWluZXIpIHtcclxuICAgICAgICBzdXBlcihzZXJ2aWNlQ29udGFpbmVyLCBhenVyZUJsb2JTdG9yYWdlQWNjb3VudCwgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMuZGFpbHksIGV4cG9ydHMuYXp1cmVDRE5CbG9iU3RvcmFnZUFjY291bnQpO1xyXG4gICAgfVxyXG59O1xyXG5EYWlseUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkgPSBfX2RlY29yYXRlKFtcclxuICAgIGludmVyc2lmeV8xLmluamVjdGFibGUoKSxcclxuICAgIF9fcGFyYW0oMCwgaW52ZXJzaWZ5XzEuaW5qZWN0KHR5cGVzXzEuSVNlcnZpY2VDb250YWluZXIpKVxyXG5dLCBEYWlseUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkpO1xyXG5leHBvcnRzLkRhaWx5TGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSA9IERhaWx5TGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeS5qcy5tYXAiXX0=