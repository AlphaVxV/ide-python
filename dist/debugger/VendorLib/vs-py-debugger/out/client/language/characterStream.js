// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

const characters_1 = require("./characters");

const textIterator_1 = require("./textIterator");

class CharacterStream {
  constructor(text) {
    this.text = typeof text === 'string' ? new textIterator_1.TextIterator(text) : text;
    this._position = 0;
    this._currentChar = text.length > 0 ? text.charCodeAt(0) : 0;
    this._isEndOfStream = text.length === 0;
  }

  getText() {
    return this.text.getText();
  }

  get position() {
    return this._position;
  }

  set position(value) {
    this._position = value;
    this.checkBounds();
  }

  get currentChar() {
    return this._currentChar;
  }

  get nextChar() {
    return this.position + 1 < this.text.length ? this.text.charCodeAt(this.position + 1) : 0;
  }

  get prevChar() {
    return this.position - 1 >= 0 ? this.text.charCodeAt(this.position - 1) : 0;
  }

  isEndOfStream() {
    return this._isEndOfStream;
  }

  lookAhead(offset) {
    const pos = this._position + offset;
    return pos < 0 || pos >= this.text.length ? 0 : this.text.charCodeAt(pos);
  }

  advance(offset) {
    this.position += offset;
  }

  moveNext() {
    if (this._position < this.text.length - 1) {
      // Most common case, no need to check bounds extensively
      this._position += 1;
      this._currentChar = this.text.charCodeAt(this._position);
      return true;
    }

    this.advance(1);
    return !this.isEndOfStream();
  }

  isAtWhiteSpace() {
    return characters_1.isWhiteSpace(this.currentChar);
  }

  isAtLineBreak() {
    return characters_1.isLineBreak(this.currentChar);
  }

  skipLineBreak() {
    if (this._currentChar === 13
    /* CarriageReturn */
    ) {
        this.moveNext();

        if (this.currentChar === 10
        /* LineFeed */
        ) {
            this.moveNext();
          }
      } else if (this._currentChar === 10
    /* LineFeed */
    ) {
        this.moveNext();
      }
  }

  skipWhitespace() {
    while (!this.isEndOfStream() && this.isAtWhiteSpace()) {
      this.moveNext();
    }
  }

  skipToEol() {
    while (!this.isEndOfStream() && !this.isAtLineBreak()) {
      this.moveNext();
    }
  }

  skipToWhitespace() {
    while (!this.isEndOfStream() && !this.isAtWhiteSpace()) {
      this.moveNext();
    }
  }

  isAtString() {
    return this.currentChar === 39
    /* SingleQuote */
    || this.currentChar === 34
    /* DoubleQuote */
    ;
  }

  charCodeAt(index) {
    return this.text.charCodeAt(index);
  }

  get length() {
    return this.text.length;
  }

  checkBounds() {
    if (this._position < 0) {
      this._position = 0;
    }

    this._isEndOfStream = this._position >= this.text.length;

    if (this._isEndOfStream) {
      this._position = this.text.length;
    }

    this._currentChar = this._isEndOfStream ? 0 : this.text.charCodeAt(this._position);
  }

}

exports.CharacterStream = CharacterStream;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJhY3RlclN0cmVhbS5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNoYXJhY3RlcnNfMSIsInJlcXVpcmUiLCJ0ZXh0SXRlcmF0b3JfMSIsIkNoYXJhY3RlclN0cmVhbSIsImNvbnN0cnVjdG9yIiwidGV4dCIsIlRleHRJdGVyYXRvciIsIl9wb3NpdGlvbiIsIl9jdXJyZW50Q2hhciIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJfaXNFbmRPZlN0cmVhbSIsImdldFRleHQiLCJwb3NpdGlvbiIsImNoZWNrQm91bmRzIiwiY3VycmVudENoYXIiLCJuZXh0Q2hhciIsInByZXZDaGFyIiwiaXNFbmRPZlN0cmVhbSIsImxvb2tBaGVhZCIsIm9mZnNldCIsInBvcyIsImFkdmFuY2UiLCJtb3ZlTmV4dCIsImlzQXRXaGl0ZVNwYWNlIiwiaXNXaGl0ZVNwYWNlIiwiaXNBdExpbmVCcmVhayIsImlzTGluZUJyZWFrIiwic2tpcExpbmVCcmVhayIsInNraXBXaGl0ZXNwYWNlIiwic2tpcFRvRW9sIiwic2tpcFRvV2hpdGVzcGFjZSIsImlzQXRTdHJpbmciLCJpbmRleCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUNBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQUVDLEVBQUFBLEtBQUssRUFBRTtBQUFULENBQTdDOztBQUNBLE1BQU1DLFlBQVksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBNUI7O0FBQ0EsTUFBTUMsY0FBYyxHQUFHRCxPQUFPLENBQUMsZ0JBQUQsQ0FBOUI7O0FBQ0EsTUFBTUUsZUFBTixDQUFzQjtBQUNsQkMsRUFBQUEsV0FBVyxDQUFDQyxJQUFELEVBQU87QUFDZCxTQUFLQSxJQUFMLEdBQVksT0FBT0EsSUFBUCxLQUFnQixRQUFoQixHQUEyQixJQUFJSCxjQUFjLENBQUNJLFlBQW5CLENBQWdDRCxJQUFoQyxDQUEzQixHQUFt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QlQsT0FBTyxDQUFDSyxlQUFSLEdBQTBCQSxlQUExQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbid1c2Ugc3RyaWN0JztcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBjaGFyYWN0ZXJzXzEgPSByZXF1aXJlKFwiLi9jaGFyYWN0ZXJzXCIpO1xyXG5jb25zdCB0ZXh0SXRlcmF0b3JfMSA9IHJlcXVpcmUoXCIuL3RleHRJdGVyYXRvclwiKTtcclxuY2xhc3MgQ2hhcmFjdGVyU3RyZWFtIHtcclxuICAgIGNvbnN0cnVjdG9yKHRleHQpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSB0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycgPyBuZXcgdGV4dEl0ZXJhdG9yXzEuVGV4dEl0ZXJhdG9yKHRleHQpIDogdGV4dDtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudENoYXIgPSB0ZXh0Lmxlbmd0aCA+IDAgPyB0ZXh0LmNoYXJDb2RlQXQoMCkgOiAwO1xyXG4gICAgICAgIHRoaXMuX2lzRW5kT2ZTdHJlYW0gPSB0ZXh0Lmxlbmd0aCA9PT0gMDtcclxuICAgIH1cclxuICAgIGdldFRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5nZXRUZXh0KCk7XHJcbiAgICB9XHJcbiAgICBnZXQgcG9zaXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgfVxyXG4gICAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmNoZWNrQm91bmRzKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgY3VycmVudENoYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRDaGFyO1xyXG4gICAgfVxyXG4gICAgZ2V0IG5leHRDaGFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uICsgMSA8IHRoaXMudGV4dC5sZW5ndGggPyB0aGlzLnRleHQuY2hhckNvZGVBdCh0aGlzLnBvc2l0aW9uICsgMSkgOiAwO1xyXG4gICAgfVxyXG4gICAgZ2V0IHByZXZDaGFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uIC0gMSA+PSAwID8gdGhpcy50ZXh0LmNoYXJDb2RlQXQodGhpcy5wb3NpdGlvbiAtIDEpIDogMDtcclxuICAgIH1cclxuICAgIGlzRW5kT2ZTdHJlYW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRW5kT2ZTdHJlYW07XHJcbiAgICB9XHJcbiAgICBsb29rQWhlYWQob2Zmc2V0KSB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fcG9zaXRpb24gKyBvZmZzZXQ7XHJcbiAgICAgICAgcmV0dXJuIHBvcyA8IDAgfHwgcG9zID49IHRoaXMudGV4dC5sZW5ndGggPyAwIDogdGhpcy50ZXh0LmNoYXJDb2RlQXQocG9zKTtcclxuICAgIH1cclxuICAgIGFkdmFuY2Uob2Zmc2V0KSB7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBvZmZzZXQ7XHJcbiAgICB9XHJcbiAgICBtb3ZlTmV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24gPCB0aGlzLnRleHQubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAvLyBNb3N0IGNvbW1vbiBjYXNlLCBubyBuZWVkIHRvIGNoZWNrIGJvdW5kcyBleHRlbnNpdmVseVxyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiArPSAxO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50Q2hhciA9IHRoaXMudGV4dC5jaGFyQ29kZUF0KHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWR2YW5jZSgxKTtcclxuICAgICAgICByZXR1cm4gIXRoaXMuaXNFbmRPZlN0cmVhbSgpO1xyXG4gICAgfVxyXG4gICAgaXNBdFdoaXRlU3BhY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNoYXJhY3RlcnNfMS5pc1doaXRlU3BhY2UodGhpcy5jdXJyZW50Q2hhcik7XHJcbiAgICB9XHJcbiAgICBpc0F0TGluZUJyZWFrKCkge1xyXG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXJzXzEuaXNMaW5lQnJlYWsodGhpcy5jdXJyZW50Q2hhcik7XHJcbiAgICB9XHJcbiAgICBza2lwTGluZUJyZWFrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50Q2hhciA9PT0gMTMgLyogQ2FycmlhZ2VSZXR1cm4gKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlTmV4dCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2hhciA9PT0gMTAgLyogTGluZUZlZWQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZU5leHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLl9jdXJyZW50Q2hhciA9PT0gMTAgLyogTGluZUZlZWQgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlTmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNraXBXaGl0ZXNwYWNlKCkge1xyXG4gICAgICAgIHdoaWxlICghdGhpcy5pc0VuZE9mU3RyZWFtKCkgJiYgdGhpcy5pc0F0V2hpdGVTcGFjZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZU5leHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBza2lwVG9Fb2woKSB7XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmlzRW5kT2ZTdHJlYW0oKSAmJiAhdGhpcy5pc0F0TGluZUJyZWFrKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlTmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNraXBUb1doaXRlc3BhY2UoKSB7XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmlzRW5kT2ZTdHJlYW0oKSAmJiAhdGhpcy5pc0F0V2hpdGVTcGFjZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZU5leHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc0F0U3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDaGFyID09PSAzOSAvKiBTaW5nbGVRdW90ZSAqLyB8fCB0aGlzLmN1cnJlbnRDaGFyID09PSAzNCAvKiBEb3VibGVRdW90ZSAqLztcclxuICAgIH1cclxuICAgIGNoYXJDb2RlQXQoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmNoYXJDb2RlQXQoaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGxlbmd0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aDtcclxuICAgIH1cclxuICAgIGNoZWNrQm91bmRzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9wb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pc0VuZE9mU3RyZWFtID0gdGhpcy5fcG9zaXRpb24gPj0gdGhpcy50ZXh0Lmxlbmd0aDtcclxuICAgICAgICBpZiAodGhpcy5faXNFbmRPZlN0cmVhbSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMudGV4dC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRDaGFyID0gdGhpcy5faXNFbmRPZlN0cmVhbSA/IDAgOiB0aGlzLnRleHQuY2hhckNvZGVBdCh0aGlzLl9wb3NpdGlvbik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5DaGFyYWN0ZXJTdHJlYW0gPSBDaGFyYWN0ZXJTdHJlYW07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXJhY3RlclN0cmVhbS5qcy5tYXAiXX0=