"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

const vscode = require("vscode");

const constants_1 = require("../../common/constants");

const testFiles_1 = require("./testFiles");

function activateCodeLenses(onDidChange, symboldProvider, testCollectionStorage) {
  const disposables = [];
  const codeLensProvider = new testFiles_1.TestFileCodeLensProvider(onDidChange, symboldProvider, testCollectionStorage);
  disposables.push(vscode.languages.registerCodeLensProvider(constants_1.PYTHON, codeLensProvider));
  return {
    dispose: () => {
      disposables.forEach(d => d.dispose());
    }
  };
}

exports.activateCodeLenses = activateCodeLenses;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ2c2NvZGUiLCJyZXF1aXJlIiwiY29uc3RhbnRzXzEiLCJ0ZXN0RmlsZXNfMSIsImFjdGl2YXRlQ29kZUxlbnNlcyIsIm9uRGlkQ2hhbmdlIiwic3ltYm9sZFByb3ZpZGVyIiwidGVzdENvbGxlY3Rpb25TdG9yYWdlIiwiZGlzcG9zYWJsZXMiLCJjb2RlTGVuc1Byb3ZpZGVyIiwiVGVzdEZpbGVDb2RlTGVuc1Byb3ZpZGVyIiwicHVzaCIsImxhbmd1YWdlcyIsInJlZ2lzdGVyQ29kZUxlbnNQcm92aWRlciIsIlBZVEhPTiIsImRpc3Bvc2UiLCJmb3JFYWNoIiwiZCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0FBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyx3QkFBRCxDQUEzQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdGLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUNBLFNBQVNHLGtCQUFULENBQTRCQyxXQUE1QixFQUF5Q0MsZUFBekMsRUFBMERDLHFCQUExRCxFQUFpRjtBQUM3RSxRQUFNQyxXQUFXLEdBQUcsRUFBcEI7QUFDQSxRQUFNQyxnQkFBZ0IsR0FBRyxJQUFJTixXQUFXLENBQUNPLHdCQUFoQixDQUF5Q0wsV0FBekMsRUFBc0RDLGVBQXRELEVBQXVFQyxxQkFBdkUsQ0FBekI7QUFDQUMsRUFBQUEsV0FBVyxDQUFDRyxJQUFaLENBQWlCWCxNQUFNLENBQUNZLFNBQVAsQ0FBaUJDLHdCQUFqQixDQUEwQ1gsV0FBVyxDQUFDWSxNQUF0RCxFQUE4REwsZ0JBQTlELENBQWpCO0FBQ0EsU0FBTztBQUNITSxJQUFBQSxPQUFPLEVBQUUsTUFBTTtBQUFFUCxNQUFBQSxXQUFXLENBQUNRLE9BQVosQ0FBb0JDLENBQUMsSUFBSUEsQ0FBQyxDQUFDRixPQUFGLEVBQXpCO0FBQXdDO0FBRHRELEdBQVA7QUFHSDs7QUFDRGpCLE9BQU8sQ0FBQ00sa0JBQVIsR0FBNkJBLGtCQUE3QiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHZzY29kZSA9IHJlcXVpcmUoXCJ2c2NvZGVcIik7XHJcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi9jb25zdGFudHNcIik7XHJcbmNvbnN0IHRlc3RGaWxlc18xID0gcmVxdWlyZShcIi4vdGVzdEZpbGVzXCIpO1xyXG5mdW5jdGlvbiBhY3RpdmF0ZUNvZGVMZW5zZXMob25EaWRDaGFuZ2UsIHN5bWJvbGRQcm92aWRlciwgdGVzdENvbGxlY3Rpb25TdG9yYWdlKSB7XHJcbiAgICBjb25zdCBkaXNwb3NhYmxlcyA9IFtdO1xyXG4gICAgY29uc3QgY29kZUxlbnNQcm92aWRlciA9IG5ldyB0ZXN0RmlsZXNfMS5UZXN0RmlsZUNvZGVMZW5zUHJvdmlkZXIob25EaWRDaGFuZ2UsIHN5bWJvbGRQcm92aWRlciwgdGVzdENvbGxlY3Rpb25TdG9yYWdlKTtcclxuICAgIGRpc3Bvc2FibGVzLnB1c2godnNjb2RlLmxhbmd1YWdlcy5yZWdpc3RlckNvZGVMZW5zUHJvdmlkZXIoY29uc3RhbnRzXzEuUFlUSE9OLCBjb2RlTGVuc1Byb3ZpZGVyKSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRpc3Bvc2U6ICgpID0+IHsgZGlzcG9zYWJsZXMuZm9yRWFjaChkID0+IGQuZGlzcG9zZSgpKTsgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmFjdGl2YXRlQ29kZUxlbnNlcyA9IGFjdGl2YXRlQ29kZUxlbnNlcztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXAiXX0=