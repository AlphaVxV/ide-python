"use strict"; // Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

var __decorate = void 0 && (void 0).__decorate || function (decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
      d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

Object.defineProperty(exports, "__esModule", {
  value: true
});

const inversify_1 = require("inversify");

const vscode_1 = require("vscode");

let WorkspaceService = class WorkspaceService {
  get onDidChangeConfiguration() {
    return vscode_1.workspace.onDidChangeConfiguration;
  }

  get rootPath() {
    return Array.isArray(vscode_1.workspace.workspaceFolders) ? vscode_1.workspace.workspaceFolders[0].uri.fsPath : undefined;
  }

  get workspaceFolders() {
    return vscode_1.workspace.workspaceFolders;
  }

  get onDidChangeWorkspaceFolders() {
    return vscode_1.workspace.onDidChangeWorkspaceFolders;
  }

  get hasWorkspaceFolders() {
    return Array.isArray(vscode_1.workspace.workspaceFolders) && vscode_1.workspace.workspaceFolders.length > 0;
  }

  getConfiguration(section, resource) {
    return vscode_1.workspace.getConfiguration(section, resource);
  }

  getWorkspaceFolder(uri) {
    return vscode_1.workspace.getWorkspaceFolder(uri);
  }

  asRelativePath(pathOrUri, includeWorkspaceFolder) {
    return vscode_1.workspace.asRelativePath(pathOrUri, includeWorkspaceFolder);
  }

  createFileSystemWatcher(globPattern, ignoreCreateEvents, ignoreChangeEvents, ignoreDeleteEvents) {
    return vscode_1.workspace.createFileSystemWatcher(globPattern, ignoreChangeEvents, ignoreChangeEvents, ignoreDeleteEvents);
  }

  findFiles(include, exclude, maxResults, token) {
    return vscode_1.workspace.findFiles(include, exclude, maxResults, token);
  }

  getWorkspaceFolderIdentifier(resource) {
    const workspaceFolder = resource ? vscode_1.workspace.getWorkspaceFolder(resource) : undefined;
    return workspaceFolder ? workspaceFolder.uri.fsPath : '';
  }

};
WorkspaceService = __decorate([inversify_1.injectable()], WorkspaceService);
exports.WorkspaceService = WorkspaceService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndvcmtzcGFjZS5qcyJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImQiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJpbnZlcnNpZnlfMSIsInJlcXVpcmUiLCJ2c2NvZGVfMSIsIldvcmtzcGFjZVNlcnZpY2UiLCJvbkRpZENoYW5nZUNvbmZpZ3VyYXRpb24iLCJ3b3Jrc3BhY2UiLCJyb290UGF0aCIsIkFycmF5IiwiaXNBcnJheSIsIndvcmtzcGFjZUZvbGRlcnMiLCJ1cmkiLCJmc1BhdGgiLCJ1bmRlZmluZWQiLCJvbkRpZENoYW5nZVdvcmtzcGFjZUZvbGRlcnMiLCJoYXNXb3Jrc3BhY2VGb2xkZXJzIiwiZ2V0Q29uZmlndXJhdGlvbiIsInNlY3Rpb24iLCJyZXNvdXJjZSIsImdldFdvcmtzcGFjZUZvbGRlciIsImFzUmVsYXRpdmVQYXRoIiwicGF0aE9yVXJpIiwiaW5jbHVkZVdvcmtzcGFjZUZvbGRlciIsImNyZWF0ZUZpbGVTeXN0ZW1XYXRjaGVyIiwiZ2xvYlBhdHRlcm4iLCJpZ25vcmVDcmVhdGVFdmVudHMiLCJpZ25vcmVDaGFuZ2VFdmVudHMiLCJpZ25vcmVEZWxldGVFdmVudHMiLCJmaW5kRmlsZXMiLCJpbmNsdWRlIiwiZXhjbHVkZSIsIm1heFJlc3VsdHMiLCJ0b2tlbiIsImdldFdvcmtzcGFjZUZvbGRlcklkZW50aWZpZXIiLCJ3b3Jrc3BhY2VGb2xkZXIiLCJpbmplY3RhYmxlIl0sIm1hcHBpbmdzIjoiQUFBQSxhLENBQ0E7QUFDQTs7QUFDQSxJQUFJQSxVQUFVLEdBQUksVUFBUSxTQUFLQSxVQUFkLElBQTZCLFVBQVVDLFVBQVYsRUFBc0JDLE1BQXRCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFB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XCI7XHJcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaW52ZXJzaWZ5XzEgPSByZXF1aXJlKFwiaW52ZXJzaWZ5XCIpO1xyXG5jb25zdCB2c2NvZGVfMSA9IHJlcXVpcmUoXCJ2c2NvZGVcIik7XHJcbmxldCBXb3Jrc3BhY2VTZXJ2aWNlID0gY2xhc3MgV29ya3NwYWNlU2VydmljZSB7XHJcbiAgICBnZXQgb25EaWRDaGFuZ2VDb25maWd1cmF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB2c2NvZGVfMS53b3Jrc3BhY2Uub25EaWRDaGFuZ2VDb25maWd1cmF0aW9uO1xyXG4gICAgfVxyXG4gICAgZ2V0IHJvb3RQYXRoKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZzY29kZV8xLndvcmtzcGFjZS53b3Jrc3BhY2VGb2xkZXJzKSA/IHZzY29kZV8xLndvcmtzcGFjZS53b3Jrc3BhY2VGb2xkZXJzWzBdLnVyaS5mc1BhdGggOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBnZXQgd29ya3NwYWNlRm9sZGVycygpIHtcclxuICAgICAgICByZXR1cm4gdnNjb2RlXzEud29ya3NwYWNlLndvcmtzcGFjZUZvbGRlcnM7XHJcbiAgICB9XHJcbiAgICBnZXQgb25EaWRDaGFuZ2VXb3Jrc3BhY2VGb2xkZXJzKCkge1xyXG4gICAgICAgIHJldHVybiB2c2NvZGVfMS53b3Jrc3BhY2Uub25EaWRDaGFuZ2VXb3Jrc3BhY2VGb2xkZXJzO1xyXG4gICAgfVxyXG4gICAgZ2V0IGhhc1dvcmtzcGFjZUZvbGRlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodnNjb2RlXzEud29ya3NwYWNlLndvcmtzcGFjZUZvbGRlcnMpICYmIHZzY29kZV8xLndvcmtzcGFjZS53b3Jrc3BhY2VGb2xkZXJzLmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcbiAgICBnZXRDb25maWd1cmF0aW9uKHNlY3Rpb24sIHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZzY29kZV8xLndvcmtzcGFjZS5nZXRDb25maWd1cmF0aW9uKHNlY3Rpb24sIHJlc291cmNlKTtcclxuICAgIH1cclxuICAgIGdldFdvcmtzcGFjZUZvbGRlcih1cmkpIHtcclxuICAgICAgICByZXR1cm4gdnNjb2RlXzEud29ya3NwYWNlLmdldFdvcmtzcGFjZUZvbGRlcih1cmkpO1xyXG4gICAgfVxyXG4gICAgYXNSZWxhdGl2ZVBhdGgocGF0aE9yVXJpLCBpbmNsdWRlV29ya3NwYWNlRm9sZGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHZzY29kZV8xLndvcmtzcGFjZS5hc1JlbGF0aXZlUGF0aChwYXRoT3JVcmksIGluY2x1ZGVXb3Jrc3BhY2VGb2xkZXIpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRmlsZVN5c3RlbVdhdGNoZXIoZ2xvYlBhdHRlcm4sIGlnbm9yZUNyZWF0ZUV2ZW50cywgaWdub3JlQ2hhbmdlRXZlbnRzLCBpZ25vcmVEZWxldGVFdmVudHMpIHtcclxuICAgICAgICByZXR1cm4gdnNjb2RlXzEud29ya3NwYWNlLmNyZWF0ZUZpbGVTeXN0ZW1XYXRjaGVyKGdsb2JQYXR0ZXJuLCBpZ25vcmVDaGFuZ2VFdmVudHMsIGlnbm9yZUNoYW5nZUV2ZW50cywgaWdub3JlRGVsZXRlRXZlbnRzKTtcclxuICAgIH1cclxuICAgIGZpbmRGaWxlcyhpbmNsdWRlLCBleGNsdWRlLCBtYXhSZXN1bHRzLCB0b2tlbikge1xyXG4gICAgICAgIHJldHVybiB2c2NvZGVfMS53b3Jrc3BhY2UuZmluZEZpbGVzKGluY2x1ZGUsIGV4Y2x1ZGUsIG1heFJlc3VsdHMsIHRva2VuKTtcclxuICAgIH1cclxuICAgIGdldFdvcmtzcGFjZUZvbGRlcklkZW50aWZpZXIocmVzb3VyY2UpIHtcclxuICAgICAgICBjb25zdCB3b3Jrc3BhY2VGb2xkZXIgPSByZXNvdXJjZSA/IHZzY29kZV8xLndvcmtzcGFjZS5nZXRXb3Jrc3BhY2VGb2xkZXIocmVzb3VyY2UpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiB3b3Jrc3BhY2VGb2xkZXIgPyB3b3Jrc3BhY2VGb2xkZXIudXJpLmZzUGF0aCA6ICcnO1xyXG4gICAgfVxyXG59O1xyXG5Xb3Jrc3BhY2VTZXJ2aWNlID0gX19kZWNvcmF0ZShbXHJcbiAgICBpbnZlcnNpZnlfMS5pbmplY3RhYmxlKClcclxuXSwgV29ya3NwYWNlU2VydmljZSk7XHJcbmV4cG9ydHMuV29ya3NwYWNlU2VydmljZSA9IFdvcmtzcGFjZVNlcnZpY2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmtzcGFjZS5qcy5tYXAiXX0=