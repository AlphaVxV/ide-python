// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function formatErrorForLogging(error) {
  let message = '';

  if (typeof error === 'string') {
    message = error;
  } else {
    if (error.message) {
      message = `Error Message: ${error.message}`;
    }

    if (error.name && error.message.indexOf(error.name) === -1) {
      message += `, (${error.name})`;
    } // tslint:disable-next-line:no-any


    const innerException = error.innerException;

    if (innerException && (innerException.message || innerException.name)) {
      if (innerException.message) {
        message += `, Inner Error Message: ${innerException.message}`;
      }

      if (innerException.name && innerException.message.indexOf(innerException.name) === -1) {
        message += `, (${innerException.name})`;
      }
    }
  }

  return message;
}

exports.formatErrorForLogging = formatErrorForLogging;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dpbmcuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJmb3JtYXRFcnJvckZvckxvZ2dpbmciLCJlcnJvciIsIm1lc3NhZ2UiLCJuYW1lIiwiaW5kZXhPZiIsImlubmVyRXhjZXB0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBQ0FBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7O0FBQ0EsU0FBU0MscUJBQVQsQ0FBK0JDLEtBQS9CLEVBQXNDO0FBQ2xDLE1BQUlDLE9BQU8sR0FBRyxFQUFkOztBQUNBLE1BQUksT0FBT0QsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUMzQkMsSUFBQUEsT0FBTyxHQUFHRCxLQUFWO0FBQ0gsR0FGRCxNQUdLO0FBQ0QsUUFBSUEsS0FBSyxDQUFDQyxPQUFWLEVBQW1CO0FBQ2ZBLE1BQUFBLE9BQU8sR0FBSSxrQkFBaUJELEtBQUssQ0FBQ0MsT0FBUSxFQUExQztBQUNIOztBQUNELFFBQUlELEtBQUssQ0FBQ0UsSUFBTixJQUFjRixLQUFLLENBQUNDLE9BQU4sQ0FBY0UsT0FBZCxDQUFzQkgsS0FBSyxDQUFDRSxJQUE1QixNQUFzQyxDQUFDLENBQXpELEVBQTREO0FBQ3hERCxNQUFBQSxPQUFPLElBQUssTUFBS0QsS0FBSyxDQUFDRSxJQUFLLEdBQTVCO0FBQ0gsS0FOQSxDQU9EOzs7QUFDQSxVQUFNRSxjQUFjLEdBQUdKLEtBQUssQ0FBQ0ksY0FBN0I7O0FBQ0EsUUFBSUEsY0FBYyxLQUFLQSxjQUFjLENBQUNILE9BQWYsSUFBMEJHLGNBQWMsQ0FBQ0YsSUFBOUMsQ0FBbEIsRUFBdUU7QUFDbkUsVUFBSUUsY0FBYyxDQUFDSCxPQUFuQixFQUE0QjtBQUN4QkEsUUFBQUEsT0FBTyxJQUFLLDBCQUF5QkcsY0FBYyxDQUFDSCxPQUFRLEVBQTVEO0FBQ0g7O0FBQ0QsVUFBSUcsY0FBYyxDQUFDRixJQUFmLElBQXVCRSxjQUFjLENBQUNILE9BQWYsQ0FBdUJFLE9BQXZCLENBQStCQyxjQUFjLENBQUNGLElBQTlDLE1BQXdELENBQUMsQ0FBcEYsRUFBdUY7QUFDbkZELFFBQUFBLE9BQU8sSUFBSyxNQUFLRyxjQUFjLENBQUNGLElBQUssR0FBckM7QUFDSDtBQUNKO0FBQ0o7O0FBQ0QsU0FBT0QsT0FBUDtBQUNIOztBQUNESixPQUFPLENBQUNFLHFCQUFSLEdBQWdDQSxxQkFBaEMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4ndXNlIHN0cmljdCc7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZnVuY3Rpb24gZm9ybWF0RXJyb3JGb3JMb2dnaW5nKGVycm9yKSB7XHJcbiAgICBsZXQgbWVzc2FnZSA9ICcnO1xyXG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBtZXNzYWdlID0gZXJyb3I7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gYEVycm9yIE1lc3NhZ2U6ICR7ZXJyb3IubWVzc2FnZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXJyb3IubmFtZSAmJiBlcnJvci5tZXNzYWdlLmluZGV4T2YoZXJyb3IubmFtZSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gYCwgKCR7ZXJyb3IubmFtZX0pYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxyXG4gICAgICAgIGNvbnN0IGlubmVyRXhjZXB0aW9uID0gZXJyb3IuaW5uZXJFeGNlcHRpb247XHJcbiAgICAgICAgaWYgKGlubmVyRXhjZXB0aW9uICYmIChpbm5lckV4Y2VwdGlvbi5tZXNzYWdlIHx8IGlubmVyRXhjZXB0aW9uLm5hbWUpKSB7XHJcbiAgICAgICAgICAgIGlmIChpbm5lckV4Y2VwdGlvbi5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGAsIElubmVyIEVycm9yIE1lc3NhZ2U6ICR7aW5uZXJFeGNlcHRpb24ubWVzc2FnZX1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbm5lckV4Y2VwdGlvbi5uYW1lICYmIGlubmVyRXhjZXB0aW9uLm1lc3NhZ2UuaW5kZXhPZihpbm5lckV4Y2VwdGlvbi5uYW1lKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYCwgKCR7aW5uZXJFeGNlcHRpb24ubmFtZX0pYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtZXNzYWdlO1xyXG59XHJcbmV4cG9ydHMuZm9ybWF0RXJyb3JGb3JMb2dnaW5nID0gZm9ybWF0RXJyb3JGb3JMb2dnaW5nO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnaW5nLmpzLm1hcCJdfQ==